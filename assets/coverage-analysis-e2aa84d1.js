import{s as e,W as a,R as l,m as t,f as s,E as i,t as o,h as d}from"./icons-15893848.js";import{m as n,E as r,P as u,b as c,g as v,e as p,M as m}from"./antd-fa5730cf.js";import{d as g,f,r as y,o as h,V as _,W as x,a0 as b,k,$ as w,X as z,u as C,G as A,a3 as N,F as I,a1 as D,a8 as U,a9 as j,_ as q,a7 as $}from"./vendor-f41c3cc7.js";import{_ as P}from"./index-6bb65380.js";const O={class:"coverage-analysis"},E={class:"coverage-overview"},F={class:"coverage-trend"},R={class:"coverage-trend"},W={class:"coverage-trend"},G={class:"coverage-trend"},L={class:"analysis-content"},M={class:"coverage-map"},S={class:"map-header"},V={class:"map-content"},X={class:"water-area"},B={class:"coverage-grid"},H=["onClick"],J={class:"cell-coverage"},K={class:"marker-icon"},Q={class:"marker-label"},T={class:"blind-label"},Y={class:"coverage-stats"},Z={class:"blind-area-analysis"},ee={class:"blind-list"},ae={class:"blind-header"},le={class:"blind-name"},te={class:"blind-priority"},se={class:"blind-info"},ie={class:"blind-size"},oe={class:"blind-location"},de={class:"blind-suggestions"},ne={class:"suggestion-content"},re={class:"optimization-suggestions"},ue={class:"suggestion-list"},ce={class:"suggestion-icon"},ve={class:"suggestion-content"},pe={class:"suggestion-title"},me={class:"suggestion-desc"},ge={class:"suggestion-impact"},fe={class:"layout-optimization"},ye={key:0,class:"plan-info"},he={class:"plan-name"},_e={class:"plan-target"},xe={key:2,class:"improvement-info"},be={class:"improvement-value"},ke={key:3,class:"cost-info"},we={class:"cost-value"},ze=P(g({__name:"coverage-analysis",setup(g){const P=f("area1"),ze=f("camera"),Ce=y({visible:!1}),Ae=y({planName:"",targetArea:"",type:"addDevice",expectedImprovement:10,cost:0,implementation:"",notes:""}),Ne={planName:[{required:!0,message:"请输入方案名称",trigger:"blur"}],targetArea:[{required:!0,message:"请选择目标区域",trigger:"change"}],type:[{required:!0,message:"请选择优化类型",trigger:"change"}],expectedImprovement:[{required:!0,message:"请输入预期提升",trigger:"blur"}],cost:[{required:!0,message:"请输入预估成本",trigger:"blur"}],implementation:[{required:!0,message:"请输入实施方案",trigger:"blur"}]},Ie=y({totalCoverage:89.3,blindArea:2840,overlapArea:1560,suggestedDevices:5}),De=y({highCoverage:47.8,mediumCoverage:31.2,lowCoverage:10.7,blindArea:10.3}),Ue=f([{x:12,y:8,size:10,level:"high",coverage:94.2},{x:25,y:18,size:9,level:"high",coverage:91.7},{x:38,y:22,size:8,level:"medium",coverage:76.3},{x:52,y:28,size:7,level:"medium",coverage:67.8},{x:65,y:35,size:8,level:"low",coverage:43.5},{x:78,y:42,size:9,level:"blind",coverage:0},{x:85,y:38,size:8,level:"high",coverage:89.1},{x:92,y:45,size:7,level:"medium",coverage:71.4},{x:15,y:55,size:8,level:"low",coverage:38.9},{x:32,y:62,size:9,level:"medium",coverage:65.2},{x:48,y:68,size:8,level:"high",coverage:87.6},{x:72,y:72,size:7,level:"blind",coverage:0}]),je=f([{id:"1",name:"济宁港主码头-高清监控01",type:"camera",x:18,y:10},{id:"2",name:"济宁港主码头-高清监控02",type:"camera",x:38,y:20},{id:"3",name:"济宁港航道-潮汐传感器01",type:"sensor",x:58,y:30},{id:"4",name:"济宁港主码头-高清监控03",type:"camera",x:78,y:40},{id:"5",name:"济宁港锚地-气象传感器01",type:"sensor",x:20,y:58},{id:"6",name:"济宁港散货码头-高清监控01",type:"camera",x:45,y:65},{id:"7",name:"济宁港控制中心-监控01",type:"camera",x:88,y:35}]),qe=f([{id:"1",x:78,y:42,width:9,height:9,area:81,location:"济宁港航道中心线附近",priority:"high",suggestion:"建议在航道中心线新增一台高清摄像头，提升航道安全监控覆盖率，消除监控盲区"},{id:"2",x:72,y:72,width:7,height:7,area:49,location:"济宁港锚地边缘区域",priority:"medium",suggestion:"可考虑调整现有摄像头角度，或新增小型监控设备，提升锚地安全监控"},{id:"3",x:15,y:55,width:8,height:8,area:64,location:"济宁港散货码头西侧",priority:"low",suggestion:"建议新增环境监测传感器，完善散货码头环境监控网络"}]),$e=f([{id:"1",title:"济宁港航道监控优化",description:"在航道中心线新增高清摄像头，消除监控盲区，提升航道安全监控覆盖率",improvement:12.8},{id:"2",title:"济宁港主码头设备角度调整",description:"优化现有摄像头安装角度，扩大监控范围，减少重叠覆盖",improvement:7.3},{id:"3",title:"济宁港锚地传感器网络完善",description:"增加环境监测传感器，提升综合监控能力，完善锚地安全监控",improvement:9.6},{id:"4",title:"济宁港散货码头监控补盲",description:"新增环境监测传感器，完善散货码头环境监控网络",improvement:6.2}]),Pe=f([{id:"1",planName:"济宁港航道监控补盲方案",targetArea:"area3",type:"addDevice",expectedImprovement:12.8,cost:68e3,implementation:"在航道中心线安装2台高清摄像头，配置云台控制，提升航道安全监控覆盖率",notes:"优先实施，消除航道监控盲区，提升安全监控能力",status:"approved"},{id:"2",planName:"济宁港主码头监控优化",targetArea:"area1",type:"adjustPosition",expectedImprovement:7.3,cost:12e3,implementation:"调整现有摄像头安装位置和角度，扩大覆盖范围，减少重叠覆盖",notes:"成本较低，可快速实施，优化监控布局",status:"draft"},{id:"3",planName:"济宁港锚地传感器网络完善",targetArea:"area4",type:"addDevice",expectedImprovement:9.6,cost:45e3,implementation:"新增环境监测传感器，完善锚地安全监控网络",notes:"提升锚地环境监测能力，保障船舶安全",status:"draft"}]),Oe=[{title:"方案信息",key:"planName",width:200},{title:"优化类型",key:"type",width:120},{title:"预期提升",key:"expectedImprovement",width:120},{title:"预估成本",key:"cost",width:120},{title:"操作",key:"action",width:200,fixed:"right"}],Ee=e=>({high:"高",medium:"中",low:"低"}[e]||e),Fe=e=>({addDevice:"新增设备",adjustPosition:"调整位置",upgradeDevice:"设备升级",optimizeAngle:"优化角度"}[e]||e),Re=()=>{console.log("区域切换到:",P.value)},We=()=>{console.log("覆盖类型切换到:",ze.value)},Ge=()=>{n.success("覆盖地图已刷新")},Le=()=>{n.success("分析报告导出成功")},Me=()=>{Ce.visible=!0,Be()},Se=()=>{n.loading("正在模拟优化效果...",2).then(()=>{n.success("优化模拟完成，预期覆盖率提升至94.7%")})},Ve=()=>{n.success("优化方案添加成功"),Ce.visible=!1,Be()},Xe=()=>{Ce.visible=!1,Be()},Be=()=>{Object.assign(Ae,{planName:"",targetArea:"",type:"addDevice",expectedImprovement:10,cost:0,implementation:"",notes:""})};return h(()=>{console.log("覆盖分析页面已加载")}),(g,f)=>{const y=z("a-statistic"),h=z("a-card"),Be=z("a-col"),He=z("a-row"),Je=z("a-select-option"),Ke=z("a-select"),Qe=z("a-button"),Te=z("a-space"),Ye=z("a-tag"),Ze=z("a-table"),ea=z("a-input"),aa=z("a-form-item"),la=z("a-input-number"),ta=z("a-textarea"),sa=z("a-form"),ia=z("a-modal");return _(),x("div",O,[f[45]||(f[45]=b("div",{class:"page-header"},[b("h2",null,"覆盖分析"),b("p",null,"智能分析监控盲区，优化设备布局，提升监控覆盖率")],-1)),b("div",E,[k(He,{gutter:16},{default:w(()=>[k(Be,{span:6},{default:w(()=>[k(h,{class:"overview-card"},{default:w(()=>[k(y,{title:"总体覆盖率",value:Ie.totalCoverage,suffix:"%","value-style":{color:"#52c41a"}},{suffix:w(()=>[...f[10]||(f[10]=[b("span",{style:{color:"#52c41a"}},"%",-1)])]),_:1},8,["value"]),b("div",F,[k(C(e),{style:{color:"#52c41a"}}),f[11]||(f[11]=b("span",null,"良好",-1))])]),_:1})]),_:1}),k(Be,{span:6},{default:w(()=>[k(h,{class:"overview-card"},{default:w(()=>[k(y,{title:"监控盲区面积",value:Ie.blindArea,suffix:"㎡","value-style":{color:"#ff4d4f"}},null,8,["value"]),b("div",R,[k(C(r),{style:{color:"#ff4d4f"}}),f[12]||(f[12]=b("span",null,"需关注",-1))])]),_:1})]),_:1}),k(Be,{span:6},{default:w(()=>[k(h,{class:"overview-card"},{default:w(()=>[k(y,{title:"重叠覆盖面积",value:Ie.overlapArea,suffix:"㎡","value-style":{color:"#faad14"}},null,8,["value"]),b("div",W,[k(C(a),{style:{color:"#faad14"}}),f[13]||(f[13]=b("span",null,"可优化",-1))])]),_:1})]),_:1}),k(Be,{span:6},{default:w(()=>[k(h,{class:"overview-card"},{default:w(()=>[k(y,{title:"建议新增设备",value:Ie.suggestedDevices,suffix:"台","value-style":{color:"#1890ff"}},null,8,["value"]),b("div",G,[k(C(u),{style:{color:"#1890ff"}}),f[14]||(f[14]=b("span",null,"建议",-1))])]),_:1})]),_:1})]),_:1})]),b("div",L,[k(He,{gutter:16},{default:w(()=>[k(Be,{span:16},{default:w(()=>[k(h,{title:"覆盖热力图分析",class:"analysis-card"},{extra:w(()=>[k(Te,null,{default:w(()=>[k(Ke,{value:P.value,"onUpdate:value":f[0]||(f[0]=e=>P.value=e),placeholder:"选择区域",style:{width:"120px"},onChange:Re},{default:w(()=>[k(Je,{value:"area1"},{default:w(()=>[...f[15]||(f[15]=[A("济宁港主码头",-1)])]),_:1}),k(Je,{value:"area2"},{default:w(()=>[...f[16]||(f[16]=[A("济宁港散货码头",-1)])]),_:1}),k(Je,{value:"area3"},{default:w(()=>[...f[17]||(f[17]=[A("济宁港航道区",-1)])]),_:1}),k(Je,{value:"area4"},{default:w(()=>[...f[18]||(f[18]=[A("济宁港锚地区",-1)])]),_:1})]),_:1},8,["value"]),k(Ke,{value:ze.value,"onUpdate:value":f[1]||(f[1]=e=>ze.value=e),placeholder:"覆盖类型",style:{width:"120px"},onChange:We},{default:w(()=>[k(Je,{value:"camera"},{default:w(()=>[...f[19]||(f[19]=[A("摄像头覆盖",-1)])]),_:1}),k(Je,{value:"sensor"},{default:w(()=>[...f[20]||(f[20]=[A("传感器覆盖",-1)])]),_:1}),k(Je,{value:"comprehensive"},{default:w(()=>[...f[21]||(f[21]=[A("综合覆盖",-1)])]),_:1})]),_:1},8,["value"]),k(Qe,{type:"primary",onClick:Ge},{default:w(()=>[k(C(l)),f[22]||(f[22]=A(" 刷新 ",-1))]),_:1})]),_:1})]),default:w(()=>{return[b("div",M,[b("div",S,[b("h4",null,N((a=P.value,{area1:"济宁港主码头",area2:"济宁港散货码头",area3:"济宁港航道区",area4:"济宁港锚地区"}[a]||a))+" - "+N((e=ze.value,{camera:"摄像头",sensor:"传感器",comprehensive:"综合"}[e]||e))+"覆盖分析",1),f[23]||(f[23]=b("div",{class:"map-legend"},[b("div",{class:"legend-item"},[b("div",{class:"legend-color high"}),b("span",null,"高覆盖")]),b("div",{class:"legend-item"},[b("div",{class:"legend-color medium"}),b("span",null,"中覆盖")]),b("div",{class:"legend-item"},[b("div",{class:"legend-color low"}),b("span",null,"低覆盖")]),b("div",{class:"legend-item"},[b("div",{class:"legend-color blind"}),b("span",null,"盲区")])],-1))]),b("div",V,[b("div",X,[f[24]||(f[24]=b("div",{class:"water-text"},"水域区域",-1)),b("div",B,[(_(!0),x(I,null,D(Ue.value,(e,a)=>(_(),x("div",{key:a,class:U(["coverage-cell",`coverage-${e.level}`]),style:j({left:e.x+"%",top:e.y+"%",width:e.size+"%",height:e.size+"%"}),onClick:a=>(e=>{n.info(`选中覆盖单元: ${e.coverage}% 覆盖率`)})(e)},[b("div",J,N(e.coverage)+"%",1)],14,H))),128))]),(_(!0),x(I,null,D(je.value,e=>(_(),x("div",{key:e.id,class:"device-marker",style:j({left:e.x+"%",top:e.y+"%"})},[b("div",K,["camera"===e.type?(_(),q(C(t),{key:0})):(_(),q(C(s),{key:1}))]),b("div",Q,N(e.name),1)],4))),128)),(_(!0),x(I,null,D(qe.value,e=>(_(),x("div",{key:e.id,class:"blind-area-marker",style:j({left:e.x+"%",top:e.y+"%",width:e.width+"%",height:e.height+"%"})},[b("div",T,"盲区"+N(e.id),1)],4))),128))])])])];var e,a}),_:1})]),_:1}),k(Be,{span:8},{default:w(()=>[k(h,{title:"分析结果",class:"result-card"},{extra:w(()=>[k(Qe,{size:"small",onClick:Le},{default:w(()=>[k(C(i)),f[25]||(f[25]=A(" 导出报告 ",-1))]),_:1})]),default:w(()=>[b("div",Y,[f[26]||(f[26]=b("h4",null,"覆盖统计",-1)),k(He,{gutter:16},{default:w(()=>[k(Be,{span:12},{default:w(()=>[k(y,{title:"高覆盖区域",value:De.highCoverage,suffix:"%"},null,8,["value"])]),_:1}),k(Be,{span:12},{default:w(()=>[k(y,{title:"中覆盖区域",value:De.mediumCoverage,suffix:"%"},null,8,["value"])]),_:1})]),_:1}),k(He,{gutter:16},{default:w(()=>[k(Be,{span:12},{default:w(()=>[k(y,{title:"低覆盖区域",value:De.lowCoverage,suffix:"%"},null,8,["value"])]),_:1}),k(Be,{span:12},{default:w(()=>[k(y,{title:"盲区面积",value:De.blindArea,suffix:"㎡"},null,8,["value"])]),_:1})]),_:1})]),b("div",Z,[f[28]||(f[28]=b("h4",null,"盲区分析",-1)),b("div",ee,[(_(!0),x(I,null,D(qe.value,e=>{return _(),x("div",{key:e.id,class:"blind-item"},[b("div",ae,[b("div",le,"盲区"+N(e.id),1),b("div",te,[k(Ye,{color:(a=e.priority,{high:"red",medium:"orange",low:"green"}[a]||"default")},{default:w(()=>[A(N(Ee(e.priority)),1)]),_:2},1032,["color"])])]),b("div",se,[b("div",ie,"面积: "+N(e.area)+"㎡",1),b("div",oe,"位置: "+N(e.location),1)]),b("div",de,[f[27]||(f[27]=b("div",{class:"suggestion-title"},"建议解决方案:",-1)),b("div",ne,N(e.suggestion),1)])]);var a}),128))])]),b("div",re,[f[29]||(f[29]=b("h4",null,"优化建议",-1)),b("div",ue,[(_(!0),x(I,null,D($e.value,e=>(_(),x("div",{key:e.id,class:"suggestion-item"},[b("div",ce,[k(C(o),{style:{color:"#1890ff"}})]),b("div",ve,[b("div",pe,N(e.title),1),b("div",me,N(e.description),1),b("div",ge," 预期提升: "+N(e.improvement)+"% ",1)])]))),128))])])]),_:1})]),_:1})]),_:1})]),b("div",fe,[k(h,{title:"设备布局优化建议",class:"optimization-card"},{extra:w(()=>[k(Te,null,{default:w(()=>[k(Qe,{type:"primary",onClick:Me},{default:w(()=>[k(C(u)),f[30]||(f[30]=A(" 添加优化方案 ",-1))]),_:1}),k(Qe,{onClick:Se},{default:w(()=>[k(C(d)),f[31]||(f[31]=A(" 模拟优化 ",-1))]),_:1})]),_:1})]),default:w(()=>[k(Ze,{columns:Oe,"data-source":Pe.value,pagination:!1,"row-key":"id",size:"small"},{bodyCell:w(({column:e,record:a})=>{return["planName"===e.key?(_(),x("div",ye,[b("div",he,N(a.planName),1),b("div",_e,"目标区域: "+N(a.targetArea),1)])):"type"===e.key?(_(),q(Ye,{key:1,color:(l=a.type,{addDevice:"blue",adjustPosition:"green",upgradeDevice:"orange",optimizeAngle:"purple"}[l]||"default")},{default:w(()=>[A(N(Fe(a.type)),1)]),_:2},1032,["color"])):"expectedImprovement"===e.key?(_(),x("div",xe,[b("div",be,N(a.expectedImprovement)+"%",1),f[32]||(f[32]=b("div",{class:"improvement-label"},"覆盖率提升",-1))])):"cost"===e.key?(_(),x("div",ke,[b("div",we,"¥"+N(a.cost.toLocaleString()),1),f[33]||(f[33]=b("div",{class:"cost-label"},"预估成本",-1))])):"action"===e.key?(_(),q(Te,{key:4},{default:w(()=>[k(Qe,{type:"link",size:"small",onClick:e=>{return l=a,void n.info(`查看方案: ${l.planName}`);var l}},{default:w(()=>[k(C(c)),f[34]||(f[34]=A(" 查看 ",-1))]),_:2},1032,["onClick"]),k(Qe,{type:"link",size:"small",onClick:e=>{return l=a,void n.info(`编辑方案: ${l.planName}`);var l}},{default:w(()=>[k(C(v)),f[35]||(f[35]=A(" 编辑 ",-1))]),_:2},1032,["onClick"]),k(Qe,{type:"link",size:"small",onClick:e=>{return l=a,void m.confirm({title:"确认删除",content:`确定要删除优化方案"${l.planName}"吗？`,onOk:()=>{n.success("优化方案删除成功")}});var l}},{default:w(()=>[k(C(p)),f[36]||(f[36]=A(" 删除 ",-1))]),_:2},1032,["onClick"])]),_:2},1024)):$("",!0)];var l}),_:1},8,["data-source"])]),_:1})]),k(ia,{open:Ce.visible,"onUpdate:open":f[9]||(f[9]=e=>Ce.visible=e),title:"添加优化方案",width:"700px",onOk:Ve,onCancel:Xe},{default:w(()=>[k(sa,{ref:"optimizationFormRef",model:Ae,rules:Ne,"label-col":{span:6},"wrapper-col":{span:18}},{default:w(()=>[k(aa,{label:"方案名称",name:"planName"},{default:w(()=>[k(ea,{value:Ae.planName,"onUpdate:value":f[2]||(f[2]=e=>Ae.planName=e),placeholder:"请输入方案名称"},null,8,["value"])]),_:1}),k(aa,{label:"目标区域",name:"targetArea"},{default:w(()=>[k(Ke,{value:Ae.targetArea,"onUpdate:value":f[3]||(f[3]=e=>Ae.targetArea=e),placeholder:"请选择目标区域"},{default:w(()=>[k(Je,{value:"area1"},{default:w(()=>[...f[37]||(f[37]=[A("济宁港主码头",-1)])]),_:1}),k(Je,{value:"area2"},{default:w(()=>[...f[38]||(f[38]=[A("济宁港散货码头",-1)])]),_:1}),k(Je,{value:"area3"},{default:w(()=>[...f[39]||(f[39]=[A("济宁港航道区",-1)])]),_:1}),k(Je,{value:"area4"},{default:w(()=>[...f[40]||(f[40]=[A("济宁港锚地区",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),k(aa,{label:"优化类型",name:"type"},{default:w(()=>[k(Ke,{value:Ae.type,"onUpdate:value":f[4]||(f[4]=e=>Ae.type=e),placeholder:"请选择优化类型"},{default:w(()=>[k(Je,{value:"addDevice"},{default:w(()=>[...f[41]||(f[41]=[A("新增设备",-1)])]),_:1}),k(Je,{value:"adjustPosition"},{default:w(()=>[...f[42]||(f[42]=[A("调整位置",-1)])]),_:1}),k(Je,{value:"upgradeDevice"},{default:w(()=>[...f[43]||(f[43]=[A("设备升级",-1)])]),_:1}),k(Je,{value:"optimizeAngle"},{default:w(()=>[...f[44]||(f[44]=[A("优化角度",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),k(aa,{label:"预期提升",name:"expectedImprovement"},{default:w(()=>[k(la,{value:Ae.expectedImprovement,"onUpdate:value":f[5]||(f[5]=e=>Ae.expectedImprovement=e),min:1,max:100,placeholder:"预期覆盖率提升(%)",style:{width:"100%"}},null,8,["value"])]),_:1}),k(aa,{label:"预估成本",name:"cost"},{default:w(()=>[k(la,{value:Ae.cost,"onUpdate:value":f[6]||(f[6]=e=>Ae.cost=e),min:0,step:100,placeholder:"预估成本(元)",style:{width:"100%"}},null,8,["value"])]),_:1}),k(aa,{label:"实施方案",name:"implementation"},{default:w(()=>[k(ta,{value:Ae.implementation,"onUpdate:value":f[7]||(f[7]=e=>Ae.implementation=e),placeholder:"请描述具体的实施方案",rows:4},null,8,["value"])]),_:1}),k(aa,{label:"备注",name:"notes"},{default:w(()=>[k(ta,{value:Ae.notes,"onUpdate:value":f[8]||(f[8]=e=>Ae.notes=e),placeholder:"请输入备注信息",rows:2},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])])}}}),[["__scopeId","data-v-053130e8"]]);export{ze as default};
