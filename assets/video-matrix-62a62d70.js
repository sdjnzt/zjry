import{d as e,f as a,c as l,o as s,V as t,W as i,a0 as n,k as o,u,a3 as c,$ as d,a8 as v,F as r,a1 as p,X as m,G as f,a9 as y,B as g,_ as k,a7 as h}from"./vendor-f41c3cc7.js";import{V as _,i as w,S as C,C as b,h as x,j as z,R as U,k as A,E as R,D as P,F as S,l as I,m as L,n as D}from"./icons-15893848.js";import{P as j,b as O,U as $,c as E,R as T,D as K,Z as Q,d as B,e as F}from"./antd-fa5730cf.js";import{_ as G}from"./index-1266e345.js";const V={class:"video-matrix-container"},q={class:"top-navbar"},J={class:"nav-left"},N={class:"page-title"},W={class:"nav-right"},X={class:"status-summary"},Z={class:"status-item recording"},H={class:"nav-actions"},M={class:"main-content"},Y={class:"left-panel"},ee={class:"tab-content"},ae={class:"panel-section"},le={class:"section-title"},se={class:"layout-grid"},te=["onClick"],ie={class:"layout-name"},ne={class:"tab-content"},oe={class:"panel-section"},ue={class:"section-title"},ce={class:"control-buttons"},de={class:"panel-section"},ve={class:"section-title"},re={class:"setting-list"},pe={class:"setting-item"},me={class:"setting-item"},fe={class:"setting-item"},ye={class:"tab-content"},ge={class:"panel-section"},ke={class:"section-title"},he={class:"camera-list-mini"},_e=["onClick"],we={class:"camera-avatar-mini"},Ce={class:"camera-info-mini"},be={class:"camera-name-mini"},xe={class:"camera-status-mini"},ze={class:"camera-actions-mini"},Ue={key:0,class:"no-cameras"},Ae={class:"panel-section"},Re={class:"section-title"},Pe={class:"quick-actions-mini"},Se={class:"tab-content"},Ie={class:"panel-section"},Le={class:"section-title"},De={class:"setting-list"},je={class:"setting-item"},Oe={class:"setting-item"},$e={class:"setting-item"},Ee={class:"panel-section"},Te={class:"section-title"},Ke={class:"setting-list"},Qe={class:"setting-item"},Be={class:"setting-item"},Fe={class:"center-matrix"},Ge={class:"matrix-header"},Ve={class:"matrix-info"},qe={class:"camera-count"},Je={class:"matrix-actions"},Ne=["onClick","onDblclick","onContextmenu"],We={class:"cell-header"},Xe={class:"camera-name"},Ze={class:"camera-status"},He={class:"cell-content"},Me={key:0,class:"video-player"},Ye={class:"video-placeholder"},ea={class:"video-text"},aa={class:"video-location"},la={key:0,class:"status-indicators"},sa={key:0,class:"recording-indicator"},ta={key:1,class:"alarm-indicator"},ia={key:1,class:"video-paused"},na={key:2,class:"video-empty"},oa={class:"cell-footer"},ua={class:"camera-details"},ca={class:"camera-ip"},da={class:"cell-controls"},va={class:"layout-selector"},ra={class:"layout-grid-large"},pa=["onClick"],ma={class:"layout-info-large"},fa={class:"layout-name-large"},ya={class:"layout-desc-large"},ga={class:"layout-features"},ka={class:"feature-tag"},ha={class:"feature-tag"},_a={class:"camera-manager"},wa={class:"search-filters"},Ca={class:"camera-list"},ba=["onClick"],xa={class:"camera-avatar"},za={class:"camera-details"},Ua={class:"camera-name"},Aa={class:"camera-location"},Ra={class:"camera-specs"},Pa={class:"spec-item"},Sa={class:"spec-item"},Ia={class:"spec-item"},La={class:"camera-actions"},Da={class:"ptz-control-panel"},ja={class:"camera-info-header"},Oa={class:"ptz-controls"},$a={class:"speed-control"},Ea={class:"direction-controls"},Ta={class:"ptz-row"},Ka={class:"ptz-row"},Qa={class:"ptz-row"},Ba={class:"zoom-controls"},Fa={class:"zoom-buttons"},Ga={class:"preset-controls"},Va={class:"preset-buttons"},qa=G(e({__name:"video-matrix",setup(e){const G=a("4"),qa=a(!1),Ja=a(!1),Na=a(!1),Wa=a(!1),Xa=a(4),Za=a(""),Ha=a(""),Ma=a(""),Ya=a(-1),el=a(null),al=a(null),ll=a(!1),sl=a(!1),tl=a(!1),il=a({showInfo:!0,showGrid:!1,showTime:!0,autoRotate:!1,showStatusIndicators:!0,showCameraDetails:!0}),nl=a({loop:!1,mute:!1}),ol=a({theme:"light",language:"zh",autoSave:!0,videoQuality:"high",frameRate:"30"}),ul=a([{value:"1",name:"单屏",cells:1,description:"显示一个摄像头画面",recommended:!1},{value:"4",name:"2×2",cells:4,description:"显示四个摄像头画面",recommended:!0},{value:"9",name:"3×3",cells:9,description:"显示九个摄像头画面",recommended:!1},{value:"16",name:"4×4",cells:16,description:"显示十六个摄像头画面",recommended:!1},{value:"custom",name:"自定义",cells:0,description:"自定义分屏布局",recommended:!1}]),cl=a([]),dl=a([{id:1,name:"码头1号",location:"码头前沿",ip:"192.168.1.101",resolution:"1080P",fps:"25",status:"online",lastUpdate:"2025-08-26 14:30:25"},{id:2,name:"码头2号",location:"码头前沿",ip:"192.168.1.102",resolution:"1080P",fps:"25",status:"online",lastUpdate:"2025-08-26 14:30:22"},{id:3,name:"航道1号",location:"主航道",ip:"192.168.1.103",resolution:"4K",fps:"30",status:"offline",lastUpdate:"2025-08-26 14:25:18"},{id:4,name:"锚地1号",location:"锚地区域",ip:"192.168.1.104",resolution:"1080P",fps:"25",status:"online",lastUpdate:"2025-08-26 14:30:28"},{id:5,name:"航道2号",location:"主航道",ip:"192.168.1.105",resolution:"4K",fps:"30",status:"online",lastUpdate:"2025-08-26 14:30:20"},{id:6,name:"码头3号",location:"码头前沿",ip:"192.168.1.106",resolution:"1080P",fps:"25",status:"online",lastUpdate:"2025-08-26 14:30:15"}]),vl=a(!1),rl=a(-1),pl=a(""),ml=[{title:"名称",dataIndex:"name",key:"name",width:160},{title:"位置",dataIndex:"location",key:"location",width:120},{title:"IP",dataIndex:"ip",key:"ip",width:140},{title:"状态",dataIndex:"status",key:"status",width:90},{title:"操作",key:"action",width:80,fixed:"right"}],fl=l(()=>{const e=pl.value.trim().toLowerCase();let a=dl.value;return e&&(a=a.filter(a=>a.name.toLowerCase().includes(e)||a.ip.toLowerCase().includes(e)||a.location.toLowerCase().includes(e))),a}),yl=e=>{rl.value=e,vl.value=!0},gl=a(!1),kl=a("layout"),hl=l(()=>{let e=dl.value;return Za.value&&(e=e.filter(e=>e.name.includes(Za.value)||e.ip.includes(Za.value))),Ha.value&&(e=e.filter(e=>e.status===Ha.value)),Ma.value&&(e=e.filter(e=>e.location===Ma.value)),e});l(()=>cl.value.filter(e=>"online"===e.statusClass).length),l(()=>cl.value.filter(e=>"offline"===e.statusClass).length);const _l=l(()=>cl.value.filter(e=>e.isRecording).length),wl=l(()=>cl.value.filter(e=>e.isActive).length),Cl=e=>{if(G.value=e,"custom"===e)qa.value=!0;else{const a=parseInt(e);cl.value=[];for(let e=0;e<a;e++)cl.value.push({id:e+1,name:`摄像头${e+1}`,isActive:!1,isPlaying:!1,status:"未配置",statusClass:"offline",location:"未配置",ip:"未配置",lastUpdate:(new Date).toLocaleString(),resolution:"",fps:"",isRecording:!1,hasAlarm:!1})}},bl=async()=>{ll.value=!0;try{await new Promise(e=>setTimeout(e,1e3)),cl.value.forEach(e=>{e.isActive&&(e.isPlaying=!0)})}finally{ll.value=!1}},xl=async()=>{sl.value=!0;try{await new Promise(e=>setTimeout(e,500)),cl.value.forEach(e=>{e.isPlaying=!1})}finally{sl.value=!1}},zl=e=>{if(e<0||e>=cl.value.length)return;const a=cl.value[e];a.isActive?a.isPlaying=!a.isPlaying:Ja.value=!0},Ul=e=>{e>=0&&e<cl.value.length&&(el.value=cl.value[e],Na.value=!0)},Al=e=>cl.value.some(a=>a.id===e&&a.isActive),Rl=e=>{e>=0&&e<cl.value.length&&(Ya.value=e)},Pl=e=>{if(e<0||e>=cl.value.length)return;const a=cl.value[e];a&&a.isActive&&(al.value={...a,index:e},Wa.value=!0)},Sl=async()=>{tl.value=!0;try{await new Promise(e=>setTimeout(e,1500)),cl.value.forEach(e=>{e.isActive&&(e.lastUpdate=(new Date).toLocaleString())})}finally{tl.value=!1}},Il=()=>{const e={currentLayout:G.value,cells:cl.value,displaySettings:il.value,timestamp:(new Date).toISOString()},a=JSON.stringify(e,null,2),l=new Blob([a],{type:"application/json"}),s=URL.createObjectURL(l),t=document.createElement("a");t.href=s,t.download=`video-matrix-layout-${(new Date).toISOString().split("T")[0]}.json`,t.click(),URL.revokeObjectURL(s)},Ll=()=>{Wa.value=!0},Dl=(e,a)=>{const l=[];return e.isActive&&l.push("active"),e.isPlaying&&l.push("playing"),"offline"===e.statusClass&&l.push("offline"),Ya.value===a&&l.push("selected"),e.isRecording&&l.push("recording"),e.hasAlarm&&l.push("alarm"),l.join(" ")},jl=()=>{const e=ul.value.find(e=>e.value===G.value);return e?e.name:"未知布局"},Ol=e=>"在线"===e?"success":"离线"===e||"报警"===e?"error":"录制中"===e?"warning":"default",$l=e=>"在线"===e?"在线":"离线"===e?"离线":"报警"===e?"报警":"录制中"===e?"录制中":e,El=()=>cl.value[Ya.value],Tl=e=>{e&&el.value&&console.log("云台控制:",e,"速度:",Xa.value,"摄像头:",el.value.name)},Kl=e=>{const a=e.key;"play"===a||"pause"===a?zl(Ya.value):"fullscreen"===a?Pl(Ya.value):"ptz"===a?Ul(Ya.value):"snapshot"===a?Ya.value>=0&&console.log("截图:",cl.value[Ya.value].name):"record"===a?Ya.value>=0&&(cl.value[Ya.value].isRecording=!0,setTimeout(()=>{cl.value[Ya.value].isRecording=!1},5e3)):"stopRecord"===a?Ya.value>=0&&(cl.value[Ya.value].isRecording=!1):"remove"===a&&(cl.value[Ya.value].isActive=!1,cl.value[Ya.value].isPlaying=!1,cl.value[Ya.value].status="已移除",cl.value[Ya.value].statusClass="offline",cl.value[Ya.value].location="已移除",cl.value[Ya.value].ip="已移除",cl.value[Ya.value].lastUpdate=(new Date).toLocaleString(),Ya.value=-1),gl.value=!1};return s(()=>{console.log("视频矩阵组件已挂载"),Cl("4")}),(e,a)=>{const l=m("a-button"),s=m("a-tab-pane"),Wa=m("a-switch"),el=m("a-avatar"),al=m("a-tag"),dl=m("a-select-option"),Ql=m("a-select"),Bl=m("a-tabs"),Fl=m("a-badge"),Gl=m("a-modal"),Vl=m("a-input-search"),ql=m("a-table"),Jl=m("a-slider"),Nl=m("a-menu-item"),Wl=m("a-menu"),Xl=m("a-dropdown");return t(),i("div",V,[n("div",q,[n("div",J,[n("div",N,[o(u(_),{class:"title-icon"}),a[34]||(a[34]=n("span",null,"视频矩阵",-1))]),a[35]||(a[35]=n("div",{class:"breadcrumb"},[n("span",null,"视频广场"),n("span",{class:"separator"},"/"),n("span",{class:"current"},"视频矩阵")],-1))]),n("div",W,[n("div",X,[a[37]||(a[37]=n("div",{class:"status-item online"},[n("div",{class:"status-dot"}),n("span",null,"在线 "+c(70))],-1)),a[38]||(a[38]=n("div",{class:"status-item offline"},[n("div",{class:"status-dot"}),n("span",null,"离线 "+c(0))],-1)),n("div",Z,[a[36]||(a[36]=n("div",{class:"status-dot"},null,-1)),n("span",null,"录制 "+c(_l.value),1)])]),n("div",H,[o(l,{type:"primary",onClick:a[0]||(a[0]=e=>qa.value=!0)},{default:d(()=>[o(u(w)),a[39]||(a[39]=f(" 布局管理 ",-1))]),_:1}),o(l,{onClick:a[1]||(a[1]=e=>(()=>{let e=Ya.value;e<0&&(e=cl.value.findIndex(e=>!e.isActive),e<0&&(e=0)),yl(e)})())},{default:d(()=>[o(u(j)),a[40]||(a[40]=f(" 选择摄像头 ",-1))]),_:1}),o(l,{onClick:a[2]||(a[2]=e=>Ja.value=!0)},{default:d(()=>[o(u(C)),a[41]||(a[41]=f(" 摄像头管理 ",-1))]),_:1})])])]),n("div",M,[n("div",Y,[o(Bl,{activeKey:kl.value,"onUpdate:activeKey":a[12]||(a[12]=e=>kl.value=e),class:"control-tabs"},{default:d(()=>[o(s,{key:"layout",tab:"布局管理"},{default:d(()=>[n("div",ee,[n("div",ae,[n("div",le,[o(u(w)),a[42]||(a[42]=n("span",null,"分屏布局",-1))]),n("div",se,[(t(!0),i(r,null,p(ul.value,e=>(t(),i("div",{key:e.value,class:v(["layout-item",{active:G.value===e.value}]),onClick:a=>Cl(e.value)},[n("div",{class:v(["layout-preview",`preview-${e.value}`])},[(t(!0),i(r,null,p(e.cells,e=>(t(),i("div",{key:e,class:"preview-cell"}))),128))],2),n("div",ie,c(e.name),1)],10,te))),128))])])])]),_:1}),o(s,{key:"playback",tab:"播放控制"},{default:d(()=>[n("div",ne,[n("div",oe,[n("div",ue,[o(u(b)),a[43]||(a[43]=n("span",null,"播放控制",-1))]),n("div",ce,[o(l,{type:"primary",block:"",loading:ll.value,onClick:bl},{default:d(()=>[o(u(x)),a[44]||(a[44]=f(" 全部播放 ",-1))]),_:1},8,["loading"]),o(l,{block:"",loading:sl.value,onClick:xl},{default:d(()=>[o(u(z)),a[45]||(a[45]=f(" 全部暂停 ",-1))]),_:1},8,["loading"]),o(l,{block:"",loading:tl.value,onClick:Sl},{default:d(()=>[o(u(U)),a[46]||(a[46]=f(" 刷新画面 ",-1))]),_:1},8,["loading"])])]),n("div",de,[n("div",ve,[o(u(x)),a[47]||(a[47]=n("span",null,"播放设置",-1))]),n("div",re,[n("div",pe,[a[48]||(a[48]=n("span",null,"自动轮播",-1)),o(Wa,{checked:il.value.autoRotate,"onUpdate:checked":a[3]||(a[3]=e=>il.value.autoRotate=e)},null,8,["checked"])]),n("div",me,[a[49]||(a[49]=n("span",null,"循环播放",-1)),o(Wa,{checked:nl.value.loop,"onUpdate:checked":a[4]||(a[4]=e=>nl.value.loop=e)},null,8,["checked"])]),n("div",fe,[a[50]||(a[50]=n("span",null,"静音播放",-1)),o(Wa,{checked:nl.value.mute,"onUpdate:checked":a[5]||(a[5]=e=>nl.value.mute=e)},null,8,["checked"])])])])])]),_:1}),o(s,{key:"camera",tab:"摄像头管理"},{default:d(()=>[n("div",ye,[n("div",ge,[n("div",ke,[o(u(_)),a[51]||(a[51]=n("span",null,"已配置摄像头",-1))]),n("div",he,[(t(!0),i(r,null,p(cl.value.filter(e=>e.isActive),e=>(t(),i("div",{key:e.id,class:v(["camera-item-mini",{selected:Ya.value===cl.value.indexOf(e)}]),onClick:a=>Rl(cl.value.indexOf(e))},[n("div",we,[o(el,{style:y({backgroundColor:Ol(e.status)}),size:"small"},{default:d(()=>[o(u(_))]),_:2},1032,["style"])]),n("div",Ce,[n("div",be,c(e.name),1),n("div",xe,[o(al,{color:Ol(e.status),size:"small"},{default:d(()=>[f(c($l(e.status)),1)]),_:2},1032,["color"])])]),n("div",ze,[o(l,{size:"small",type:"text",onClick:g(a=>zl(cl.value.indexOf(e)),["stop"])},{default:d(()=>[e.isPlaying?(t(),k(u(z),{key:1})):(t(),k(u(x),{key:0}))]),_:2},1032,["onClick"])])],10,_e))),128)),0===cl.value.filter(e=>e.isActive).length?(t(),i("div",Ue,[o(u(_),{class:"no-cameras-icon"}),a[52]||(a[52]=n("p",null,"暂无已配置摄像头",-1))])):h("",!0)])]),n("div",Ae,[n("div",Re,[o(u(A)),a[53]||(a[53]=n("span",null,"快速操作",-1))]),n("div",Pe,[o(l,{block:"",onClick:a[6]||(a[6]=e=>Ja.value=!0)},{default:d(()=>[o(u(j)),a[54]||(a[54]=f(" 添加摄像头 ",-1))]),_:1}),o(l,{block:"",onClick:Il},{default:d(()=>[o(u(R)),a[55]||(a[55]=f(" 导出配置 ",-1))]),_:1})])])])]),_:1}),o(s,{key:"settings",tab:"系统设置"},{default:d(()=>[n("div",Se,[n("div",Ie,[n("div",Le,[o(u(O)),a[56]||(a[56]=n("span",null,"显示设置",-1))]),n("div",De,[n("div",je,[a[60]||(a[60]=n("span",null,"主题模式",-1)),o(Ql,{value:ol.value.theme,"onUpdate:value":a[7]||(a[7]=e=>ol.value.theme=e),size:"small",style:{width:"100px"}},{default:d(()=>[o(dl,{value:"light"},{default:d(()=>[...a[57]||(a[57]=[f("浅色",-1)])]),_:1}),o(dl,{value:"dark"},{default:d(()=>[...a[58]||(a[58]=[f("深色",-1)])]),_:1}),o(dl,{value:"auto"},{default:d(()=>[...a[59]||(a[59]=[f("自动",-1)])]),_:1})]),_:1},8,["value"])]),n("div",Oe,[a[63]||(a[63]=n("span",null,"语言设置",-1)),o(Ql,{value:ol.value.language,"onUpdate:value":a[8]||(a[8]=e=>ol.value.language=e),size:"small",style:{width:"100px"}},{default:d(()=>[o(dl,{value:"zh"},{default:d(()=>[...a[61]||(a[61]=[f("中文",-1)])]),_:1}),o(dl,{value:"en"},{default:d(()=>[...a[62]||(a[62]=[f("English",-1)])]),_:1})]),_:1},8,["value"])]),n("div",$e,[a[64]||(a[64]=n("span",null,"自动保存",-1)),o(Wa,{checked:ol.value.autoSave,"onUpdate:checked":a[9]||(a[9]=e=>ol.value.autoSave=e)},null,8,["checked"])])])]),n("div",Ee,[n("div",Te,[o(u(P)),a[65]||(a[65]=n("span",null,"性能设置",-1))]),n("div",Ke,[n("div",Qe,[a[69]||(a[69]=n("span",null,"视频质量",-1)),o(Ql,{value:ol.value.videoQuality,"onUpdate:value":a[10]||(a[10]=e=>ol.value.videoQuality=e),size:"small",style:{width:"100px"}},{default:d(()=>[o(dl,{value:"high"},{default:d(()=>[...a[66]||(a[66]=[f("高清",-1)])]),_:1}),o(dl,{value:"medium"},{default:d(()=>[...a[67]||(a[67]=[f("标清",-1)])]),_:1}),o(dl,{value:"low"},{default:d(()=>[...a[68]||(a[68]=[f("流畅",-1)])]),_:1})]),_:1},8,["value"])]),n("div",Be,[a[73]||(a[73]=n("span",null,"帧率限制",-1)),o(Ql,{value:ol.value.frameRate,"onUpdate:value":a[11]||(a[11]=e=>ol.value.frameRate=e),size:"small",style:{width:"100px"}},{default:d(()=>[o(dl,{value:"30"},{default:d(()=>[...a[70]||(a[70]=[f("30fps",-1)])]),_:1}),o(dl,{value:"25"},{default:d(()=>[...a[71]||(a[71]=[f("25fps",-1)])]),_:1}),o(dl,{value:"15"},{default:d(()=>[...a[72]||(a[72]=[f("15fps",-1)])]),_:1})]),_:1},8,["value"])])])])])]),_:1})]),_:1},8,["activeKey"])]),n("div",Fe,[n("div",Ge,[n("div",Ve,[n("h3",null,c(jl()),1),n("span",qe,c(wl.value)+"个摄像头",1)]),n("div",Je,[o(l,{size:"small",onClick:Sl,loading:tl.value},{default:d(()=>[o(u(U)),a[74]||(a[74]=f(" 刷新 ",-1))]),_:1},8,["loading"]),o(l,{size:"small",onClick:Ll},{default:d(()=>[o(u(S)),a[75]||(a[75]=f(" 全屏 ",-1))]),_:1})])]),n("div",{class:v(["matrix-grid",`layout-${G.value}`])},[(t(!0),i(r,null,p(cl.value,(e,s)=>(t(),i("div",{key:`cell-${s}`,class:v(["matrix-cell",Dl(e,s)]),onClick:e=>Rl(s),onDblclick:e=>Pl(s),onContextmenu:e=>((e,a)=>{Ya.value=a,gl.value=!0,e.preventDefault()})(e,s)},[n("div",We,[n("div",Xe,c(e.name||"未配置"),1),n("div",Ze,[o(al,{color:Ol(e.status),size:"small"},{default:d(()=>[f(c($l(e.status)),1)]),_:2},1032,["color"])])]),n("div",He,[e.isActive&&e.isPlaying?(t(),i("div",Me,[n("div",Ye,[o(u(_),{class:"video-icon"}),n("div",ea,c(e.name),1),n("div",aa,c(e.location),1)]),il.value.showStatusIndicators?(t(),i("div",la,[e.isRecording?(t(),i("div",sa,[o(Fl,{status:"processing",text:"录制"})])):h("",!0),e.hasAlarm?(t(),i("div",ta,[o(Fl,{status:"error",text:"报警"})])):h("",!0)])):h("",!0)])):e.isActive?(t(),i("div",ia,[o(u(z),{class:"pause-icon"}),a[76]||(a[76]=n("div",{class:"pause-text"},"已暂停",-1))])):(t(),i("div",na,[o(u(j),{class:"add-icon"}),a[78]||(a[78]=n("div",{class:"add-text"},"添加摄像头",-1)),o(l,{size:"small",type:"primary",onClick:e=>yl(s)},{default:d(()=>[...a[77]||(a[77]=[f(" 选择 ",-1)])]),_:2},1032,["onClick"])]))]),n("div",oa,[n("div",ua,[n("span",ca,c(e.ip||"未配置"),1)]),n("div",da,[o(l,{size:"small",type:"text",onClick:g(e=>zl(s),["stop"])},{default:d(()=>[e.isPlaying?(t(),k(u(z),{key:1})):(t(),k(u(x),{key:0}))]),_:2},1032,["onClick"]),o(l,{size:"small",type:"text",onClick:g(e=>Ul(s),["stop"])},{default:d(()=>[o(u(b))]),_:2},1032,["onClick"])])])],42,Ne))),128))],2)])]),o(Gl,{open:qa.value,"onUpdate:open":a[13]||(a[13]=e=>qa.value=e),title:"选择分屏布局",footer:null,width:"800px",class:"layout-modal"},{default:d(()=>[n("div",va,[n("div",ra,[(t(!0),i(r,null,p(ul.value,e=>(t(),i("div",{key:e.value,class:v(["layout-item-large",{active:G.value===e.value}]),onClick:a=>Cl(e.value)},[n("div",{class:v(["layout-preview-large",`preview-${e.value}`])},[(t(!0),i(r,null,p(e.cells,e=>(t(),i("div",{key:e,class:"preview-cell-large"}))),128))],2),n("div",ma,[n("h4",fa,c(e.name),1),n("p",ya,c(e.description),1),n("div",ga,[n("span",ka,c(e.cells)+"个画面",1),n("span",ha,c(e.recommended?"推荐":"标准"),1)])])],10,pa))),128))])])]),_:1},8,["open"]),o(Gl,{open:Ja.value,"onUpdate:open":a[17]||(a[17]=e=>Ja.value=e),title:"摄像头管理",footer:null,width:"900px",class:"camera-modal"},{default:d(()=>[n("div",_a,[n("div",wa,[o(Vl,{value:Za.value,"onUpdate:value":a[14]||(a[14]=e=>Za.value=e),placeholder:"搜索摄像头名称或IP地址...","allow-clear":"",style:{width:"300px"}},null,8,["value"]),o(Ql,{value:Ha.value,"onUpdate:value":a[15]||(a[15]=e=>Ha.value=e),placeholder:"状态筛选",style:{width:"120px"},"allow-clear":""},{default:d(()=>[o(dl,{value:"online"},{default:d(()=>[...a[79]||(a[79]=[f("在线",-1)])]),_:1}),o(dl,{value:"offline"},{default:d(()=>[...a[80]||(a[80]=[f("离线",-1)])]),_:1})]),_:1},8,["value"]),o(Ql,{value:Ma.value,"onUpdate:value":a[16]||(a[16]=e=>Ma.value=e),placeholder:"位置筛选",style:{width:"150px"},"allow-clear":""},{default:d(()=>[o(dl,{value:"码头前沿"},{default:d(()=>[...a[81]||(a[81]=[f("码头前沿",-1)])]),_:1}),o(dl,{value:"主航道"},{default:d(()=>[...a[82]||(a[82]=[f("主航道",-1)])]),_:1}),o(dl,{value:"锚地区域"},{default:d(()=>[...a[83]||(a[83]=[f("锚地区域",-1)])]),_:1})]),_:1},8,["value"])]),n("div",Ca,[(t(!0),i(r,null,p(hl.value,e=>(t(),i("div",{key:e.id,class:v(["camera-item",{online:"online"===e.status,offline:"offline"===e.status,selected:Al(e.id)}]),onClick:a=>(e=>{if(!e)return;const a=cl.value.find(e=>!e.isActive);a&&(a.name=e.name,a.isActive=!0,a.isPlaying=!0,a.status="online"===e.status?"在线":"离线",a.statusClass="online"===e.status?"online":"offline",a.location=e.location,a.ip=e.ip,a.lastUpdate=(new Date).toLocaleString(),a.resolution=e.resolution,a.fps=e.fps,a.isRecording=!1,a.hasAlarm=!1),Ja.value=!1})(e)},[n("div",xa,[o(el,{style:y({backgroundColor:Ol(e.status)})},{default:d(()=>[o(u(_))]),_:2},1032,["style"])]),n("div",za,[n("div",Ua,c(e.name),1),n("div",Aa,c(e.location),1),n("div",Ra,[n("span",Pa,c(e.resolution),1),n("span",Sa,c(e.fps)+"fps",1),n("span",Ia,c(e.ip),1)])]),n("div",La,[Al(e.id)?(t(),k(al,{key:1,color:"success"},{default:d(()=>[...a[85]||(a[85]=[f("已选择",-1)])]),_:1})):(t(),k(l,{key:0,size:"small",type:"primary"},{default:d(()=>[...a[84]||(a[84]=[f(" 选择 ",-1)])]),_:1}))])],10,ba))),128))])])]),_:1},8,["open"]),o(Gl,{open:vl.value,"onUpdate:open":a[19]||(a[19]=e=>vl.value=e),title:"选择摄像头",width:"800px","ok-text":"关闭",footer:null},{default:d(()=>[o(Vl,{value:pl.value,"onUpdate:value":a[18]||(a[18]=e=>pl.value=e),placeholder:"搜索名称/IP/位置",style:{"margin-bottom":"12px"}},null,8,["value"]),o(ql,{columns:ml,"data-source":fl.value,"row-key":"id",size:"small",pagination:{pageSize:8}},{bodyCell:d(({column:e,record:s})=>["status"===e.key?(t(),k(al,{key:0,color:"online"===s.status?"success":"error"},{default:d(()=>[f(c("online"===s.status?"在线":"离线"),1)]),_:2},1032,["color"])):"action"===e.key?(t(),k(l,{key:1,type:"link",onClick:e=>(e=>{if("online"!==e.status)return;const a=rl.value;if(a<0||a>=cl.value.length)return;const l=cl.value[a];l.name=e.name,l.isActive=!0,l.isPlaying=!0,l.status="online"===e.status?"在线":"离线",l.statusClass="online"===e.status?"online":"offline",l.location=e.location,l.ip=e.ip,l.lastUpdate=(new Date).toLocaleString(),l.resolution=e.resolution,l.fps=e.fps,l.isRecording=!1,l.hasAlarm=!1,vl.value=!1})(s),disabled:"online"!==s.status},{default:d(()=>[...a[86]||(a[86]=[f("选择",-1)])]),_:2},1032,["onClick","disabled"])):h("",!0)]),_:1},8,["data-source"])]),_:1},8,["open"]),o(Gl,{open:Na.value,"onUpdate:open":a[32]||(a[32]=e=>Na.value=e),title:"云台控制",footer:null,width:"500px",class:"ptz-modal"},{default:d(()=>{var e,s;return[n("div",Da,[n("div",ja,[n("h4",null,c(null==(e=El())?void 0:e.name),1),n("p",null,c(null==(s=El())?void 0:s.location),1)]),n("div",Oa,[n("div",$a,[a[87]||(a[87]=n("span",{class:"control-label"},"云台速度",-1)),o(Jl,{value:Xa.value,"onUpdate:value":a[20]||(a[20]=e=>Xa.value=e),min:1,max:7,marks:{1:"1",4:"4",7:"7"},style:{width:"220px","margin-left":"12px"}},null,8,["value"]),o(al,{color:"blue",style:{"margin-left":"8px"}},{default:d(()=>[f(c(Xa.value),1)]),_:1})]),n("div",Ea,[n("div",Ta,[o(l,{shape:"circle",size:"large",onClick:a[21]||(a[21]=e=>Tl("up")),class:"ptz-btn up"},{default:d(()=>[o(u($))]),_:1})]),n("div",Ka,[o(l,{shape:"circle",size:"large",onClick:a[22]||(a[22]=e=>Tl("left")),class:"ptz-btn left"},{default:d(()=>[o(u(E))]),_:1}),o(l,{shape:"circle",size:"large",onClick:a[23]||(a[23]=e=>Tl("home")),class:"ptz-btn home"},{default:d(()=>[o(u(I))]),_:1}),o(l,{shape:"circle",size:"large",onClick:a[24]||(a[24]=e=>Tl("right")),class:"ptz-btn right"},{default:d(()=>[o(u(T))]),_:1})]),n("div",Qa,[o(l,{shape:"circle",size:"large",onClick:a[25]||(a[25]=e=>Tl("down")),class:"ptz-btn down"},{default:d(()=>[o(u(K))]),_:1})])]),n("div",Ba,[a[90]||(a[90]=n("span",{class:"control-label"},"变焦控制",-1)),n("div",Fa,[o(l,{onClick:a[26]||(a[26]=e=>Tl("zoomIn")),class:"zoom-btn"},{default:d(()=>[o(u(Q)),a[88]||(a[88]=f(" 放大 ",-1))]),_:1}),o(l,{onClick:a[27]||(a[27]=e=>Tl("zoomOut")),class:"zoom-btn"},{default:d(()=>[o(u(B)),a[89]||(a[89]=f(" 缩小 ",-1))]),_:1})])]),n("div",Ga,[a[95]||(a[95]=n("span",{class:"control-label"},"预设位置",-1)),n("div",Va,[o(l,{size:"小",onClick:a[28]||(a[28]=e=>Tl("preset1")),class:"preset-btn"},{default:d(()=>[...a[91]||(a[91]=[f(" 位置1 ",-1)])]),_:1}),o(l,{size:"small",onClick:a[29]||(a[29]=e=>Tl("preset2")),class:"preset-btn"},{default:d(()=>[...a[92]||(a[92]=[f(" 位置2 ",-1)])]),_:1}),o(l,{size:"small",onClick:a[30]||(a[30]=e=>Tl("preset3")),class:"preset-btn"},{default:d(()=>[...a[93]||(a[93]=[f(" 位置3 ",-1)])]),_:1}),o(l,{size:"small",onClick:a[31]||(a[31]=e=>Tl("preset4")),class:"preset-btn"},{default:d(()=>[...a[94]||(a[94]=[f(" 位置4 ",-1)])]),_:1})])])])])]}),_:1},8,["open"]),o(Xl,{open:gl.value,"onUpdate:open":a[33]||(a[33]=e=>gl.value=e),trigger:["contextmenu"],placement:"bottomRight"},{overlay:d(()=>[o(Wl,{onClick:Kl},{default:d(()=>[cl.value.some(e=>e.isActive&&!e.isPlaying)?(t(),k(Nl,{key:"play"},{default:d(()=>[o(u(x)),a[96]||(a[96]=f(" 播放 ",-1))]),_:1})):h("",!0),cl.value.some(e=>e.isActive&&e.isPlaying)?(t(),k(Nl,{key:"pause"},{default:d(()=>[o(u(z)),a[97]||(a[97]=f(" 暂停 ",-1))]),_:1})):h("",!0),o(Nl,{key:"fullscreen"},{default:d(()=>[o(u(S)),a[98]||(a[98]=f(" 全屏 ",-1))]),_:1}),o(Nl,{key:"ptz"},{default:d(()=>[o(u(b)),a[99]||(a[99]=f(" 云台控制 ",-1))]),_:1}),o(Nl,{key:"snapshot"},{default:d(()=>[o(u(L)),a[100]||(a[100]=f(" 截图 ",-1))]),_:1}),cl.value.some(e=>e.isActive&&!e.isRecording)?(t(),k(Nl,{key:"record"},{default:d(()=>[o(u(_)),a[101]||(a[101]=f(" 开始录制 ",-1))]),_:1})):h("",!0),cl.value.some(e=>e.isActive&&e.isRecording)?(t(),k(Nl,{key:"stopRecord"},{default:d(()=>[o(u(D)),a[102]||(a[102]=f(" 停止录制 ",-1))]),_:1})):h("",!0),cl.value.some(e=>e.isActive)?(t(),k(Nl,{key:"remove"},{default:d(()=>[o(u(F)),a[103]||(a[103]=f(" 移除 ",-1))]),_:1})):h("",!0)]),_:1})]),default:d(()=>[a[104]||(a[104]=n("div",{class:"context-menu-trigger"},null,-1))]),_:1},8,["open"])])}}}),[["__scopeId","data-v-1c41b17b"]]);export{qa as default};
