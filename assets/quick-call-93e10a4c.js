import{d as e,r as a,f as t,o as l,V as r,W as i,a0 as s,k as u,$ as n,X as d,G as o,_ as c,F as p,a1 as v,a3 as m,a7 as y,u as f,a8 as g}from"./vendor-f41c3cc7.js";import{P as _,S as k,V as T}from"./icons-15893848.js";import{b as C,m as h}from"./antd-fa5730cf.js";import{_ as b}from"./index-3f839e27.js";const L={class:"quick-call"},w={class:"call-status"},D={class:"status-text"},x={key:0,class:"call-info"},A={class:"control-buttons"},N={class:"table-operations"},S=b(e({__name:"quick-call",setup(e){const b=a({onlineDevices:1247,activeCalls:23,waitingCalls:8,todayCalls:156,totalCallDuration:234.5,avgResponseTime:2.8,answerRate:97.2,successRate:99.1}),S=a({callType:"single",selectedDevice:"",selectedGroup:"",priority:"normal",remark:""}),G=a({status:"idle",targetName:"",callType:"",startTime:"",duration:"00:00"}),R=t([{id:"DEV001",name:"长江集装箱一号·甲板摄像头",status:"在线",type:"监控设备",department:"船舶监控部",operator:"陈志强",signalStrength:95,lastActivity:"2025-08-15 14:30:00"},{id:"DEV002",name:"海巡三号·卫星电话",status:"在线",type:"通讯设备",department:"船舶通讯部",operator:"刘建国",signalStrength:88,lastActivity:"2025-08-15 14:25:00"},{id:"DEV003",name:"航标站·数据采集终端",status:"在线",type:"数据设备",department:"船舶数据部",operator:"王海峰",signalStrength:92,lastActivity:"2025-08-15 14:28:00"},{id:"DEV004",name:"港区闸口·高清云台摄像机",status:"离线",type:"监控设备",department:"船舶监控部",operator:"赵明华",signalStrength:0,lastActivity:"2025-08-15 14:15:00"},{id:"DEV005",name:"应急指挥车·集群对讲终端",status:"在线",type:"通讯设备",department:"船舶通讯部",operator:"钱伟民",signalStrength:85,lastActivity:"2025-08-15 14:32:00"},{id:"DEV006",name:"拖轮·移动视频终端",status:"在线",type:"监控设备",department:"船舶监控部",operator:"孙志刚",signalStrength:90,lastActivity:"2025-08-15 14:26:00"},{id:"DEV007",name:"危化品堆场·安检采集器",status:"在线",type:"数据设备",department:"船舶数据部",operator:"周建军",signalStrength:87,lastActivity:"2025-08-15 14:29:00"},{id:"DEV008",name:"沿江站点·气象监测主机",status:"离线",type:"通讯设备",department:"船舶通讯部",operator:"吴建华",signalStrength:0,lastActivity:"2025-08-15 14:18:00"},{id:"DEV009",name:"港池·岸边固定摄像头",status:"在线",type:"监控设备",department:"船舶监控部",operator:"高鹏飞",signalStrength:93,lastActivity:"2025-08-15 14:31:00"},{id:"DEV010",name:"航道·雷达数据终端",status:"在线",type:"数据设备",department:"船舶数据部",operator:"林倩",signalStrength:89,lastActivity:"2025-08-15 14:27:00"},{id:"DEV011",name:"信号塔·微波链路",status:"在线",type:"通讯设备",department:"船舶通讯部",operator:"何志远",signalStrength:91,lastActivity:"2025-08-15 14:33:00"},{id:"DEV012",name:"锚地·球机",status:"离线",type:"监控设备",department:"船舶监控部",operator:"李岚",signalStrength:0,lastActivity:"2025-08-15 14:12:00"}]),V=t([{id:"GRP001",name:"监控设备群组",deviceCount:12,department:"船舶监控部",description:"所有船舶监控设备的统一管理群组",status:"active"},{id:"GRP002",name:"通讯设备群组",deviceCount:8,department:"船舶通讯部",description:"船舶通讯设备的统一管理群组",status:"active"},{id:"GRP003",name:"数据设备群组",deviceCount:15,department:"船舶数据部",description:"船舶数据采集设备的统一管理群组",status:"active"},{id:"GRP004",name:"紧急通讯群组",deviceCount:6,department:"应急响应部",description:"紧急情况下的快速通讯群组",status:"active"},{id:"GRP005",name:"日常维护群组",deviceCount:10,department:"设备维护部",description:"日常设备维护和检查群组",status:"active"},{id:"GRP006",name:"数据分析群组",deviceCount:8,department:"数据分析部",description:"数据分析和处理设备群组",status:"active"},{id:"GRP007",name:"安全监控群组",deviceCount:18,department:"安全监控部",description:"船舶安全监控设备群组",status:"active"},{id:"GRP008",name:"通讯调度群组",deviceCount:22,department:"通讯调度部",description:"通讯调度设备统一管理群组",status:"active"}]),E=t(""),I=t([]),z=t(""),P=t(!1),U=t(!1),j=t([{id:"CALL001",callType:"single",targetName:"长江集装箱一号·甲板摄像头",status:"success",priority:"high",startTime:"2025-08-15 10:30:00",endTime:"2025-08-15 10:45:00",duration:"15分钟",remark:"紧急情况通报",department:"船舶监控部",operator:"陈志强"},{id:"CALL002",callType:"group",targetName:"监控设备群组",status:"success",priority:"normal",startTime:"2025-08-15 09:15:00",endTime:"2025-08-15 09:25:00",duration:"10分钟",remark:"日常会议",department:"船舶监控部",operator:"刘建国"},{id:"CALL003",callType:"single",targetName:"航标站·数据采集终端",status:"failed",priority:"low",startTime:"2025-08-15 08:00:00",endTime:"2025-08-15 08:05:00",duration:"5分钟",remark:"设备离线",department:"船舶数据部",operator:"王海峰"},{id:"CALL004",callType:"single",targetName:"应急指挥车·集群对讲终端",status:"success",priority:"normal",startTime:"2025-08-15 14:20:00",endTime:"2025-08-15 14:35:00",duration:"15分钟",remark:"航线确认",department:"船舶通讯部",operator:"钱伟民"},{id:"CALL005",callType:"group",targetName:"紧急通讯群组",status:"success",priority:"emergency",startTime:"2025-08-15 13:45:00",endTime:"2025-08-15 14:00:00",duration:"15分钟",remark:"紧急救援协调",department:"应急响应部",operator:"赵明华"},{id:"CALL006",callType:"single",targetName:"拖轮·移动视频终端",status:"success",priority:"high",startTime:"2025-08-15 12:30:00",endTime:"2025-08-15 12:45:00",duration:"15分钟",remark:"设备状态检查",department:"船舶监控部",operator:"孙志刚"},{id:"CALL007",callType:"broadcast",targetName:"所有监控设备",status:"success",priority:"normal",startTime:"2025-08-15 11:00:00",endTime:"2025-08-15 11:05:00",duration:"5分钟",remark:"系统维护通知",department:"系统管理部",operator:"周建军"},{id:"CALL008",callType:"single",targetName:"危化品堆场·安检采集器",status:"success",priority:"normal",startTime:"2025-08-15 10:00:00",endTime:"2025-08-15 10:15:00",duration:"15分钟",remark:"数据同步确认",department:"船舶数据部",operator:"吴建华"},{id:"CALL009",callType:"group",targetName:"安全监控群组",status:"success",priority:"high",startTime:"2025-08-15 09:30:00",endTime:"2025-08-15 09:45:00",duration:"15分钟",remark:"安全巡检通知",department:"安全监控部",operator:"高鹏飞"},{id:"CALL010",callType:"single",targetName:"港池·岸边固定摄像头",status:"success",priority:"normal",startTime:"2025-08-15 08:30:00",endTime:"2025-08-15 08:45:00",duration:"15分钟",remark:"设备状态检查",department:"船舶监控部",operator:"林倩"},{id:"CALL011",callType:"broadcast",targetName:"所有通讯设备",status:"success",priority:"normal",startTime:"2025-08-15 07:45:00",endTime:"2025-08-15 07:50:00",duration:"5分钟",remark:"系统升级通知",department:"系统管理部",operator:"何志远"},{id:"CALL012",callType:"single",targetName:"航道·雷达数据终端",status:"failed",priority:"low",startTime:"2025-08-15 06:00:00",endTime:"2025-08-15 06:05:00",duration:"5分钟",remark:"设备离线",department:"船舶数据部",operator:"李岚"}]),O=[{title:"呼叫ID",dataIndex:"id",key:"id"},{title:"呼叫类型",dataIndex:"callType",key:"callType",customRender:({text:e})=>F(e)},{title:"目标设备",dataIndex:"targetName",key:"targetName"},{title:"呼叫状态",dataIndex:"status",key:"status"},{title:"优先级",dataIndex:"priority",key:"priority"},{title:"负责部门",dataIndex:"department",key:"department"},{title:"操作员",dataIndex:"operator",key:"operator"},{title:"开始时间",dataIndex:"startTime",key:"startTime"},{title:"通话时长",dataIndex:"duration",key:"duration"},{title:"操作",key:"action",width:150}],$=t(!1),q=t(null),F=e=>({single:"单呼",group:"群呼",broadcast:"广播"}[e]||e),W=e=>({success:"成功",failed:"失败",missed:"未接"}[e]||e),X=e=>({low:"低",normal:"普通",high:"高",emergency:"紧急"}[e]||e),B=(e,a)=>a.children.toLowerCase().indexOf(e.toLowerCase())>=0,H=(e,a)=>a.children.toLowerCase().indexOf(e.toLowerCase())>=0,J=()=>{"single"!==S.callType||S.selectedDevice?"group"!==S.callType||S.selectedGroup?(U.value=!0,setTimeout(()=>{var e,a;U.value=!1,G.status="outgoing",G.targetName="single"===S.callType?(null==(e=R.value.find(e=>e.id===S.selectedDevice))?void 0:e.name)||"":(null==(a=V.value.find(e=>e.id===S.selectedGroup))?void 0:a.name)||"",G.callType=S.callType,G.startTime=(new Date).toLocaleString(),h.success("呼叫已发起")},1e3)):h.error("请选择要呼叫的群组"):h.error("请选择要呼叫的设备")},K=()=>{Object.assign(S,{callType:"single",selectedDevice:"",selectedGroup:"",priority:"normal",remark:""})},M=()=>{G.status="active",h.success("通话已接通")},Q=()=>{G.status="idle",h.info("通话已拒接")},Y=()=>{G.status="ended",h.info("通话已结束")},Z=()=>{h.info("通话已保持")},ee=()=>{h.info("通话转接功能")},ae=e=>{console.log("搜索:",e),h.info(`搜索关键词: ${e}`)},te=()=>{P.value=!0,setTimeout(()=>{P.value=!1,h.success("记录已刷新")},1e3)};return l(()=>{console.log("一键呼叫/群呼页面已加载")}),(e,a)=>{const t=d("a-statistic"),l=d("a-card"),le=d("a-col"),re=d("a-row"),ie=d("a-radio-button"),se=d("a-radio-group"),ue=d("a-form-item"),ne=d("a-select-option"),de=d("a-select"),oe=d("a-textarea"),ce=d("a-button"),pe=d("a-space"),ve=d("a-form"),me=d("a-descriptions-item"),ye=d("a-descriptions"),fe=d("a-input-search"),ge=d("a-range-picker"),_e=d("a-tag"),ke=d("a-table"),Te=d("a-modal");return r(),i("div",L,[a[35]||(a[35]=s("div",{class:"page-header"},[s("h1",null,"一键呼叫/群呼"),s("p",null,"支持快速呼叫单个设备或群组，提供高效的通讯调度服务")],-1)),u(re,{gutter:16,class:"status-overview"},{default:n(()=>[u(le,{span:6},{default:n(()=>[u(l,null,{default:n(()=>[u(t,{title:"在线设备",value:b.onlineDevices,"value-style":{color:"#3f8600"}},null,8,["value"])]),_:1})]),_:1}),u(le,{span:6},{default:n(()=>[u(l,null,{default:n(()=>[u(t,{title:"呼叫中",value:b.activeCalls,"value-style":{color:"#1890ff"}},null,8,["value"])]),_:1})]),_:1}),u(le,{span:6},{default:n(()=>[u(l,null,{default:n(()=>[u(t,{title:"等待接听",value:b.waitingCalls,"value-style":{color:"#fa8c16"}},null,8,["value"])]),_:1})]),_:1}),u(le,{span:6},{default:n(()=>[u(l,null,{default:n(()=>[u(t,{title:"今日呼叫",value:b.todayCalls,"value-style":{color:"#722ed1"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),u(re,{gutter:16,class:"status-overview",style:{"margin-top":"16px"}},{default:n(()=>[u(le,{span:6},{default:n(()=>[u(l,null,{default:n(()=>[u(t,{title:"总呼叫时长",value:b.totalCallDuration,"value-style":{color:"#eb2f96"}},{suffix:n(()=>[...a[9]||(a[9]=[o("小时",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),u(le,{span:6},{default:n(()=>[u(l,null,{default:n(()=>[u(t,{title:"平均响应时间",value:b.avgResponseTime,"value-style":{color:"#13c2c2"}},{suffix:n(()=>[...a[10]||(a[10]=[o("秒",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),u(le,{span:6},{default:n(()=>[u(l,null,{default:n(()=>[u(t,{title:"接通率",value:b.answerRate,"value-style":{color:"#52c41a"}},{suffix:n(()=>[...a[11]||(a[11]=[o("%",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),u(le,{span:6},{default:n(()=>[u(l,null,{default:n(()=>[u(t,{title:"成功率",value:b.successRate,"value-style":{color:"#f5222d"}},{suffix:n(()=>[...a[12]||(a[12]=[o("%",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),u(re,{gutter:16,class:"main-content"},{default:n(()=>[u(le,{span:12},{default:n(()=>[u(l,{title:"快速呼叫面板",class:"call-panel"},{default:n(()=>[u(ve,{layout:"vertical"},{default:n(()=>[u(ue,{label:"呼叫类型"},{default:n(()=>[u(se,{value:S.callType,"onUpdate:value":a[0]||(a[0]=e=>S.callType=e),"button-style":"solid"},{default:n(()=>[u(ie,{value:"single"},{default:n(()=>[...a[13]||(a[13]=[o("单呼",-1)])]),_:1}),u(ie,{value:"group"},{default:n(()=>[...a[14]||(a[14]=[o("群呼",-1)])]),_:1}),u(ie,{value:"broadcast"},{default:n(()=>[...a[15]||(a[15]=[o("广播",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),"single"===S.callType?(r(),c(ue,{key:0,label:"选择设备"},{default:n(()=>[u(de,{value:S.selectedDevice,"onUpdate:value":a[1]||(a[1]=e=>S.selectedDevice=e),placeholder:"选择要呼叫的设备","show-search":"","filter-option":B},{default:n(()=>[(r(!0),i(p,null,v(R.value,e=>(r(),c(ne,{key:e.id,value:e.id},{default:n(()=>[o(m(e.name)+" ("+m(e.status)+") ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})):y("",!0),"group"===S.callType?(r(),c(ue,{key:1,label:"选择群组"},{default:n(()=>[u(de,{value:S.selectedGroup,"onUpdate:value":a[2]||(a[2]=e=>S.selectedGroup=e),placeholder:"选择要呼叫的群组","show-search":"","filter-option":H},{default:n(()=>[(r(!0),i(p,null,v(V.value,e=>(r(),c(ne,{key:e.id,value:e.id},{default:n(()=>[o(m(e.name)+" ("+m(e.deviceCount)+"台设备) ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})):y("",!0),u(ue,{label:"呼叫优先级"},{default:n(()=>[u(de,{value:S.priority,"onUpdate:value":a[3]||(a[3]=e=>S.priority=e),placeholder:"选择呼叫优先级"},{default:n(()=>[u(ne,{value:"low"},{default:n(()=>[...a[16]||(a[16]=[o("低优先级",-1)])]),_:1}),u(ne,{value:"normal"},{default:n(()=>[...a[17]||(a[17]=[o("普通优先级",-1)])]),_:1}),u(ne,{value:"high"},{default:n(()=>[...a[18]||(a[18]=[o("高优先级",-1)])]),_:1}),u(ne,{value:"emergency"},{default:n(()=>[...a[19]||(a[19]=[o("紧急优先级",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),u(ue,{label:"备注信息"},{default:n(()=>[u(oe,{value:S.remark,"onUpdate:value":a[4]||(a[4]=e=>S.remark=e),placeholder:"输入呼叫备注信息",rows:3},null,8,["value"])]),_:1}),u(ue,null,{default:n(()=>[u(pe,null,{default:n(()=>[u(ce,{type:"primary",onClick:J,loading:U.value},{icon:n(()=>[u(f(_))]),default:n(()=>[a[20]||(a[20]=o(" 开始呼叫 ",-1))]),_:1},8,["loading"]),u(ce,{onClick:K},{icon:n(()=>[u(f(k))]),default:n(()=>[a[21]||(a[21]=o(" 重置 ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),u(le,{span:12},{default:n(()=>[u(l,{title:"呼叫控制",class:"call-control"},{default:n(()=>{return[s("div",w,[s("div",{class:g(["status-indicator",G.status])},[a[22]||(a[22]=s("span",{class:"status-dot"},null,-1)),s("span",D,m((e=G.status,{idle:"空闲",incoming:"来电",outgoing:"呼出中",active:"通话中",ended:"已结束"}[e]||e)),1)],2)]),"idle"!==G.status?(r(),i("div",x,[u(ye,{column:1,size:"small"},{default:n(()=>[u(me,{label:"呼叫目标"},{default:n(()=>[o(m(G.targetName),1)]),_:1}),u(me,{label:"呼叫类型"},{default:n(()=>[o(m(F(G.callType)),1)]),_:1}),u(me,{label:"开始时间"},{default:n(()=>[o(m(G.startTime),1)]),_:1}),u(me,{label:"持续时间"},{default:n(()=>[o(m(G.duration),1)]),_:1})]),_:1})])):y("",!0),s("div",A,[u(pe,{direction:"vertical",style:{width:"100%"}},{default:n(()=>["incoming"===G.status?(r(),c(ce,{key:0,type:"primary",size:"large",block:"",onClick:M},{default:n(()=>[...a[23]||(a[23]=[o(" 接听 ",-1)])]),_:1})):y("",!0),"incoming"===G.status?(r(),c(ce,{key:1,type:"default",size:"large",block:"",onClick:Q},{default:n(()=>[...a[24]||(a[24]=[o(" 拒接 ",-1)])]),_:1})):y("",!0),["active","outgoing"].includes(G.status)?(r(),c(ce,{key:2,type:"danger",size:"large",block:"",onClick:Y},{default:n(()=>[...a[25]||(a[25]=[o(" 结束通话 ",-1)])]),_:1})):y("",!0),"active"===G.status?(r(),c(ce,{key:3,type:"default",size:"large",block:"",onClick:Z},{default:n(()=>[...a[26]||(a[26]=[o(" 保持通话 ",-1)])]),_:1})):y("",!0),"active"===G.status?(r(),c(ce,{key:4,type:"default",size:"large",block:"",onClick:ee},{default:n(()=>[...a[27]||(a[27]=[o(" 转接 ",-1)])]),_:1})):y("",!0)]),_:1})])];var e}),_:1})]),_:1})]),_:1}),u(l,{title:"呼叫记录",class:"call-records"},{default:n(()=>[s("div",N,[u(pe,null,{default:n(()=>[u(fe,{value:E.value,"onUpdate:value":a[5]||(a[5]=e=>E.value=e),placeholder:"搜索呼叫记录",style:{width:"200px"},onSearch:ae},null,8,["value"]),u(ge,{value:I.value,"onUpdate:value":a[6]||(a[6]=e=>I.value=e)},null,8,["value"]),u(de,{value:z.value,"onUpdate:value":a[7]||(a[7]=e=>z.value=e),placeholder:"状态筛选",style:{width:"120px"}},{default:n(()=>[u(ne,{value:""},{default:n(()=>[...a[28]||(a[28]=[o("全部状态",-1)])]),_:1}),u(ne,{value:"success"},{default:n(()=>[...a[29]||(a[29]=[o("成功",-1)])]),_:1}),u(ne,{value:"failed"},{default:n(()=>[...a[30]||(a[30]=[o("失败",-1)])]),_:1}),u(ne,{value:"missed"},{default:n(()=>[...a[31]||(a[31]=[o("未接",-1)])]),_:1})]),_:1},8,["value"]),u(ce,{type:"primary",onClick:te},{default:n(()=>[...a[32]||(a[32]=[o("刷新",-1)])]),_:1})]),_:1})]),u(ke,{columns:O,"data-source":j.value,pagination:{pageSize:10},loading:P.value,"row-key":"id"},{bodyCell:n(({column:e,record:t})=>{return["status"===e.key?(r(),c(_e,{key:0,color:(i=t.status,{success:"green",failed:"red",missed:"orange"}[i]||"default")},{default:n(()=>[o(m(W(t.status)),1)]),_:2},1032,["color"])):"priority"===e.key?(r(),c(_e,{key:1,color:(l=t.priority,{low:"blue",normal:"green",high:"orange",emergency:"red"}[l]||"default")},{default:n(()=>[o(m(X(t.priority)),1)]),_:2},1032,["color"])):"action"===e.key?(r(),c(pe,{key:2},{default:n(()=>[u(ce,{type:"link",size:"small",onClick:e=>(e=>{q.value=e,$.value=!0})(t)},{icon:n(()=>[u(f(C))]),default:n(()=>[a[33]||(a[33]=o(" 查看详情 ",-1))]),_:2},1032,["onClick"]),u(ce,{type:"link",size:"small",onClick:e=>(e=>{h.info(`开始回放呼叫记录: ${e.id}`)})(t)},{icon:n(()=>[u(f(T))]),default:n(()=>[a[34]||(a[34]=o(" 回放 ",-1))]),_:2},1032,["onClick"])]),_:2},1024)):y("",!0)];var l,i}),_:1},8,["data-source","loading"])]),_:1}),u(Te,{open:$.value,"onUpdate:open":a[8]||(a[8]=e=>$.value=e),title:"呼叫记录详情",width:"600px",footer:null},{default:n(()=>[u(ye,{column:2,bordered:""},{default:n(()=>[u(me,{label:"呼叫ID"},{default:n(()=>{var e;return[o(m(null==(e=q.value)?void 0:e.id),1)]}),_:1}),u(me,{label:"呼叫类型"},{default:n(()=>{var e;return[o(m(F((null==(e=q.value)?void 0:e.callType)||"")),1)]}),_:1}),u(me,{label:"目标设备"},{default:n(()=>{var e;return[o(m(null==(e=q.value)?void 0:e.targetName),1)]}),_:1}),u(me,{label:"呼叫状态"},{default:n(()=>{var e;return[o(m(W((null==(e=q.value)?void 0:e.status)||"")),1)]}),_:1}),u(me,{label:"优先级"},{default:n(()=>{var e;return[o(m(X((null==(e=q.value)?void 0:e.priority)||"")),1)]}),_:1}),u(me,{label:"负责部门"},{default:n(()=>{var e;return[o(m((null==(e=q.value)?void 0:e.department)||"无"),1)]}),_:1}),u(me,{label:"操作员"},{default:n(()=>{var e;return[o(m((null==(e=q.value)?void 0:e.operator)||"无"),1)]}),_:1}),u(me,{label:"开始时间"},{default:n(()=>{var e;return[o(m(null==(e=q.value)?void 0:e.startTime),1)]}),_:1}),u(me,{label:"结束时间"},{default:n(()=>{var e;return[o(m(null==(e=q.value)?void 0:e.endTime),1)]}),_:1}),u(me,{label:"通话时长"},{default:n(()=>{var e;return[o(m(null==(e=q.value)?void 0:e.duration),1)]}),_:1}),u(me,{label:"备注",span:2},{default:n(()=>{var e;return[o(m((null==(e=q.value)?void 0:e.remark)||"无"),1)]}),_:1})]),_:1})]),_:1},8,["open"])])}}}),[["__scopeId","data-v-e486e493"]]);export{S as default};
