import{i as e,r as a}from"./index-b344bc7d.js";import{w as t,_ as l,s,W as n,R as i}from"./icons-15893848.js";import{d as c,f as r,o,n as u,V as d,W as p,a0 as f,k as v,$ as m,X as y,u as g,G as _,_ as k,a3 as x,a7 as b}from"./vendor-f41c3cc7.js";import{h,F as w,l as z,P as C,m as S}from"./antd-fa5730cf.js";import{_ as I}from"./index-6bb65380.js";const T={class:"statistical-analysis"},E={class:"analysis-overview"},R={class:"chart-analysis"},W={class:"chart-container"},j={class:"chart-container"},L={class:"detailed-analysis"},$={class:"tab-content"},K={class:"time-distribution"},O={class:"time-item"},A={class:"time-item"},D={class:"time-item"},G={class:"time-item"},X={class:"week-distribution"},B={class:"week-item"},F={class:"week-item"},J={class:"week-item"},P={class:"week-item"},U={class:"week-item"},V={class:"month-distribution"},q={class:"month-item"},H={class:"month-item"},M={class:"month-item"},N={class:"month-item"},Q={class:"tab-content"},Y={class:"tab-content"},Z={class:"tab-content"},ee={class:"weather-distribution"},ae={class:"weather-item"},te={class:"weather-item"},le={class:"weather-item"},se={class:"weather-item"},ne={class:"tide-distribution"},ie={class:"tide-item"},ce={class:"tide-item"},re={class:"tide-item"},oe={class:"tide-item"},ue={class:"tab-content"},de={class:"risk-distribution"},pe={class:"risk-item"},fe={class:"risk-item"},ve={class:"risk-item"},me={class:"risk-item"},ye={class:"risk-trend"},ge={class:"trend-item"},_e={class:"trend-item"},ke={class:"trend-item"},xe={class:"statistical-reports"},be=I(c({__name:"statistical-analysis",setup(c){const I=r({totalEvents:1256,monthlyEvents:89,trendRate:12.5,riskLevel:"中等",todayEvents:12,weeklyEvents:67,criticalEvents:8,resolvedEvents:1189,pendingEvents:67,avgResponseTime:45,satisfactionRate:94.2}),be=r("time"),he=r(!1),we=r(),ze=r(),Ce=r(),Se=r(),Ie=[{title:"区域",dataIndex:"area",key:"area"},{title:"事件数量",dataIndex:"count",key:"count"},{title:"占比",dataIndex:"percentage",key:"percentage"}],Te=[{title:"航道",dataIndex:"waterway",key:"waterway"},{title:"事件数量",dataIndex:"count",key:"count"},{title:"占比",dataIndex:"percentage",key:"percentage"}],Ee=[{title:"船舶类型",dataIndex:"type",key:"type"},{title:"事件数量",dataIndex:"count",key:"count"},{title:"占比",dataIndex:"percentage",key:"percentage"}],Re=[{title:"吨位范围",dataIndex:"range",key:"range"},{title:"事件数量",dataIndex:"count",key:"count"},{title:"占比",dataIndex:"percentage",key:"percentage"}],We=[{title:"报表名称",dataIndex:"name",key:"name"},{title:"报表类型",dataIndex:"type",key:"type"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"状态",dataIndex:"status",key:"status"},{title:"操作",key:"action"}],je=r([{area:"济宁港主码头",count:45,percentage:"35%"},{area:"京杭大运河济宁段",count:32,percentage:"25%"},{area:"济宁港锚地",count:28,percentage:"22%"},{area:"济宁港集装箱堆场",count:18,percentage:"14%"},{area:"济宁港船舶维修区",count:8,percentage:"4%"}]),Le=r([{waterway:"京杭大运河主航道",count:52,percentage:"40%"},{waterway:"济宁港进港航道",count:38,percentage:"29%"},{waterway:"济宁港锚地",count:25,percentage:"19%"},{waterway:"济宁港支航道",count:14,percentage:"12%"}]),$e=r([{type:"集装箱船",count:58,percentage:"45%"},{type:"散货船",count:25,percentage:"19%"},{type:"油轮",count:22,percentage:"17%"},{type:"客船",count:15,percentage:"12%"},{type:"渔船",count:8,percentage:"6%"},{type:"其他",count:3,percentage:"1%"}]),Ke=r([{range:"1000吨以下",count:35,percentage:"27%"},{range:"1000-5000吨",count:42,percentage:"33%"},{range:"5000-10000吨",count:28,percentage:"22%"},{range:"10000-50000吨",count:18,percentage:"14%"},{range:"50000吨以上",count:6,percentage:"4%"}]),Oe=r([{name:"月度事件统计报表",type:"月度报表",createTime:"2025-08-15",status:"已完成"},{name:"风险分析报告",type:"专项报告",createTime:"2025-08-14",status:"处理中"},{name:"年度总结报告",type:"年度报表",createTime:"2025-08-13",status:"已完成"},{name:"济宁港安全事件分析",type:"专项报告",createTime:"2025-08-12",status:"已完成"},{name:"京杭大运河通航分析",type:"专项报告",createTime:"2025-08-11",status:"已完成"},{name:"船舶碰撞事故统计",type:"专项报告",createTime:"2025-08-10",status:"已完成"},{name:"环境监测数据分析",type:"月度报表",createTime:"2025-08-09",status:"已完成"},{name:"应急响应效率评估",type:"专项报告",createTime:"2025-08-08",status:"已完成"},{name:"航道维护状况报告",type:"月度报表",createTime:"2025-08-07",status:"已完成"},{name:"安全培训效果评估",type:"专项报告",createTime:"2025-08-06",status:"已完成"}]),Ae=()=>{if(!we.value)return;he.value=!0,Ce.value=e(we.value,null,{renderer:"canvas",useDirtyRect:!0}),a("custom",{color:["#1890ff","#52c41a","#faad14","#ff4d4f","#722ed1","#13c2c2","#eb2f96"]});Ce.value.setOption({title:{text:"事件类型分布",left:"center",textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"#ccc",borderWidth:1,textStyle:{color:"#333"}},legend:{orient:"vertical",left:"left",top:"middle",textStyle:{color:"#666"}},series:[{name:"事件类型",type:"pie",radius:"50%",center:["60%","50%"],data:[{value:35,name:"船舶碰撞",itemStyle:{color:"#1890ff"}},{value:25,name:"船舶搁浅",itemStyle:{color:"#52c41a"}},{value:20,name:"火灾事故",itemStyle:{color:"#faad14"}},{value:15,name:"设备故障",itemStyle:{color:"#ff4d4f"}},{value:5,name:"其他",itemStyle:{color:"#722ed1"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),he.value=!1},De=()=>{if(!ze.value)return;he.value=!0,Se.value=e(ze.value,null,{renderer:"canvas",useDirtyRect:!0}),a("custom",{color:["#1890ff","#52c41a","#faad14","#ff4d4f","#722ed1","#13c2c2","#eb2f96"]});Se.value.setOption({title:{text:"月度事件趋势",left:"center",textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"axis",backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"#ccc",borderWidth:1,textStyle:{color:"#333"}},legend:{data:["事件数量","严重事件"],bottom:10,textStyle:{color:"#666"}},grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisLabel:{color:"#666"}},yAxis:{type:"value",axisLabel:{color:"#666"}},series:[{name:"事件数量",type:"line",smooth:!0,data:[15,12,18,22,25,28,30,26,24,20,18,16],itemStyle:{color:"#1890ff"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(24, 144, 255, 0.3)"},{offset:1,color:"rgba(24, 144, 255, 0.1)"}]}}},{name:"严重事件",type:"line",smooth:!0,data:[2,1,3,4,5,6,7,5,4,3,2,1],itemStyle:{color:"#ff4d4f"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255, 77, 79, 0.3)"},{offset:1,color:"rgba(255, 77, 79, 0.1)"}]}}}]}),he.value=!1},Ge=()=>{S.success("数据已刷新"),u(()=>{Ce.value&&(Ce.value.dispose(),Ce.value=void 0),Se.value&&(Se.value.dispose(),Se.value=void 0),Ae(),De()})},Xe=()=>{S.success("分析报告生成中..."),setTimeout(()=>{S.success("分析报告已生成，可下载查看")},2e3)},Be=()=>{S.success("数据导出中...")},Fe=()=>{S.info("创建自定义报表功能开发中...")},Je=()=>{S.info("定时报表功能开发中...")};return o(()=>{console.log("统计分析页面已加载"),u(()=>{Ae(),De()})}),(e,a)=>{const c=y("a-statistic"),r=y("a-card"),o=y("a-col"),u=y("a-row"),Ce=y("a-spin"),Se=y("a-button"),Ae=y("a-space"),De=y("a-progress"),Pe=y("a-tab-pane"),Ue=y("a-table"),Ve=y("a-tag"),qe=y("a-tabs");return d(),p("div",T,[a[52]||(a[52]=f("div",{class:"page-header"},[f("h2",null,"统计分析"),f("p",null,"多维度统计分析和报表，包含时间、地理、船舶、环境等维度分析")],-1)),f("div",E,[v(u,{gutter:16},{default:m(()=>[v(o,{span:6},{default:m(()=>[v(r,{class:"overview-card"},{default:m(()=>[v(c,{title:"总事件数",value:I.value.totalEvents,"value-style":{color:"#1890ff"}},{suffix:m(()=>[v(g(t),{style:{color:"#1890ff","margin-left":"8px"}})]),_:1},8,["value"])]),_:1})]),_:1}),v(o,{span:6},{default:m(()=>[v(r,{class:"overview-card"},{default:m(()=>[v(c,{title:"本月事件",value:I.value.monthlyEvents,"value-style":{color:"#52c41a"}},{suffix:m(()=>[v(g(l),{style:{color:"#52c41a","margin-left":"8px"}})]),_:1},8,["value"])]),_:1})]),_:1}),v(o,{span:6},{default:m(()=>[v(r,{class:"overview-card"},{default:m(()=>[v(c,{title:"趋势变化",value:I.value.trendRate,"value-style":{color:"#fa8c16"},suffix:"%"},{suffix:m(()=>[v(g(s),{style:{color:"#fa8c16","margin-left":"8px"}})]),_:1},8,["value"])]),_:1})]),_:1}),v(o,{span:6},{default:m(()=>[v(r,{class:"overview-card"},{default:m(()=>[v(c,{title:"风险等级",value:I.value.riskLevel,"value-style":{color:"#ff4d4f"}},{suffix:m(()=>[v(g(n),{style:{color:"#ff4d4f","margin-left":"8px"}})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),v(u,{gutter:16,style:{"margin-top":"16px"}},{default:m(()=>[v(o,{span:6},{default:m(()=>[v(r,{class:"overview-card"},{default:m(()=>[v(c,{title:"今日事件",value:I.value.todayEvents,"value-style":{color:"#722ed1"}},{suffix:m(()=>[v(g(h),{style:{color:"#722ed1","margin-left":"8px"}})]),_:1},8,["value"])]),_:1})]),_:1}),v(o,{span:6},{default:m(()=>[v(r,{class:"overview-card"},{default:m(()=>[v(c,{title:"严重事件",value:I.value.criticalEvents,"value-style":{color:"#cf1322"}},{suffix:m(()=>[v(g(n),{style:{color:"#cf1322","margin-left":"8px"}})]),_:1},8,["value"])]),_:1})]),_:1}),v(o,{span:6},{default:m(()=>[v(r,{class:"overview-card"},{default:m(()=>[v(c,{title:"已解决",value:I.value.resolvedEvents,"value-style":{color:"#13c2c2"}},{suffix:m(()=>[v(g(w),{style:{color:"#13c2c2","margin-left":"8px"}})]),_:1},8,["value"])]),_:1})]),_:1}),v(o,{span:6},{default:m(()=>[v(r,{class:"overview-card"},{default:m(()=>[v(c,{title:"满意度",value:I.value.satisfactionRate,"value-style":{color:"#eb2f96"},suffix:"%"},{suffix:m(()=>[v(g(s),{style:{color:"#eb2f96","margin-left":"8px"}})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),f("div",R,[v(u,{gutter:16},{default:m(()=>[v(o,{span:12},{default:m(()=>[v(r,{title:"事件类型分布",class:"chart-card"},{default:m(()=>[f("div",W,[v(Ce,{spinning:he.value,tip:"图表加载中..."},{default:m(()=>[f("div",{ref_key:"eventTypeChartRef",ref:we,class:"chart-wrapper"},null,512)]),_:1},8,["spinning"])])]),_:1})]),_:1}),v(o,{span:12},{default:m(()=>[v(r,{title:"事件趋势分析",class:"chart-card"},{default:m(()=>[f("div",j,[v(Ce,{spinning:he.value,tip:"图表加载中..."},{default:m(()=>[f("div",{ref_key:"eventTrendChartRef",ref:ze,class:"chart-wrapper"},null,512)]),_:1},8,["spinning"])])]),_:1})]),_:1})]),_:1})]),f("div",L,[v(r,{title:"详细统计分析",class:"analysis-card"},{extra:m(()=>[v(Ae,null,{default:m(()=>[v(Se,{onClick:Ge},{default:m(()=>[v(g(i)),a[1]||(a[1]=_(" 刷新数据 ",-1))]),_:1}),v(Se,{type:"primary",onClick:Xe},{default:m(()=>[v(g(w)),a[2]||(a[2]=_(" 生成报告 ",-1))]),_:1}),v(Se,{onClick:Be},{default:m(()=>[v(g(z)),a[3]||(a[3]=_(" 导出数据 ",-1))]),_:1})]),_:1})]),default:m(()=>[v(qe,{activeKey:be.value,"onUpdate:activeKey":a[0]||(a[0]=e=>be.value=e)},{default:m(()=>[v(Pe,{key:"time",tab:"时间维度"},{default:m(()=>[f("div",$,[v(u,{gutter:16},{default:m(()=>[v(o,{span:8},{default:m(()=>[a[8]||(a[8]=f("h4",null,"按小时分布",-1)),f("div",K,[f("div",O,[a[4]||(a[4]=f("span",null,"00-06时",-1)),v(De,{percent:15,size:"small"})]),f("div",A,[a[5]||(a[5]=f("span",null,"06-12时",-1)),v(De,{percent:35,size:"small"})]),f("div",D,[a[6]||(a[6]=f("span",null,"12-18时",-1)),v(De,{percent:30,size:"small"})]),f("div",G,[a[7]||(a[7]=f("span",null,"18-24时",-1)),v(De,{percent:20,size:"small"})])])]),_:1}),v(o,{span:8},{default:m(()=>[a[14]||(a[14]=f("h4",null,"按星期分布",-1)),f("div",X,[f("div",B,[a[9]||(a[9]=f("span",null,"周一",-1)),v(De,{percent:18,size:"small"})]),f("div",F,[a[10]||(a[10]=f("span",null,"周二",-1)),v(De,{percent:22,size:"small"})]),f("div",J,[a[11]||(a[11]=f("span",null,"周三",-1)),v(De,{percent:20,size:"small"})]),f("div",P,[a[12]||(a[12]=f("span",null,"周四",-1)),v(De,{percent:16,size:"small"})]),f("div",U,[a[13]||(a[13]=f("span",null,"周五",-1)),v(De,{percent:24,size:"small"})])])]),_:1}),v(o,{span:8},{default:m(()=>[a[19]||(a[19]=f("h4",null,"按月份分布",-1)),f("div",V,[f("div",q,[a[15]||(a[15]=f("span",null,"1月",-1)),v(De,{percent:15,size:"small"})]),f("div",H,[a[16]||(a[16]=f("span",null,"2月",-1)),v(De,{percent:12,size:"small"})]),f("div",M,[a[17]||(a[17]=f("span",null,"3月",-1)),v(De,{percent:18,size:"small"})]),f("div",N,[a[18]||(a[18]=f("span",null,"4月",-1)),v(De,{percent:22,size:"small"})])])]),_:1})]),_:1})])]),_:1}),v(Pe,{key:"location",tab:"地理维度"},{default:m(()=>[f("div",Q,[v(u,{gutter:16},{default:m(()=>[v(o,{span:12},{default:m(()=>[a[20]||(a[20]=f("h4",null,"按区域分布",-1)),v(Ue,{columns:Ie,"data-source":je.value,pagination:!1,size:"small"},null,8,["data-source"])]),_:1}),v(o,{span:12},{default:m(()=>[a[21]||(a[21]=f("h4",null,"按航道分布",-1)),v(Ue,{columns:Te,"data-source":Le.value,pagination:!1,size:"small"},null,8,["data-source"])]),_:1})]),_:1})])]),_:1}),v(Pe,{key:"vessel",tab:"船舶维度"},{default:m(()=>[f("div",Y,[v(u,{gutter:16},{default:m(()=>[v(o,{span:12},{default:m(()=>[a[22]||(a[22]=f("h4",null,"按船舶类型",-1)),v(Ue,{columns:Ee,"data-source":$e.value,pagination:!1,size:"small"},null,8,["data-source"])]),_:1}),v(o,{span:12},{default:m(()=>[a[23]||(a[23]=f("h4",null,"按船舶吨位",-1)),v(Ue,{columns:Re,"data-source":Ke.value,pagination:!1,size:"small"},null,8,["data-source"])]),_:1})]),_:1})])]),_:1}),v(Pe,{key:"weather",tab:"环境维度"},{default:m(()=>[f("div",Z,[v(u,{gutter:16},{default:m(()=>[v(o,{span:12},{default:m(()=>[a[28]||(a[28]=f("h4",null,"按天气条件",-1)),f("div",ee,[f("div",ae,[a[24]||(a[24]=f("span",null,"晴天",-1)),v(De,{percent:45,size:"small"})]),f("div",te,[a[25]||(a[25]=f("span",null,"多云",-1)),v(De,{percent:25,size:"small"})]),f("div",le,[a[26]||(a[26]=f("span",null,"雨天",-1)),v(De,{percent:20,size:"small"})]),f("div",se,[a[27]||(a[27]=f("span",null,"雾天",-1)),v(De,{percent:10,size:"small"})])])]),_:1}),v(o,{span:12},{default:m(()=>[a[33]||(a[33]=f("h4",null,"按潮汐条件",-1)),f("div",ne,[f("div",ie,[a[29]||(a[29]=f("span",null,"高潮",-1)),v(De,{percent:40,size:"small"})]),f("div",ce,[a[30]||(a[30]=f("span",null,"低潮",-1)),v(De,{percent:35,size:"small"})]),f("div",re,[a[31]||(a[31]=f("span",null,"涨潮",-1)),v(De,{percent:15,size:"small"})]),f("div",oe,[a[32]||(a[32]=f("span",null,"退潮",-1)),v(De,{percent:10,size:"small"})])])]),_:1})]),_:1})])]),_:1}),v(Pe,{key:"risk",tab:"风险分析"},{default:m(()=>[f("div",ue,[v(u,{gutter:16},{default:m(()=>[v(o,{span:12},{default:m(()=>[a[38]||(a[38]=f("h4",null,"风险等级分布",-1)),f("div",de,[f("div",pe,[a[34]||(a[34]=f("span",null,"特别重大",-1)),v(De,{percent:5,size:"small","stroke-color":"#ff4d4f"})]),f("div",fe,[a[35]||(a[35]=f("span",null,"重大",-1)),v(De,{percent:15,size:"small","stroke-color":"#ff7a45"})]),f("div",ve,[a[36]||(a[36]=f("span",null,"较大",-1)),v(De,{percent:30,size:"small","stroke-color":"#ffa940"})]),f("div",me,[a[37]||(a[37]=f("span",null,"一般",-1)),v(De,{percent:50,size:"small","stroke-color":"#52c41a"})])])]),_:1}),v(o,{span:12},{default:m(()=>[a[45]||(a[45]=f("h4",null,"风险趋势分析",-1)),f("div",ye,[f("div",ge,[a[40]||(a[40]=f("span",null,"高风险时段",-1)),v(Ve,{color:"red"},{default:m(()=>[...a[39]||(a[39]=[_("06:00-12:00",-1)])]),_:1})]),f("div",_e,[a[42]||(a[42]=f("span",null,"中风险时段",-1)),v(Ve,{color:"orange"},{default:m(()=>[...a[41]||(a[41]=[_("12:00-18:00",-1)])]),_:1})]),f("div",ke,[a[44]||(a[44]=f("span",null,"低风险时段",-1)),v(Ve,{color:"green"},{default:m(()=>[...a[43]||(a[43]=[_("18:00-06:00",-1)])]),_:1})])])]),_:1})]),_:1})])]),_:1})]),_:1},8,["activeKey"])]),_:1})]),f("div",xe,[v(r,{title:"统计报表",class:"reports-card"},{extra:m(()=>[v(Ae,null,{default:m(()=>[v(Se,{onClick:Fe},{default:m(()=>[v(g(C)),a[46]||(a[46]=_(" 创建自定义报表 ",-1))]),_:1}),v(Se,{onClick:Je},{default:m(()=>[v(g(h)),a[47]||(a[47]=_(" 定时报表 ",-1))]),_:1})]),_:1})]),default:m(()=>[v(Ue,{columns:We,"data-source":Oe.value,pagination:{pageSize:5},size:"small"},{bodyCell:m(({column:e,record:t})=>{return["status"===e.key?(d(),k(Ve,{key:0,color:(l=t.status,{"已完成":"success","处理中":"processing","待处理":"default"}[l]||"default")},{default:m(()=>[_(x(t.status),1)]),_:2},1032,["color"])):"action"===e.key?(d(),k(Ae,{key:1},{default:m(()=>[v(Se,{size:"small",onClick:e=>(e=>{S.info(`查看报表：${e.name}`)})(t)},{default:m(()=>[...a[48]||(a[48]=[_(" 查看 ",-1)])]),_:2},1032,["onClick"]),v(Se,{size:"small",onClick:e=>(e=>{S.success(`正在下载报表：${e.name}`)})(t)},{default:m(()=>[...a[49]||(a[49]=[_(" 下载 ",-1)])]),_:2},1032,["onClick"]),v(Se,{size:"small",onClick:e=>(e=>{S.info(`编辑报表：${e.name}`)})(t)},{default:m(()=>[...a[50]||(a[50]=[_(" 编辑 ",-1)])]),_:2},1032,["onClick"]),v(Se,{size:"small",danger:"",onClick:e=>(e=>{S.success(`删除报表：${e.name}`),Oe.value=Oe.value.filter(a=>a.name!==e.name)})(t)},{default:m(()=>[...a[51]||(a[51]=[_(" 删除 ",-1)])]),_:2},1032,["onClick"])]),_:2},1024)):b("",!0)];var l}),_:1},8,["data-source"])]),_:1})])])}}}),[["__scopeId","data-v-cb8fdae9"]]);export{be as default};
