import{d as e,r as a,f as t,o as l,V as s,W as u,a0 as n,k as i,$ as o,X as d,G as r,u as c,a3 as p,_ as v,a7 as m}from"./vendor-f41c3cc7.js";import{y as f,R as y,h as _}from"./icons-15893848.js";import{b as g,m as k}from"./antd-fa5730cf.js";import{_ as b}from"./index-1266e345.js";const h={class:"integrated-communication"},x={class:"quality-chart"},T={class:"chart-placeholder"},C={class:"chart-content"},S={class:"quality-indicator"},I={class:"quality-value"},w={class:"signal-info"},L={class:"signal-item"},N={class:"signal-value"},q={class:"signal-item"},M={class:"signal-value"},O={class:"signal-item"},U={class:"signal-value"},D={class:"table-operations"},R=b(e({__name:"integrated-communication",setup(e){const b=a({onlineDevices:156,communicationChannels:24,signalStrength:85,qualityScore:92,latency:45,packetLoss:.2,bandwidth:100,todayCommunications:234,totalDuration:89.5,avgResponseTime:32,successRate:98.7}),R=a({protocol:"tcp",port:8080,timeout:30,retryCount:3}),j=t(""),$=t([]),z=t(!1),P=t([{id:"COM001",deviceName:"长江集装箱一号·甲板摄像头",type:"视频通话",status:"success",startTime:"2025-08-20 10:30:00",endTime:"2025-08-20 10:45:00",duration:"15分钟",signalStrength:90,latency:35,packetLoss:.1,remark:"画面稳定、无卡顿",department:"调度中心",operator:"陈志强"},{id:"COM002",deviceName:"海巡三号·卫星电话",type:"语音通话",status:"success",startTime:"2025-08-20 09:15:00",endTime:"2025-08-20 09:25:00",duration:"10分钟",signalStrength:85,latency:42,packetLoss:.3,remark:"语音清晰、回声抑制正常",department:"海事部门",operator:"刘建国"},{id:"COM003",deviceName:"航标站·数据采集终端",type:"数据传输",status:"failed",startTime:"2025-08-20 08:00:00",endTime:"2025-08-20 08:05:00",duration:"5分钟",signalStrength:45,latency:120,packetLoss:5.2,remark:"上行波动大，触发超时重传",department:"技术保障",operator:"王海峰"},{id:"COM004",deviceName:"港区闸口·高清云台摄像机",type:"视频通话",status:"success",startTime:"2025-08-20 14:00:00",endTime:"2025-08-20 14:20:00",duration:"20分钟",signalStrength:95,latency:28,packetLoss:.05,remark:"码率稳定、无明显丢帧",department:"港口管理",operator:"赵明华"},{id:"COM005",deviceName:"应急指挥车·集群对讲终端",type:"语音通话",status:"success",startTime:"2025-08-20 16:00:00",endTime:"2025-08-20 16:15:00",duration:"15分钟",signalStrength:88,latency:38,packetLoss:.2,remark:"组呼接入正常，覆盖良好",department:"应急响应",operator:"钱伟民"},{id:"COM006",deviceName:"拖轮·移动视频终端",type:"数据传输",status:"success",startTime:"2025-08-20 11:00:00",endTime:"2025-08-20 11:30:00",duration:"30分钟",signalStrength:82,latency:55,packetLoss:.8,remark:"数据包完整校验通过",department:"技术保障",operator:"孙志刚"},{id:"COM007",deviceName:"危化品堆场·安检采集器",type:"视频通话",status:"success",startTime:"2025-08-20 13:00:00",endTime:"2025-08-20 13:10:00",duration:"10分钟",signalStrength:92,latency:32,packetLoss:.1,remark:"告警推送与回传同步",department:"安全监督",operator:"周建军"},{id:"COM008",deviceName:"沿江站点·气象监测主机",type:"数据传输",status:"success",startTime:"2025-08-20 15:00:00",endTime:"2025-08-20 15:25:00",duration:"25分钟",signalStrength:87,latency:45,packetLoss:.3,remark:"分钟级数据稳定同步",department:"气象部门",operator:"吴建华"}]),W=[{title:"通讯ID",dataIndex:"id",key:"id"},{title:"设备名称",dataIndex:"deviceName",key:"deviceName"},{title:"通讯类型",dataIndex:"type",key:"type"},{title:"通讯状态",dataIndex:"status",key:"status"},{title:"开始时间",dataIndex:"startTime",key:"startTime"},{title:"通讯时长",dataIndex:"duration",key:"duration"},{title:"信号强度",dataIndex:"signalStrength",key:"signalStrength",customRender:({text:e})=>`${e}%`},{title:"负责部门",dataIndex:"department",key:"department"},{title:"操作员",dataIndex:"operator",key:"operator"},{title:"操作",key:"action",width:150}],G=t(!1),H=t(null),V=e=>({success:"成功",failed:"失败",pending:"待处理",processing:"进行中"}[e]||e),X=()=>{k.success("配置保存成功")},A=()=>{Object.assign(R,{protocol:"tcp",port:8080,timeout:30,retryCount:3}),k.info("配置已重置")},B=e=>{console.log("搜索:",e),k.info(`搜索关键词: ${e}`)},E=()=>{z.value=!0,setTimeout(()=>{z.value=!1,k.success("记录已刷新")},1e3)};return l(()=>{console.log("融合通讯页面已加载")}),(e,a)=>{const t=d("a-statistic"),l=d("a-card"),F=d("a-col"),J=d("a-row"),K=d("a-select-option"),Q=d("a-select"),Y=d("a-form-item"),Z=d("a-input-number"),ee=d("a-button"),ae=d("a-form"),te=d("a-progress"),le=d("a-input-search"),se=d("a-range-picker"),ue=d("a-space"),ne=d("a-tag"),ie=d("a-table"),oe=d("a-descriptions-item"),de=d("a-descriptions"),re=d("a-modal");return s(),u("div",h,[a[28]||(a[28]=n("div",{class:"page-header"},[n("h1",null,"融合通讯"),n("p",null,"集成多种通讯方式，提供统一的通讯调度服务")],-1)),i(J,{gutter:16,class:"status-overview"},{default:o(()=>[i(F,{span:6},{default:o(()=>[i(l,null,{default:o(()=>[i(t,{title:"在线设备",value:b.onlineDevices,"value-style":{color:"#3f8600"}},{suffix:o(()=>[...a[7]||(a[7]=[n("span",{class:"status-indicator online"},null,-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(F,{span:6},{default:o(()=>[i(l,null,{default:o(()=>[i(t,{title:"通讯通道",value:b.communicationChannels,"value-style":{color:"#1890ff"}},{suffix:o(()=>[...a[8]||(a[8]=[n("span",{class:"status-indicator active"},null,-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(F,{span:6},{default:o(()=>[i(l,null,{default:o(()=>[i(t,{title:"信号强度",value:b.signalStrength,"value-style":{color:"#722ed1"}},{suffix:o(()=>[...a[9]||(a[9]=[r("%",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(F,{span:6},{default:o(()=>[i(l,null,{default:o(()=>[i(t,{title:"通讯质量",value:b.qualityScore,"value-style":{color:"#fa8c16"}},{suffix:o(()=>[...a[10]||(a[10]=[r("分",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),i(J,{gutter:16,class:"status-overview",style:{"margin-top":"16px"}},{default:o(()=>[i(F,{span:6},{default:o(()=>[i(l,null,{default:o(()=>[i(t,{title:"今日通讯",value:b.todayCommunications,"value-style":{color:"#eb2f96"}},null,8,["value"])]),_:1})]),_:1}),i(F,{span:6},{default:o(()=>[i(l,null,{default:o(()=>[i(t,{title:"总通讯时长",value:b.totalDuration,"value-style":{color:"#13c2c2"}},{suffix:o(()=>[...a[11]||(a[11]=[r("小时",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(F,{span:6},{default:o(()=>[i(l,null,{default:o(()=>[i(t,{title:"平均响应时间",value:b.avgResponseTime,"value-style":{color:"#52c41a"}},{suffix:o(()=>[...a[12]||(a[12]=[r("ms",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(F,{span:6},{default:o(()=>[i(l,null,{default:o(()=>[i(t,{title:"成功率",value:b.successRate,"value-style":{color:"#f5222d"}},{suffix:o(()=>[...a[13]||(a[13]=[r("%",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),i(J,{gutter:16,class:"main-content"},{default:o(()=>[i(F,{span:12},{default:o(()=>[i(l,{title:"通讯配置管理",class:"config-card"},{default:o(()=>[i(ae,{layout:"vertical"},{default:o(()=>[i(Y,{label:"通讯协议"},{default:o(()=>[i(Q,{value:R.protocol,"onUpdate:value":a[0]||(a[0]=e=>R.protocol=e),placeholder:"选择通讯协议"},{default:o(()=>[i(K,{value:"tcp"},{default:o(()=>[...a[14]||(a[14]=[r("TCP",-1)])]),_:1}),i(K,{value:"udp"},{default:o(()=>[...a[15]||(a[15]=[r("UDP",-1)])]),_:1}),i(K,{value:"http"},{default:o(()=>[...a[16]||(a[16]=[r("HTTP",-1)])]),_:1}),i(K,{value:"websocket"},{default:o(()=>[...a[17]||(a[17]=[r("WebSocket",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),i(Y,{label:"端口号"},{default:o(()=>[i(Z,{value:R.port,"onUpdate:value":a[1]||(a[1]=e=>R.port=e),min:1,max:65535},null,8,["value"])]),_:1}),i(Y,{label:"超时时间(秒)"},{default:o(()=>[i(Z,{value:R.timeout,"onUpdate:value":a[2]||(a[2]=e=>R.timeout=e),min:1,max:60},null,8,["value"])]),_:1}),i(Y,{label:"重试次数"},{default:o(()=>[i(Z,{value:R.retryCount,"onUpdate:value":a[3]||(a[3]=e=>R.retryCount=e),min:0,max:10},null,8,["value"])]),_:1}),i(Y,null,{default:o(()=>[i(ee,{type:"primary",onClick:X},{icon:o(()=>[i(c(f))]),default:o(()=>[a[18]||(a[18]=r(" 保存配置 ",-1))]),_:1}),i(ee,{style:{"margin-left":"8px"},onClick:A},{icon:o(()=>[i(c(y))]),default:o(()=>[a[19]||(a[19]=r(" 重置 ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(F,{span:12},{default:o(()=>[i(l,{title:"通讯质量监控",class:"monitor-card"},{default:o(()=>{return[n("div",x,[n("div",T,[a[24]||(a[24]=n("div",{class:"chart-title"},"信号质量趋势",-1)),n("div",C,[n("div",S,[a[20]||(a[20]=n("span",{class:"quality-label"},"当前质量:",-1)),i(te,{percent:b.qualityScore,"show-info":!1,"stroke-color":(e=b.qualityScore,e>=90?"#52c41a":e>=70?"#faad14":"#f5222d")},null,8,["percent","stroke-color"]),n("span",I,p(b.qualityScore)+"%",1)]),n("div",w,[n("div",L,[a[21]||(a[21]=n("span",{class:"signal-label"},"延迟:",-1)),n("span",N,p(b.latency)+"ms",1)]),n("div",q,[a[22]||(a[22]=n("span",{class:"signal-label"},"丢包率:",-1)),n("span",M,p(b.packetLoss)+"%",1)]),n("div",O,[a[23]||(a[23]=n("span",{class:"signal-label"},"带宽:",-1)),n("span",U,p(b.bandwidth)+"Mbps",1)])])])])])];var e}),_:1})]),_:1})]),_:1}),i(l,{title:"通讯记录",class:"records-card"},{default:o(()=>[n("div",D,[i(ue,null,{default:o(()=>[i(le,{value:j.value,"onUpdate:value":a[4]||(a[4]=e=>j.value=e),placeholder:"搜索通讯记录",style:{width:"200px"},onSearch:B},null,8,["value"]),i(se,{value:$.value,"onUpdate:value":a[5]||(a[5]=e=>$.value=e)},null,8,["value"]),i(ee,{type:"primary",onClick:E},{default:o(()=>[...a[25]||(a[25]=[r("刷新",-1)])]),_:1})]),_:1})]),i(ie,{columns:W,"data-source":P.value,pagination:{pageSize:10},loading:z.value,"row-key":"id"},{bodyCell:o(({column:e,record:t})=>{return["status"===e.key?(s(),v(ne,{key:0,color:(l=t.status,{success:"green",failed:"red",pending:"blue",processing:"orange"}[l]||"default")},{default:o(()=>[r(p(V(t.status)),1)]),_:2},1032,["color"])):"action"===e.key?(s(),v(ue,{key:1},{default:o(()=>[i(ee,{type:"link",size:"small",onClick:e=>(e=>{H.value=e,G.value=!0})(t)},{icon:o(()=>[i(c(g))]),default:o(()=>[a[26]||(a[26]=r(" 查看详情 ",-1))]),_:2},1032,["onClick"]),i(ee,{type:"link",size:"small",onClick:e=>(e=>{k.info(`开始回放通讯记录: ${e.id}`)})(t)},{icon:o(()=>[i(c(_))]),default:o(()=>[a[27]||(a[27]=r(" 回放 ",-1))]),_:2},1032,["onClick"])]),_:2},1024)):m("",!0)];var l}),_:1},8,["data-source","loading"])]),_:1}),i(re,{open:G.value,"onUpdate:open":a[6]||(a[6]=e=>G.value=e),title:"通讯记录详情",width:"600px",footer:null},{default:o(()=>[H.value?(s(),v(de,{key:0,column:2,bordered:""},{default:o(()=>[i(oe,{label:"通讯ID"},{default:o(()=>[r(p(H.value.id),1)]),_:1}),i(oe,{label:"设备名称"},{default:o(()=>[r(p(H.value.deviceName),1)]),_:1}),i(oe,{label:"通讯类型"},{default:o(()=>[r(p(H.value.type),1)]),_:1}),i(oe,{label:"通讯状态"},{default:o(()=>[r(p(V(H.value.status)),1)]),_:1}),i(oe,{label:"开始时间"},{default:o(()=>[r(p(H.value.startTime),1)]),_:1}),i(oe,{label:"结束时间"},{default:o(()=>[r(p(H.value.endTime),1)]),_:1}),i(oe,{label:"通讯时长"},{default:o(()=>[r(p(H.value.duration),1)]),_:1}),i(oe,{label:"信号强度"},{default:o(()=>[r(p(H.value.signalStrength)+"%",1)]),_:1}),i(oe,{label:"延迟"},{default:o(()=>[r(p(H.value.latency)+"ms",1)]),_:1}),i(oe,{label:"丢包率"},{default:o(()=>[r(p(H.value.packetLoss)+"%",1)]),_:1}),i(oe,{label:"负责部门"},{default:o(()=>[r(p(H.value.department),1)]),_:1}),i(oe,{label:"操作员"},{default:o(()=>[r(p(H.value.operator),1)]),_:1}),i(oe,{label:"备注",span:2},{default:o(()=>[r(p(H.value.remark||"无"),1)]),_:1})]),_:1})):m("",!0)]),_:1},8,["open"])])}}}),[["__scopeId","data-v-1c84f5d4"]]);export{R as default};
