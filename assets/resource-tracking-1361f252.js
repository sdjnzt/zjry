import{m as e,M as a}from"./antd-fa5730cf.js";import{d as t,f as l,r as n,c as i,o,b as s,V as u,W as r,a0 as c,k as d,$ as m,X as p,u as v,G as f,a3 as g,F as _,a1 as k,a8 as h,_ as y,a2 as b,a7 as w}from"./vendor-f41c3cc7.js";import{V as T,d as q,T as z,k as C,R as x}from"./icons-15893848.js";import{_ as $}from"./index-6bb65380.js";const S={class:"resource-tracking"},U={class:"resource-overview"},I={class:"card-title"},M={class:"statistic-value"},j={class:"statistic-desc"},O={class:"card-title"},D={class:"statistic-value"},A={class:"statistic-desc"},B={class:"card-title"},F={class:"statistic-value"},L={class:"statistic-desc"},R={class:"card-title"},V={class:"statistic-value"},G={class:"statistic-desc"},J={class:"resource-monitoring"},K={class:"status-list"},Q={class:"status-icon"},W={class:"status-info"},X={class:"status-name"},E={class:"status-desc"},H={class:"status-time"},N={class:"status-indicator"},P={class:"status-pagination"},Y={class:"utilization-charts"},Z={class:"chart-item"},ee={class:"chart-item"},ae={class:"chart-item"},te={class:"chart-item"},le={class:"resource-list"},ne={class:"list-filters"},ie=$(t({__name:"resource-tracking",setup(t){const $=l(!1),ie=l(""),oe=l(""),se=l(""),ue=l(!1),re=l(!1),ce=l({}),de=n({camera:{total:1247,online:1189,offline:58},mobile:{total:234,online:218,offline:16},personnel:{total:456,online:423,offline:33},equipment:{total:789,online:745,offline:44}}),me=l([{id:"1",name:"主航道监控点A",description:"实时监控主航道船舶通行情况",status:"online",updateTime:"2025-08-20 15:30:00",icon:T},{id:"2",name:"移动巡查车01",description:"执行日常巡查任务",status:"online",updateTime:"2025-08-20 15:28:00",icon:q},{id:"3",name:"应急响应小组",description:"待命状态，随时响应紧急情况",status:"online",updateTime:"2025-08-20 15:25:00",icon:z},{id:"4",name:"无人机设备03",description:"设备维护中，预计2小时后恢复",status:"warning",updateTime:"2025-08-20 15:20:00",icon:C},{id:"5",name:"吴淞口监控点B",description:"监控吴淞口船舶进出港情况",status:"online",updateTime:"2025-08-20 15:18:00",icon:T},{id:"6",name:"宝山港监控点C",description:"监控宝山港码头作业情况",status:"online",updateTime:"2025-08-20 15:15:00",icon:T},{id:"7",name:"外高桥监控点D",description:"监控外高桥港区安全情况",status:"online",updateTime:"2025-08-20 15:12:00",icon:T},{id:"8",name:"移动巡查车02",description:"执行专项检查任务",status:"online",updateTime:"2025-08-20 15:10:00",icon:q},{id:"9",name:"无人机设备01",description:"执行高空巡查任务",status:"online",updateTime:"2025-08-20 15:08:00",icon:C},{id:"10",name:"无人机设备02",description:"执行低空巡查任务",status:"online",updateTime:"2025-08-20 15:05:00",icon:C},{id:"11",name:"应急救援小组",description:"执行救援任务",status:"online",updateTime:"2025-08-20 15:02:00",icon:z},{id:"12",name:"技术维护小组",description:"执行设备维护任务",status:"warning",updateTime:"2025-08-20 14:58:00",icon:z}]),pe=n({camera:92,mobile:89,personnel:87,equipment:91}),ve=l([{id:"1",name:"主航道监控点A",type:"camera",status:"online",location:"主航道入口处",manager:"陈志强",contact:"13800138001",updateTime:"2025-08-20 15:30:00",remark:"高清摄像头，支持夜视功能"},{id:"2",name:"移动巡查车01",type:"mobile",status:"online",location:"巡查路线A段",manager:"刘建国",contact:"13800138002",updateTime:"2025-08-20 15:28:00",remark:"配备高清摄像头和通讯设备"},{id:"3",name:"应急响应小组",type:"personnel",status:"online",location:"应急指挥中心",manager:"王海峰",contact:"13800138003",updateTime:"2025-08-20 15:25:00",remark:"24小时待命，专业应急响应"},{id:"4",name:"无人机设备03",type:"equipment",status:"warning",location:"设备维护中心",manager:"赵明华",contact:"13800138004",updateTime:"2025-08-20 15:20:00",remark:"设备维护中，预计2小时后恢复"},{id:"5",name:"吴淞口监控点B",type:"camera",status:"online",location:"吴淞口港区",manager:"钱伟民",contact:"13800138005",updateTime:"2025-08-20 15:18:00",remark:"4K超高清摄像头，支持360度旋转"},{id:"6",name:"宝山港监控点C",type:"camera",status:"online",location:"宝山港码头",manager:"孙志刚",contact:"13800138006",updateTime:"2025-08-20 15:15:00",remark:"高清摄像头，支持热成像功能"},{id:"7",name:"外高桥监控点D",type:"camera",status:"online",location:"外高桥港区",manager:"周建军",contact:"13800138007",updateTime:"2025-08-20 15:12:00",remark:"高清摄像头，支持人脸识别功能"},{id:"8",name:"移动巡查车02",type:"mobile",status:"online",location:"巡查路线B段",manager:"吴建华",contact:"13800138008",updateTime:"2025-08-20 15:10:00",remark:"配备高清摄像头和通讯设备"},{id:"9",name:"无人机设备01",type:"equipment",status:"online",location:"无人机基地",manager:"郑国强",contact:"13800138009",updateTime:"2025-08-20 15:08:00",remark:"高空巡查无人机，续航时间2小时"},{id:"10",name:"无人机设备02",type:"equipment",status:"online",location:"无人机基地",manager:"王建军",contact:"13800138010",updateTime:"2025-08-20 15:05:00",remark:"低空巡查无人机，续航时间1.5小时"},{id:"11",name:"应急救援小组",type:"personnel",status:"online",location:"应急救援中心",manager:"李志强",contact:"13800138011",updateTime:"2025-08-20 15:02:00",remark:"专业救援人员，配备救援设备"},{id:"12",name:"技术维护小组",type:"personnel",status:"warning",location:"技术维护中心",manager:"张伟民",contact:"13800138012",updateTime:"2025-08-20 14:58:00",remark:"技术维护人员，负责设备维护"}]),fe=l(),ge=n({name:"",type:"",location:"",manager:"",contact:"",remark:""}),_e={name:[{required:!0,message:"请输入资源名称"}],type:[{required:!0,message:"请选择资源类型"}],location:[{required:!0,message:"请输入位置信息"}],manager:[{required:!0,message:"请输入负责人"}],contact:[{required:!0,message:"请输入联系方式"}]},ke=n({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 条记录`}),he=n({current:1,pageSize:3}),ye=[{title:"资源名称",dataIndex:"name",key:"name",width:200},{title:"资源类型",dataIndex:"type",key:"type",width:120},{title:"资源状态",dataIndex:"status",key:"status",width:100},{title:"位置信息",dataIndex:"location",key:"location",width:150},{title:"负责人",dataIndex:"manager",key:"manager",width:100},{title:"最后更新",dataIndex:"updateTime",key:"updateTime",width:180},{title:"操作",key:"action",width:200,fixed:"right"}],be=i(()=>{let e=ve.value;return ie.value&&(e=e.filter(e=>e.type===ie.value)),oe.value&&(e=e.filter(e=>e.status===oe.value)),se.value&&(e=e.filter(e=>e.name.includes(se.value)||e.location.includes(se.value))),e}),we=i(()=>{const e=(he.current-1)*he.pageSize,a=e+he.pageSize;return me.value.slice(e,a)}),Te=e=>({online:"green",offline:"red",warning:"orange"}[e]||"default"),qe=e=>({online:"在线",offline:"离线",warning:"警告"}[e]||e),ze=e=>({camera:"blue",mobile:"green",personnel:"purple",equipment:"orange"}[e]||"default"),Ce=e=>({camera:"监控设备",mobile:"移动设备",personnel:"人员资源",equipment:"设备资源"}[e]||e),xe=e=>e>=80?"#52c41a":e>=60?"#fa8c16":"#ff4d4f",$e=()=>{ke.current=1},Se=()=>{ke.current=1},Ue=()=>{$.value=!0,setTimeout(()=>{$.value=!1,e.success("资源信息已刷新")},1e3)},Ie=(e,a)=>{he.current=e,he.pageSize=a},Me=()=>{var a;null==(a=fe.value)||a.validate().then(()=>{const a=ve.value.findIndex(e=>e.id===ce.value.id);a>-1&&(Object.assign(ve.value[a],{...ge,updateTime:(new Date).toLocaleString()}),e.success("资源信息更新成功"),re.value=!1)})},je=()=>{re.value=!1,Object.assign(ge,{name:"",type:"",location:"",manager:"",contact:"",remark:""})},Oe=e=>{ke.current=e.current,ke.pageSize=e.pageSize};return o(()=>{setInterval(()=>{de.camera.online=Math.floor(20*Math.random())+1180,de.camera.offline=1247-de.camera.online,de.mobile.online=Math.floor(20*Math.random())+200,de.mobile.offline=234-de.mobile.online,de.personnel.online=Math.floor(20*Math.random())+400,de.personnel.offline=456-de.personnel.online,de.equipment.online=Math.floor(20*Math.random())+720,de.equipment.offline=789-de.equipment.online},1e4)}),s(()=>{}),(t,l)=>{const n=p("a-card"),i=p("a-col"),o=p("a-row"),s=p("a-tag"),ve=p("a-pagination"),De=p("a-progress"),Ae=p("a-select-option"),Be=p("a-select"),Fe=p("a-input-search"),Le=p("a-button"),Re=p("a-space"),Ve=p("a-table"),Ge=p("a-descriptions-item"),Je=p("a-descriptions"),Ke=p("a-modal"),Qe=p("a-input"),We=p("a-form-item"),Xe=p("a-textarea"),Ee=p("a-form");return u(),r("div",S,[l[36]||(l[36]=c("div",{class:"page-header"},[c("h1",null,"资源跟踪"),c("p",null,"实时跟踪和监控调度资源的分布、状态和运行情况")],-1)),c("div",U,[d(o,{gutter:16},{default:m(()=>[d(i,{span:6},{default:m(()=>[d(n,{class:"overview-card"},{title:m(()=>[c("span",I,[d(v(T)),l[12]||(l[12]=f(" 监控设备 ",-1))])]),default:m(()=>[c("div",M,g(de.camera.total),1),c("div",j," 在线："+g(de.camera.online)+" | 离线："+g(de.camera.offline),1)]),_:1})]),_:1}),d(i,{span:6},{default:m(()=>[d(n,{class:"overview-card"},{title:m(()=>[c("span",O,[d(v(q)),l[13]||(l[13]=f(" 移动设备 ",-1))])]),default:m(()=>[c("div",D,g(de.mobile.total),1),c("div",A," 在线："+g(de.mobile.online)+" | 离线："+g(de.mobile.offline),1)]),_:1})]),_:1}),d(i,{span:6},{default:m(()=>[d(n,{class:"overview-card"},{title:m(()=>[c("span",B,[d(v(z)),l[14]||(l[14]=f(" 人员资源 ",-1))])]),default:m(()=>[c("div",F,g(de.personnel.total),1),c("div",L," 在岗："+g(de.personnel.online)+" | 离岗："+g(de.personnel.offline),1)]),_:1})]),_:1}),d(i,{span:6},{default:m(()=>[d(n,{class:"overview-card"},{title:m(()=>[c("span",R,[d(v(C)),l[15]||(l[15]=f(" 设备资源 ",-1))])]),default:m(()=>[c("div",V,g(de.equipment.total),1),c("div",G," 可用："+g(de.equipment.online)+" | 维护："+g(de.equipment.offline),1)]),_:1})]),_:1})]),_:1})]),c("div",J,[d(o,{gutter:16},{default:m(()=>[d(i,{span:12},{default:m(()=>[d(n,{title:"实时状态监控",class:"monitoring-card"},{default:m(()=>[c("div",K,[(u(!0),r(_,null,k(we.value,e=>(u(),r("div",{key:e.id,class:h(["status-item",e.status])},[c("div",Q,[(u(),y(b(e.icon)))]),c("div",W,[c("div",X,g(e.name),1),c("div",E,g(e.description),1),c("div",H,g(e.updateTime),1)]),c("div",N,[d(s,{color:Te(e.status)},{default:m(()=>[f(g(qe(e.status)),1)]),_:2},1032,["color"])])],2))),128))]),c("div",P,[d(ve,{current:he.current,"onUpdate:current":l[0]||(l[0]=e=>he.current=e),"page-size":he.pageSize,total:me.value.length,"show-size-changer":!1,"show-quick-jumper":!1,"show-total":(e,a)=>`第 ${a[0]}-${a[1]} 条，共 ${e} 条`,size:"small",onChange:Ie},null,8,["current","page-size","total","show-total"])])]),_:1})]),_:1}),d(i,{span:12},{default:m(()=>[d(n,{title:"资源利用率",class:"utilization-card"},{default:m(()=>[c("div",Y,[c("div",Z,[l[16]||(l[16]=c("div",{class:"chart-title"},"监控设备利用率",-1)),d(De,{percent:pe.camera,"stroke-color":xe(pe.camera),format:e=>`${e}%`},null,8,["percent","stroke-color","format"])]),c("div",ee,[l[17]||(l[17]=c("div",{class:"chart-title"},"移动设备利用率",-1)),d(De,{percent:pe.mobile,"stroke-color":xe(pe.mobile),format:e=>`${e}%`},null,8,["percent","stroke-color","format"])]),c("div",ae,[l[18]||(l[18]=c("div",{class:"chart-title"},"人员资源利用率",-1)),d(De,{percent:pe.personnel,"stroke-color":xe(pe.personnel),format:e=>`${e}%`},null,8,["percent","stroke-color","format"])]),c("div",te,[l[19]||(l[19]=c("div",{class:"chart-title"},"设备资源利用率",-1)),d(De,{percent:pe.equipment,"stroke-color":xe(pe.equipment),format:e=>`${e}%`},null,8,["percent","stroke-color","format"])])])]),_:1})]),_:1})]),_:1})]),c("div",le,[d(n,{title:"资源详细列表",class:"list-card"},{default:m(()=>[c("div",ne,[d(o,{gutter:16,align:"middle"},{default:m(()=>[d(i,{span:6},{default:m(()=>[d(Be,{value:ie.value,"onUpdate:value":l[1]||(l[1]=e=>ie.value=e),placeholder:"资源类型",style:{width:"100%"},onChange:$e},{default:m(()=>[d(Ae,{value:""},{default:m(()=>[...l[20]||(l[20]=[f("全部类型",-1)])]),_:1}),d(Ae,{value:"camera"},{default:m(()=>[...l[21]||(l[21]=[f("监控设备",-1)])]),_:1}),d(Ae,{value:"mobile"},{default:m(()=>[...l[22]||(l[22]=[f("移动设备",-1)])]),_:1}),d(Ae,{value:"personnel"},{default:m(()=>[...l[23]||(l[23]=[f("人员资源",-1)])]),_:1}),d(Ae,{value:"equipment"},{default:m(()=>[...l[24]||(l[24]=[f("设备资源",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),d(i,{span:6},{default:m(()=>[d(Be,{value:oe.value,"onUpdate:value":l[2]||(l[2]=e=>oe.value=e),placeholder:"资源状态",style:{width:"100%"},onChange:$e},{default:m(()=>[d(Ae,{value:""},{default:m(()=>[...l[25]||(l[25]=[f("全部状态",-1)])]),_:1}),d(Ae,{value:"online"},{default:m(()=>[...l[26]||(l[26]=[f("在线",-1)])]),_:1}),d(Ae,{value:"offline"},{default:m(()=>[...l[27]||(l[27]=[f("离线",-1)])]),_:1}),d(Ae,{value:"warning"},{default:m(()=>[...l[28]||(l[28]=[f("警告",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),d(i,{span:8},{default:m(()=>[d(Fe,{value:se.value,"onUpdate:value":l[3]||(l[3]=e=>se.value=e),placeholder:"搜索资源名称、位置...","enter-button":"",onSearch:Se},null,8,["value"])]),_:1}),d(i,{span:4,style:{"text-align":"right"}},{default:m(()=>[d(Le,{type:"primary",onClick:Ue},{default:m(()=>[d(v(x)),l[29]||(l[29]=f(" 刷新 ",-1))]),_:1})]),_:1})]),_:1})]),d(Ve,{columns:ye,"data-source":be.value,pagination:ke,loading:$.value,onChange:Oe},{bodyCell:m(({column:t,record:n})=>["status"===t.key?(u(),y(s,{key:0,color:Te(n.status)},{default:m(()=>[f(g(qe(n.status)),1)]),_:2},1032,["color"])):"type"===t.key?(u(),y(s,{key:1,color:ze(n.type)},{default:m(()=>[f(g(Ce(n.type)),1)]),_:2},1032,["color"])):"action"===t.key?(u(),y(Re,{key:2},{default:m(()=>[d(Le,{type:"link",size:"small",onClick:e=>(e=>{ce.value=e,ue.value=!0})(n)},{default:m(()=>[...l[30]||(l[30]=[f(" 查看 ",-1)])]),_:2},1032,["onClick"]),d(Le,{type:"link",size:"small",onClick:e=>(e=>{Object.assign(ge,e),re.value=!0})(n)},{default:m(()=>[...l[31]||(l[31]=[f(" 编辑 ",-1)])]),_:2},1032,["onClick"]),d(Le,{type:"link",size:"small",onClick:t=>(t=>{const l="online"===t.status?"离线":"上线";a.confirm({title:`确认${l}资源`,content:`确定要${l}资源"${t.name}"吗？`,onOk:()=>{t.status="online"===t.status?"offline":"online",t.updateTime=(new Date).toLocaleString(),e.success(`资源${l}成功`)}})})(n)},{default:m(()=>[f(g("online"===n.status?"离线":"上线"),1)]),_:2},1032,["onClick"])]),_:2},1024)):w("",!0)]),_:1},8,["data-source","pagination","loading"])]),_:1})]),d(Ke,{open:ue.value,"onUpdate:open":l[4]||(l[4]=e=>ue.value=e),title:"资源详情",width:"600px",footer:null},{default:m(()=>[d(Je,{column:1,bordered:""},{default:m(()=>[d(Ge,{label:"资源名称"},{default:m(()=>[f(g(ce.value.name),1)]),_:1}),d(Ge,{label:"资源类型"},{default:m(()=>[d(s,{color:ze(ce.value.type)},{default:m(()=>[f(g(Ce(ce.value.type)),1)]),_:1},8,["color"])]),_:1}),d(Ge,{label:"资源状态"},{default:m(()=>[d(s,{color:Te(ce.value.status)},{default:m(()=>[f(g(qe(ce.value.status)),1)]),_:1},8,["color"])]),_:1}),d(Ge,{label:"位置信息"},{default:m(()=>[f(g(ce.value.location),1)]),_:1}),d(Ge,{label:"负责人"},{default:m(()=>[f(g(ce.value.manager),1)]),_:1}),d(Ge,{label:"联系方式"},{default:m(()=>[f(g(ce.value.contact),1)]),_:1}),d(Ge,{label:"最后更新"},{default:m(()=>[f(g(ce.value.updateTime),1)]),_:1}),d(Ge,{label:"备注"},{default:m(()=>[f(g(ce.value.remark||"无"),1)]),_:1})]),_:1})]),_:1},8,["open"]),d(Ke,{open:re.value,"onUpdate:open":l[11]||(l[11]=e=>re.value=e),title:"编辑资源",width:"500px",onOk:Me,onCancel:je},{default:m(()=>[d(Ee,{ref_key:"editFormRef",ref:fe,model:ge,rules:_e,"label-col":{span:6},"wrapper-col":{span:18}},{default:m(()=>[d(We,{label:"资源名称",name:"name"},{default:m(()=>[d(Qe,{value:ge.name,"onUpdate:value":l[5]||(l[5]=e=>ge.name=e),placeholder:"请输入资源名称"},null,8,["value"])]),_:1}),d(We,{label:"资源类型",name:"type"},{default:m(()=>[d(Be,{value:ge.type,"onUpdate:value":l[6]||(l[6]=e=>ge.type=e),placeholder:"请选择资源类型"},{default:m(()=>[d(Ae,{value:"camera"},{default:m(()=>[...l[32]||(l[32]=[f("监控设备",-1)])]),_:1}),d(Ae,{value:"mobile"},{default:m(()=>[...l[33]||(l[33]=[f("移动设备",-1)])]),_:1}),d(Ae,{value:"personnel"},{default:m(()=>[...l[34]||(l[34]=[f("人员资源",-1)])]),_:1}),d(Ae,{value:"equipment"},{default:m(()=>[...l[35]||(l[35]=[f("设备资源",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),d(We,{label:"位置信息",name:"location"},{default:m(()=>[d(Qe,{value:ge.location,"onUpdate:value":l[7]||(l[7]=e=>ge.location=e),placeholder:"请输入位置信息"},null,8,["value"])]),_:1}),d(We,{label:"负责人",name:"manager"},{default:m(()=>[d(Qe,{value:ge.manager,"onUpdate:value":l[8]||(l[8]=e=>ge.manager=e),placeholder:"请输入负责人"},null,8,["value"])]),_:1}),d(We,{label:"联系方式",name:"contact"},{default:m(()=>[d(Qe,{value:ge.contact,"onUpdate:value":l[9]||(l[9]=e=>ge.contact=e),placeholder:"请输入联系方式"},null,8,["value"])]),_:1}),d(We,{label:"备注",name:"remark"},{default:m(()=>[d(Xe,{value:ge.remark,"onUpdate:value":l[10]||(l[10]=e=>ge.remark=e),placeholder:"请输入备注信息",rows:2},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])])}}}),[["__scopeId","data-v-d9e2ce91"]]);export{ie as default};
