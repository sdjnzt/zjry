import{d as e,f as a,c as l,o as t,w as o,j as n,V as s,W as i,a0 as u,k as d,$ as r,n as c,X as v,G as p,_ as f,a3 as _,B as m,a6 as y,F as E,a1 as M,a7 as k,a8 as A,m as C,A as h}from"./vendor-fea347d2.js";import{m as x}from"./antd-88345056.js";import{_ as P}from"./index-2d914034.js";import"./icons-2f62823c.js";const b={class:"quick-call-container"},w={class:"stats-cards"},I={class:"toolbar"},g={key:0,class:"filter-tags"},T=["onClick","onMouseenter","title"],V={key:0,class:"pulse"},D={class:"title"},O={class:"row"},S={class:"row"},K={class:"row"},R={class:"map-actions"},L={key:3},N={key:4,class:"muted"},U={key:0,class:"detail-drawer"},z={class:"drawer-actions"},Y=P(e({__name:"quick-call",setup(e){var P,Y,j,$;const B=a(""),W=a(""),F=a(""),Z=a(!1),q=a(!1),X=a(null),G=a(null),J=a(null),Q=a([]),H=a(""),ee=a(""),ae=a("map"),le=a(!1),te=a(null);let oe=[];const ne=null==(P={VITE_AMAP_API_KEY:"",VITE_MAP_CENTER:"116.5800,35.3800",VITE_MAP_ZOOM:"12",VITE_MAP_STYLE:"amap://styles/normal",VITE_VIEW_MODE:"3D",BASE_URL:"/zjry/",MODE:"production",DEV:!1,PROD:!0,SSR:!1})?void 0:P.VITE_MAP_CENTER,se=null==(Y={VITE_AMAP_API_KEY:"",VITE_MAP_CENTER:"116.5800,35.3800",VITE_MAP_ZOOM:"12",VITE_MAP_STYLE:"amap://styles/normal",VITE_VIEW_MODE:"3D",BASE_URL:"/zjry/",MODE:"production",DEV:!1,PROD:!0,SSR:!1})?void 0:Y.VITE_MAP_ZOOM,ie=null==(j={VITE_AMAP_API_KEY:"",VITE_MAP_CENTER:"116.5800,35.3800",VITE_MAP_ZOOM:"12",VITE_MAP_STYLE:"amap://styles/normal",VITE_VIEW_MODE:"3D",BASE_URL:"/zjry/",MODE:"production",DEV:!1,PROD:!0,SSR:!1})?void 0:j.VITE_MAP_STYLE,ue=(null==($={VITE_AMAP_API_KEY:"",VITE_MAP_CENTER:"116.5800,35.3800",VITE_MAP_ZOOM:"12",VITE_MAP_STYLE:"amap://styles/normal",VITE_VIEW_MODE:"3D",BASE_URL:"/zjry/",MODE:"production",DEV:!1,PROD:!0,SSR:!1})?void 0:$.VITE_VIEW_MODE).toUpperCase(),de=a([{id:1,code:"CAM001",name:"ç å¤´å‰æ²¿é«˜æ¸…çƒæœº",ip:"192.168.1.101",location:"ç å¤´å‰æ²¿",status:"online",resolution:"4K",department:"æ¸¯å£ç›‘æŽ§éƒ¨",operator:"é™ˆå¿—å¼º",position:{x:20,y:35}},{id:2,code:"CAM002",name:"é›†è£…ç®±å †åœºå›ºå®šæžªæœº",ip:"192.168.1.102",location:"é›†è£…ç®±å †åœº",status:"online",resolution:"1080P",department:"å †åœºç®¡ç†éƒ¨",operator:"åˆ˜å»ºå›½",position:{x:62,y:28}},{id:3,code:"CAM003",name:"ä¸»èˆªé“å¤œè§†æ‘„åƒå¤´",ip:"192.168.1.103",location:"ä¸»èˆªé“",status:"offline",resolution:"4K",department:"èˆªé“ç›‘æŽ§éƒ¨",operator:"çŽ‹æµ·å³°",position:{x:48,y:62}},{id:4,code:"CAM004",name:"é”šåœ°åŒºåŸŸå…¨æ™¯æ‘„åƒå¤´",ip:"192.168.1.104",location:"é”šåœ°åŒºåŸŸ",status:"online",resolution:"1080P",department:"é”šåœ°ç®¡ç†éƒ¨",operator:"èµµæ˜ŽåŽ",position:{x:78,y:55}},{id:5,code:"CAM005",name:"æ¸¯æ± å…¥å£æ™ºèƒ½è¯†åˆ«",ip:"192.168.1.105",location:"æ¸¯æ± å…¥å£",status:"online",resolution:"4K",department:"æ™ºèƒ½ç›‘æŽ§éƒ¨",operator:"é’±ä¼Ÿæ°‘",position:{x:35,y:18}},{id:6,code:"CAM006",name:"æ‹–è½®ç å¤´ç§»åŠ¨ç›‘æŽ§",ip:"192.168.1.106",location:"æ‹–è½®ç å¤´",status:"online",resolution:"1080P",department:"æ‹–è½®ç®¡ç†éƒ¨",operator:"å­™å¿—åˆš",position:{x:14,y:70}},{id:7,code:"CAM007",name:"å±åŒ–å“åŒºé˜²çˆ†æ‘„åƒå¤´",ip:"192.168.1.107",location:"å±åŒ–å“åŒº",status:"online",resolution:"1080P",department:"å®‰å…¨ç›‘æŽ§éƒ¨",operator:"å‘¨å»ºå†›",position:{x:22,y:52}},{id:8,code:"CAM008",name:"ä¿¡å·å¡”å…¨æ™¯ç›‘æŽ§",ip:"192.168.1.108",location:"ä¿¡å·å¡”",status:"online",resolution:"4K",department:"ä¿¡å·ç®¡ç†éƒ¨",operator:"å´å»ºåŽ",position:{x:68,y:20}},{id:9,code:"CAM009",name:"æ²¿æ±Ÿå¤§é“äº¤é€šç›‘æŽ§",ip:"192.168.1.109",location:"æ²¿æ±Ÿå¤§é“",status:"online",resolution:"1080P",department:"äº¤é€šç›‘æŽ§éƒ¨",operator:"é«˜é¹é£ž",position:{x:60,y:64}},{id:10,code:"CAM010",name:"æ¸¯åŠ¡å¤§æ¥¼æ¥¼é¡¶ç›‘æŽ§",ip:"192.168.1.110",location:"æ¸¯åŠ¡å¤§æ¥¼",status:"online",resolution:"4K",department:"è¡Œæ”¿ç›‘æŽ§éƒ¨",operator:"æž—å€©",position:{x:84,y:30}},{id:11,code:"CAM011",name:"é›†è£…ç®±é—¸å£é“é—¸",ip:"192.168.1.111",location:"é›†è£…ç®±é—¸å£",status:"offline",resolution:"1080P",department:"å †åœºç®¡ç†éƒ¨",operator:"åˆ˜å»ºå›½",position:{x:46,y:14}},{id:12,code:"CAM012",name:"æ³Šä½ä¸‰å·å²¸æ¡¥ç›‘æŽ§",ip:"192.168.1.112",location:"ä¸‰å·æ³Šä½",status:"online",resolution:"4K",department:"è£…å¸ä½œä¸šéƒ¨",operator:"å”å®‡èˆª",position:{x:28,y:42}},{id:13,code:"CAM013",name:"å®¢è¿ç å¤´å€™èˆ¹åŽ…",ip:"192.168.1.113",location:"å®¢è¿ç å¤´",status:"online",resolution:"1080P",department:"å®¢è¿ç®¡ç†éƒ¨",operator:"éŸ©æ™“å®",position:{x:76,y:74}},{id:14,code:"CAM014",name:"ç»´ä¿®å·¥åŒºå›´æ ",ip:"192.168.1.114",location:"ç»´ä¿®å·¥åŒº",status:"offline",resolution:"1080P",department:"è®¾å¤‡è¿ç»´éƒ¨",operator:"æ¯•æˆé¾™",position:{x:12,y:28}},{id:15,code:"CAM015",name:"é”šåœ°èˆªæ ‡åœ¨çº¿ç›‘æŽ§",ip:"192.168.1.115",location:"é”šåœ°åŒºåŸŸ",status:"online",resolution:"4K",department:"èˆªé“ç›‘æŽ§éƒ¨",operator:"çŽ‹æµ·å³°",position:{x:82,y:58}},{id:16,code:"CAM016",name:"å±åŒ–ä»“åº“å†…èµ°å»Š",ip:"192.168.1.116",location:"å±åŒ–ä»“åº“",status:"online",resolution:"1080P",department:"å®‰å…¨ç›‘æŽ§éƒ¨",operator:"å‘¨å»ºå†›",position:{x:18,y:84}},{id:17,code:"CAM017",name:"è°ƒåº¦ä¸­å¿ƒå¤§åŽ…",ip:"192.168.1.117",location:"è°ƒåº¦ä¸­å¿ƒ",status:"online",resolution:"4K",department:"è°ƒåº¦ä¸­å¿ƒ",operator:"é™ˆå¿—å¼º",position:{x:54,y:46}},{id:18,code:"CAM018",name:"æ²¹ç å¤´å¸æ²¹è‡‚ç›‘æŽ§",ip:"192.168.1.118",location:"æ²¹å“ç å¤´",status:"online",resolution:"1080P",department:"æ²¹å“ä½œä¸šéƒ¨",operator:"é©¬å»ºæž—",position:{x:40,y:78}}]),re=[{title:"æ‘„åƒå¤´ç¼–å·",dataIndex:"code",key:"code",width:120},{title:"æ‘„åƒå¤´åç§°",dataIndex:"name",key:"name",width:180},{title:"IPåœ°å€",dataIndex:"ip",key:"ip",width:150},{title:"å®‰è£…ä½ç½®",dataIndex:"location",key:"location",width:120},{title:"è´Ÿè´£éƒ¨é—¨",dataIndex:"department",key:"department",width:120},{title:"æ“ä½œå‘˜",dataIndex:"operator",key:"operator",width:120},{title:"çŠ¶æ€",dataIndex:"status",key:"status",width:100},{title:"åˆ†è¾¨çŽ‡",dataIndex:"resolution",key:"resolution",width:100},{title:"æ“ä½œ",key:"action",width:150,fixed:"right"}],ce=a({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0}),ve=l(()=>de.value.filter(e=>"online"===e.status).length);l(()=>de.value.filter(e=>"offline"===e.status).length),l(()=>15),l(()=>{const e=de.value.length;if(!e)return"0%";return Math.round(ve.value/e*100)+"%"});const pe=l(()=>{let e=de.value;if(B.value){const a=B.value.toLowerCase();e=e.filter(e=>e.code.toLowerCase().includes(a)||e.name.toLowerCase().includes(a)||e.ip.toLowerCase().includes(a)||e.location.toLowerCase().includes(a))}return W.value&&(e=e.filter(e=>e.location.includes(W.value))),F.value&&(e=e.filter(e=>e.status===F.value)),H.value&&(e=e.filter(e=>e.resolution===H.value)),ee.value&&(e=e.filter(e=>e.department===ee.value)),ce.value.total=e.length,e}),fe=l(()=>pe.value.filter(e=>!!e.position)),_e=e=>{var a,l;if(e.lng&&e.lat)return[e.lng,e.lat];return[116.95+.001*((null==(a=e.position)?void 0:a.x)||50),35.25+.001*((null==(l=e.position)?void 0:l.y)||50)]},me=()=>{if(!le.value||!te.value)return;oe.forEach(e=>e.setMap(null)),oe=[];fe.value.forEach(e=>{const[a,l]=_e(e),t=new AMap.Marker({position:[a,l],offset:new AMap.Pixel(-10,-10),content:`<div class="amap-pin ${"online"===e.status?"on":"off"}">ðŸ“·</div>`});t.setMap(te.value),t.on("click",()=>De(e)),oe.push(t)})},ye=async()=>{try{if(await new Promise((e,a)=>{if("undefined"!=typeof AMap)return e();const l=document.querySelector("script[data-amap-sdk]");return l?(l.addEventListener("load",()=>e()),void l.addEventListener("error",()=>a(new Error("AMap load error")))):a(new Error("Missing VITE_AMAP_API_KEY"))}),await c(),!J.value)return;const e=(()=>{try{const[e,a]=ne.split(","),l=Number(e),t=Number(a);if(!isNaN(l)&&!isNaN(t))return[l,t]}catch{}return null})(),[a,l]=e||_e(fe.value[0]||{}),t={resizeEnable:!0,zoom:(()=>{const e=Number(se);return isNaN(e)?null:e})()??13,center:[a,l]};ie&&(t.mapStyle=ie),"3D"===ue&&(t.viewMode="3D"),te.value=new AMap.Map(J.value,t),le.value=!0,me()}catch(e){console.error("AMap init failed:",e),le.value=!1}},Ee=a(1),Me=l(()=>fe.value.map(e=>{var a,l;const t=e.id%7*.3,o=e.id%5*.3,n={x:Math.min(95,Math.max(5,((null==(a=e.position)?void 0:a.x)||50)+t-1.5)),y:Math.min(95,Math.max(5,((null==(l=e.position)?void 0:l.y)||50)+o-1.5))};return{...e,renderPos:n}})),ke=()=>{Ee.value=Math.min(1.8,parseFloat((Ee.value+.1).toFixed(2)))},Ae=()=>{Ee.value=Math.max(.6,parseFloat((Ee.value-.1).toFixed(2)))},Ce=()=>{Ee.value=1},he=a({visible:!1,x:0,y:0,data:{}}),xe=()=>{he.value.visible=!1},Pe=l(()=>Array.from(new Set(de.value.map(e=>e.department))).filter(Boolean));let be=null;const we=()=>{be&&clearTimeout(be),be=setTimeout(()=>{x.success(`æœç´¢å®Œæˆï¼Œæ‰¾åˆ° ${pe.value.length} ä¸ªæ‘„åƒå¤´`)},200)},Ie=()=>{x.info(`å·²ç­›é€‰ ${W.value||"å…¨éƒ¨"} åŒºåŸŸ`)},ge=()=>{x.info(`å·²ç­›é€‰ ${F.value||"å…¨éƒ¨"} çŠ¶æ€`)},Te=()=>{B.value="",W.value="",F.value="",H.value="",ee.value=""},Ve=()=>{Z.value=!0,setTimeout(()=>{Z.value=!1,x.success("æ•°æ®å·²åˆ·æ–°")},1e3)},De=e=>{X.value=e},Oe=e=>{"online"===e.status?(x.success(`æ­£åœ¨è°ƒç”¨ ${e.name}`),console.log("è°ƒç”¨æ‘„åƒå¤´:",e)):x.error(`${e.name} ç¦»çº¿ï¼Œæ— æ³•è°ƒç”¨`)},Se=e=>X.value&&e.id===X.value.id?"row-active":"",Ke=e=>({onClick:()=>{X.value=e}}),Re=()=>{X.value?Oe(X.value):x.warning("è¯·å…ˆåœ¨åœ°å›¾æˆ–è¡¨æ ¼ä¸­é€‰æ‹©ä¸€ä¸ªæ‘„åƒå¤´")},Le=()=>{const e=de.value.find(e=>"online"===e.status);e?(X.value=e,Oe(e)):x.warning("æš‚æ— åœ¨çº¿æ‘„åƒå¤´")},Ne=()=>{const e=pe.value.map(e=>({"ç¼–å·":e.code,"åç§°":e.name,IP:e.ip,"åŒºåŸŸ":e.location,"çŠ¶æ€":"online"===e.status?"åœ¨çº¿":"ç¦»çº¿","åˆ†è¾¨çŽ‡":e.resolution,"éƒ¨é—¨":e.department,"æ“ä½œå‘˜":e.operator}));console.table(e),x.success(`å·²å¯¼å‡º ${e.length} æ¡è®°å½•ï¼ˆåœ¨æŽ§åˆ¶å°æŸ¥çœ‹ï¼‰`)},Ue=()=>{x.success("é«˜çº§ç­›é€‰å·²åº”ç”¨")},ze=()=>{H.value="",ee.value=""};return t(()=>{ce.value.total=de.value.length,"map"===ae.value&&ye()}),o(ae,e=>{"map"!==e||le.value?"map"===e&&le.value&&me():ye()}),o(pe,()=>{"map"===ae.value&&le.value&&me()}),n(()=>{oe.forEach(e=>e.setMap&&e.setMap(null)),oe=[],te.value&&te.value.destroy&&te.value.destroy()}),(e,a)=>{const l=v("a-statistic"),t=v("a-card"),o=v("a-col"),n=v("a-row"),c=v("a-button"),x=v("a-space"),P=v("a-input-search"),Y=v("a-select-option"),j=v("a-select"),$=v("a-tag"),te=v("a-collapse-panel"),oe=v("a-collapse"),ne=v("a-tab-pane"),se=v("a-table"),ie=v("a-tabs"),ue=v("a-descriptions-item"),de=v("a-descriptions"),ve=v("a-drawer");return s(),i("div",b,[a[44]||(a[44]=u("div",{class:"page-title"},[u("h1",null,"å¿«é€Ÿè°ƒç”¨"),u("p",null,"æ”¯æŒé€šè¿‡ç‚¹å‡»ç”µå­åœ°å›¾ä¸Šçš„æ‘„åƒå¤´å›¾æ ‡ã€è¾“å…¥æ‘„åƒå¤´ç¼–å·æˆ–åç§°ç­‰æ–¹å¼ï¼Œå¿«é€Ÿè°ƒå–æŒ‡å®šè§†é¢‘æµ")],-1)),u("div",w,[d(n,{gutter:16},{default:r(()=>[d(o,{span:6},{default:r(()=>[d(t,{bordered:!1,class:"elevated-card"},{default:r(()=>[d(l,{title:"æ‘„åƒå¤´æ€»æ•°",value:70})]),_:1})]),_:1}),d(o,{span:6},{default:r(()=>[d(t,{bordered:!1,class:"elevated-card"},{default:r(()=>[d(l,{title:"åœ¨çº¿æ‘„åƒå¤´",value:77,"value-style":{color:"#52c41a"}})]),_:1})]),_:1}),d(o,{span:6},{default:r(()=>[d(t,{bordered:!1,class:"elevated-card"},{default:r(()=>[d(l,{title:"ç¦»çº¿æ‘„åƒå¤´",value:0,"value-style":{color:"#ff4d4f"}})]),_:1})]),_:1}),d(o,{span:6},{default:r(()=>[d(t,{bordered:!1,class:"elevated-card"},{default:r(()=>[d(l,{title:"åœ¨çº¿çŽ‡",value:100})]),_:1})]),_:1})]),_:1}),u("div",I,[d(x,{wrap:""},{default:r(()=>[d(c,{type:"primary",onClick:Le},{default:r(()=>[...a[15]||(a[15]=[p("è°ƒç”¨æœ€è¿‘åœ¨çº¿",-1)])]),_:1}),d(c,{onClick:Ne},{default:r(()=>[...a[16]||(a[16]=[p("å¯¼å‡ºåˆ—è¡¨",-1)])]),_:1}),d(c,{onClick:Te},{default:r(()=>[...a[17]||(a[17]=[p("æ¸…ç©ºç­›é€‰",-1)])]),_:1}),d(c,{onClick:Ve},{default:r(()=>[...a[18]||(a[18]=[p("åˆ·æ–°",-1)])]),_:1})]),_:1})])]),d(t,{title:"å¿«é€Ÿæœç´¢",style:{"margin-bottom":"16px"}},{default:r(()=>[d(n,{gutter:16,align:"middle"},{default:r(()=>[d(o,{xs:24,sm:12,md:10,lg:8},{default:r(()=>[d(P,{value:B.value,"onUpdate:value":a[0]||(a[0]=e=>B.value=e),placeholder:"è¾“å…¥æ‘„åƒå¤´ç¼–å·æˆ–åç§°ï¼ˆå¦‚ CAM001 / ç å¤´å‰æ²¿ï¼‰","enter-button":"æœç´¢",onSearch:we},null,8,["value"])]),_:1}),d(o,{xs:12,sm:6,md:6,lg:5},{default:r(()=>[d(j,{value:W.value,"onUpdate:value":a[1]||(a[1]=e=>W.value=e),placeholder:"é€‰æ‹©åŒºåŸŸ",style:{width:"100%"},onChange:Ie},{default:r(()=>[d(Y,{value:""},{default:r(()=>[...a[19]||(a[19]=[p("å…¨éƒ¨åŒºåŸŸ",-1)])]),_:1}),d(Y,{value:"ç å¤´"},{default:r(()=>[...a[20]||(a[20]=[p("ç å¤´åŒºåŸŸ",-1)])]),_:1}),d(Y,{value:"èˆªé“"},{default:r(()=>[...a[21]||(a[21]=[p("èˆªé“åŒºåŸŸ",-1)])]),_:1}),d(Y,{value:"é”šåœ°"},{default:r(()=>[...a[22]||(a[22]=[p("é”šåœ°åŒºåŸŸ",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),d(o,{xs:12,sm:6,md:6,lg:5},{default:r(()=>[d(j,{value:F.value,"onUpdate:value":a[2]||(a[2]=e=>F.value=e),placeholder:"é€‰æ‹©çŠ¶æ€",style:{width:"100%"},onChange:ge},{default:r(()=>[d(Y,{value:""},{default:r(()=>[...a[23]||(a[23]=[p("å…¨éƒ¨çŠ¶æ€",-1)])]),_:1}),d(Y,{value:"online"},{default:r(()=>[...a[24]||(a[24]=[p("åœ¨çº¿",-1)])]),_:1}),d(Y,{value:"offline"},{default:r(()=>[...a[25]||(a[25]=[p("ç¦»çº¿",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),B.value||W.value||F.value?(s(),i("div",g,[d(x,{wrap:""},{default:r(()=>[B.value?(s(),f($,{key:0,closable:"",onClose:a[3]||(a[3]=m(e=>B.value="",["prevent"]))},{default:r(()=>[p("å…³é”®è¯ï¼š"+_(B.value),1)]),_:1})):y("",!0),W.value?(s(),f($,{key:1,closable:"",onClose:a[4]||(a[4]=m(e=>W.value="",["prevent"]))},{default:r(()=>[p("åŒºåŸŸï¼š"+_(W.value),1)]),_:1})):y("",!0),F.value?(s(),f($,{key:2,closable:"",onClose:a[5]||(a[5]=m(e=>F.value="",["prevent"]))},{default:r(()=>[p("çŠ¶æ€ï¼š"+_("online"===F.value?"åœ¨çº¿":"ç¦»çº¿"),1)]),_:1})):y("",!0),H.value?(s(),f($,{key:3,closable:"",onClose:a[6]||(a[6]=m(e=>H.value="",["prevent"]))},{default:r(()=>[p("åˆ†è¾¨çŽ‡ï¼š"+_(H.value),1)]),_:1})):y("",!0),ee.value?(s(),f($,{key:4,closable:"",onClose:a[7]||(a[7]=m(e=>ee.value="",["prevent"]))},{default:r(()=>[p("éƒ¨é—¨ï¼š"+_(ee.value),1)]),_:1})):y("",!0)]),_:1})])):y("",!0),d(oe,{class:"advanced",activeKey:Q.value,"onUpdate:activeKey":a[10]||(a[10]=e=>Q.value=e)},{default:r(()=>[d(te,{key:"1",header:"é«˜çº§ç­›é€‰"},{default:r(()=>[d(n,{gutter:16},{default:r(()=>[d(o,{span:6},{default:r(()=>[d(j,{value:H.value,"onUpdate:value":a[8]||(a[8]=e=>H.value=e),placeholder:"åˆ†è¾¨çŽ‡",style:{width:"100%"}},{default:r(()=>[d(Y,{value:""},{default:r(()=>[...a[26]||(a[26]=[p("å…¨éƒ¨åˆ†è¾¨çŽ‡",-1)])]),_:1}),d(Y,{value:"4K"},{default:r(()=>[...a[27]||(a[27]=[p("4K",-1)])]),_:1}),d(Y,{value:"1080P"},{default:r(()=>[...a[28]||(a[28]=[p("1080P",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),d(o,{span:6},{default:r(()=>[d(j,{value:ee.value,"onUpdate:value":a[9]||(a[9]=e=>ee.value=e),placeholder:"è´Ÿè´£éƒ¨é—¨",style:{width:"100%"}},{default:r(()=>[d(Y,{value:""},{default:r(()=>[...a[29]||(a[29]=[p("å…¨éƒ¨éƒ¨é—¨",-1)])]),_:1}),(s(!0),i(E,null,M(Pe.value,e=>(s(),f(Y,{key:e,value:e},{default:r(()=>[p(_(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),d(o,{span:12,class:"advanced-actions"},{default:r(()=>[d(x,null,{default:r(()=>[d(c,{onClick:Ue},{default:r(()=>[...a[30]||(a[30]=[p("åº”ç”¨",-1)])]),_:1}),d(c,{onClick:ze},{default:r(()=>[...a[31]||(a[31]=[p("æ¸…ç©º",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1}),d(ie,{activeKey:ae.value,"onUpdate:activeKey":a[11]||(a[11]=e=>ae.value=e)},{default:r(()=>[d(ne,{key:"map",tab:"ç”µå­åœ°å›¾"},{default:r(()=>[d(t,{title:"ç”µå­åœ°å›¾ï¼ˆå¯ç‚¹å‡»æ‘„åƒå¤´å›¾æ ‡ï¼‰",class:"map-card elevated-card",bordered:!1},{default:r(()=>[le.value?(s(),i("div",{key:0,ref_key:"amapEl",ref:J,class:"map-panel"},null,512)):(s(),i("div",{key:1,ref_key:"mapEl",ref:G,class:"map-panel"},[a[33]||(a[33]=u("div",{class:"grid"},null,-1)),u("div",{class:"sim-inner",style:A({transform:"scale("+Ee.value+")"})},[(s(!0),i(E,null,M(Me.value,e=>(s(),i("button",{key:e.id,class:k(["camera-marker",{active:X.value&&X.value.id===e.id,offline:"online"!==e.status,online:"online"===e.status}]),style:A({left:e.renderPos.x+"%",top:e.renderPos.y+"%"}),onClick:a=>De(e),onMouseenter:a=>((e,a)=>{he.value={visible:!0,x:a.offsetX+16,y:a.offsetY+16,data:e}})(e,a),onMouseleave:xe,title:e.name+"ï¼ˆ"+("online"===e.status?"åœ¨çº¿":"ç¦»çº¿")+"ï¼‰"},[u("span",{class:"dot",style:A({backgroundColor:"online"===e.status?"#52c41a":"#ff4d4f"})},null,4),a[32]||(a[32]=u("span",{class:"cam"},"ðŸ“·",-1)),"online"===e.status?(s(),i("span",V)):y("",!0)],46,T))),128))],4),C(u("div",{class:"sim-tooltip",style:A({left:he.value.x+"px",top:he.value.y+"px"})},[u("div",D,_(he.value.data.name),1),u("div",O,"ç¼–å·ï¼š"+_(he.value.data.code),1),u("div",S,"ä½ç½®ï¼š"+_(he.value.data.location),1),u("div",K,"çŠ¶æ€ï¼š"+_("online"===he.value.data.status?"åœ¨çº¿":"ç¦»çº¿"),1)],4),[[h,he.value.visible]]),a[34]||(a[34]=u("div",{class:"sim-overlay"},[u("div",{class:"compass"},"N"),u("div",{class:"scale"},"100m")],-1))],512)),a[39]||(a[39]=u("div",{class:"map-legend"},[u("span",{class:"legend-item"},[u("i",{class:"legend-dot online"}),p("åœ¨çº¿")]),u("span",{class:"legend-item"},[u("i",{class:"legend-dot offline"}),p("ç¦»çº¿")])],-1)),u("div",R,[d(x,null,{default:r(()=>[d(c,{type:"primary",disabled:!X.value||"online"!==X.value.status,onClick:Re},{default:r(()=>[...a[35]||(a[35]=[p(" è°ƒç”¨é€‰ä¸­æ‘„åƒå¤´ ",-1)])]),_:1},8,["disabled"]),le.value?y("",!0):(s(),f(c,{key:0,onClick:Ae},{default:r(()=>[...a[36]||(a[36]=[p("-",-1)])]),_:1})),le.value?y("",!0):(s(),f(c,{key:1,onClick:ke},{default:r(()=>[...a[37]||(a[37]=[p("+",-1)])]),_:1})),le.value?y("",!0):(s(),f(c,{key:2,onClick:Ce},{default:r(()=>[...a[38]||(a[38]=[p("å¤ä½",-1)])]),_:1})),X.value?(s(),i("span",L," å·²é€‰ä¸­ï¼š"+_(X.value.name)+"ï¼ˆ"+_("online"===X.value.status?"åœ¨çº¿":"ç¦»çº¿")+"ï¼‰ ",1)):(s(),i("span",N,"ç‚¹å‡»åœ°å›¾ä¸Šçš„ðŸ“·å›¾æ ‡é€‰æ‹©æ‘„åƒå¤´"))]),_:1})])]),_:1})]),_:1}),d(ne,{key:"list",tab:"æ‘„åƒå¤´åˆ—è¡¨"},{default:r(()=>[d(t,{title:"æ‘„åƒå¤´åˆ—è¡¨",bordered:!1,class:"elevated-card"},{default:r(()=>[d(se,{columns:re,"data-source":pe.value,pagination:ce.value,loading:Z.value,"row-key":"id","row-class-name":Se,locale:{emptyText:"æš‚æ— æ•°æ®ï¼Œè¯·è°ƒæ•´ç­›é€‰æ¡ä»¶"},customRow:Ke,size:"middle"},{bodyCell:r(({column:e,record:l})=>["status"===e.key?(s(),f($,{key:0,color:"online"===l.status?"green":"red"},{default:r(()=>[p(_("online"===l.status?"åœ¨çº¿":"ç¦»çº¿"),1)]),_:2},1032,["color"])):"action"===e.key?(s(),f(x,{key:1},{default:r(()=>[d(c,{type:"primary",size:"small",onClick:e=>Oe(l),disabled:"online"!==l.status},{default:r(()=>[...a[40]||(a[40]=[p(" è°ƒç”¨ ",-1)])]),_:2},1032,["onClick","disabled"]),d(c,{size:"small",onClick:e=>{return a=l,X.value=a,void(q.value=!0);var a}},{default:r(()=>[...a[41]||(a[41]=[p("è¯¦æƒ…",-1)])]),_:2},1032,["onClick"])]),_:2},1024)):y("",!0)]),_:1},8,["data-source","pagination","loading","locale"])]),_:1})]),_:1})]),_:1},8,["activeKey"]),d(ve,{open:q.value,"onUpdate:open":a[14]||(a[14]=e=>q.value=e),width:420,placement:"right",title:"æ‘„åƒå¤´è¯¦æƒ…"},{default:r(()=>[X.value?(s(),i("div",U,[d(de,{column:1,bordered:"",size:"small"},{default:r(()=>[d(ue,{label:"æ‘„åƒå¤´åç§°"},{default:r(()=>[p(_(X.value.name),1)]),_:1}),d(ue,{label:"æ‘„åƒå¤´ç¼–å·"},{default:r(()=>[p(_(X.value.code),1)]),_:1}),d(ue,{label:"IPåœ°å€"},{default:r(()=>[p(_(X.value.ip),1)]),_:1}),d(ue,{label:"å®‰è£…ä½ç½®"},{default:r(()=>[p(_(X.value.location),1)]),_:1}),d(ue,{label:"çŠ¶æ€"},{default:r(()=>[d($,{color:"online"===X.value.status?"green":"red"},{default:r(()=>[p(_("online"===X.value.status?"åœ¨çº¿":"ç¦»çº¿"),1)]),_:1},8,["color"])]),_:1}),d(ue,{label:"åˆ†è¾¨çŽ‡"},{default:r(()=>[p(_(X.value.resolution),1)]),_:1}),d(ue,{label:"è´Ÿè´£éƒ¨é—¨"},{default:r(()=>[p(_(X.value.department),1)]),_:1}),d(ue,{label:"æ“ä½œå‘˜"},{default:r(()=>[p(_(X.value.operator),1)]),_:1})]),_:1}),u("div",z,[d(x,null,{default:r(()=>[d(c,{type:"primary",disabled:"online"!==X.value.status,onClick:a[12]||(a[12]=e=>Oe(X.value))},{default:r(()=>[...a[42]||(a[42]=[p("ç«‹å³è°ƒç”¨",-1)])]),_:1},8,["disabled"]),d(c,{onClick:a[13]||(a[13]=e=>q.value=!1)},{default:r(()=>[...a[43]||(a[43]=[p("å…³é—­",-1)])]),_:1})]),_:1})])])):y("",!0)]),_:1},8,["open"])])}}}),[["__scopeId","data-v-5ecfa59c"]]);export{Y as default};
