import{d as e,r as a,f as l,o as t,V as u,W as s,a0 as i,k as o,$ as n,X as d,G as r,_ as c,a7 as v,F as p,a1 as f,a8 as m,a3 as _}from"./vendor-f41c3cc7.js";import{m as g}from"./antd-fa5730cf.js";import{_ as y}from"./index-3f839e27.js";import"./icons-15893848.js";const h={class:"intelligent-routing"},b={class:"rule-operations"},k={class:"monitor-item"},x={class:"topology-placeholder"},w={class:"connections"},C={class:"connection-info"},U={class:"target"},R={class:"status"},I={class:"monitor-item"},O={class:"performance-chart"},z={class:"performance-label"},N={class:"performance-bar"},T={class:"performance-value"},L={class:"monitor-item"},j={class:"routing-stats"},W={class:"stat-item"},$={class:"stat-value"},q={class:"stat-item"},E={class:"stat-value success"},G={class:"stat-item"},H={class:"stat-value failed"},P={class:"stat-item"},S={class:"stat-value"},D={class:"log-operations"},F=y(e({__name:"intelligent-routing",setup(e){const y=a({routingNodes:12,activeRoutes:8,successRate:95.8,avgLatency:45,totalRoutes:156,successRoutes:149,failedRoutes:7,avgResponseTime:38}),F=a({algorithm:"adaptive",priorityWeight:50,routingPolicies:["auto-failover","load-balancing"],maxHops:5,timeout:30}),Q=l([{id:"RULE001",name:"中心到节点1路由",source:"center",target:"node1",priority:"high",description:"中心节点到节点1的高优先级路由",enabled:!0},{id:"RULE002",name:"节点1到节点2路由",source:"node1",target:"node2",priority:"normal",description:"节点1到节点2的普通路由",enabled:!0},{id:"RULE003",name:"节点2到中心路由",source:"node2",target:"center",priority:"low",description:"节点2到中心的低优先级路由",enabled:!1}]),V=l([{id:"CONN001",target:"节点1",status:"active"},{id:"CONN002",target:"节点2",status:"active"},{id:"CONN003",target:"节点3",status:"warning"},{id:"CONN004",target:"节点4",status:"error"}]),X=l([{name:"路由成功率",value:95.8},{name:"平均延迟",value:78},{name:"带宽利用率",value:65},{name:"节点健康度",value:92}]),A=l([{id:"LOG001",timestamp:"2025-08-26 10:30:00",level:"info",source:"center",target:"node1",status:"成功",responseTime:35,message:"路由建立成功，延迟35ms"},{id:"LOG002",timestamp:"2025-08-26 10:25:00",level:"warning",source:"node2",target:"center",status:"延迟较高",responseTime:120,message:"路由延迟较高，建议检查网络质量"},{id:"LOG003",timestamp:"2025-08-26 10:20:00",level:"error",source:"node3",target:"center",status:"连接失败",responseTime:0,message:"路由连接失败，节点3离线"}]),B=[{title:"规则名称",dataIndex:"name",key:"name"},{title:"源节点",dataIndex:"source",key:"source"},{title:"目标节点",dataIndex:"target",key:"target"},{title:"优先级",dataIndex:"priority",key:"priority"},{title:"状态",dataIndex:"status",key:"status"},{title:"操作",key:"action",width:120}],J=[{title:"时间",dataIndex:"timestamp",key:"timestamp",width:150},{title:"级别",dataIndex:"level",key:"level",width:80},{title:"源节点",dataIndex:"source",key:"source",width:100},{title:"目标节点",dataIndex:"target",key:"target",width:100},{title:"状态",dataIndex:"status",key:"status",width:100},{title:"响应时间",dataIndex:"responseTime",key:"responseTime",width:100},{title:"操作",key:"action",width:100}],K=l(""),M=l([]),Y=l(""),Z=l(!1),ee=l(!1),ae=l(!1),le=l(!1),te=a({id:"",name:"",source:"",target:"",priority:"normal",description:""}),ue=l(null),se=e=>({info:"信息",warning:"警告",error:"错误"}[e]||e),ie=()=>{ee.value=!0,setTimeout(()=>{ee.value=!1,g.success("路由策略保存成功")},1e3)},oe=()=>{Object.assign(F,{algorithm:"adaptive",priorityWeight:50,routingPolicies:["auto-failover","load-balancing"],maxHops:5,timeout:30}),g.info("策略已重置")},ne=()=>{g.info("开始测试路由策略")},de=()=>{Object.assign(te,{id:"",name:"",source:"",target:"",priority:"normal",description:""}),ae.value=!0},re=()=>{if(te.name&&te.source&&te.target){if(te.id){const e=Q.value.findIndex(e=>e.id===te.id);-1!==e&&Object.assign(Q.value[e],te),g.success("规则更新成功")}else{const e={...te,id:`RULE${Date.now()}`,enabled:!0};Q.value.unshift(e),g.success("规则添加成功")}ae.value=!1}else g.error("请填写完整的规则信息")},ce=()=>{ae.value=!1},ve=e=>{console.log("搜索:",e),g.info(`搜索关键词: ${e}`)},pe=()=>{Z.value=!0,setTimeout(()=>{Z.value=!1,g.success("日志已刷新")},1e3)},fe=()=>{A.value=[],g.success("日志已清空")};return t(()=>{console.log("智能路由页面已加载")}),(e,a)=>{const l=d("a-statistic"),t=d("a-card"),me=d("a-col"),_e=d("a-row"),ge=d("a-select-option"),ye=d("a-select"),he=d("a-form-item"),be=d("a-slider"),ke=d("a-checkbox"),xe=d("a-checkbox-group"),we=d("a-input-number"),Ce=d("a-button"),Ue=d("a-space"),Re=d("a-form"),Ie=d("a-switch"),Oe=d("a-popconfirm"),ze=d("a-table"),Ne=d("a-progress"),Te=d("a-input-search"),Le=d("a-range-picker"),je=d("a-tag"),We=d("a-input"),$e=d("a-textarea"),qe=d("a-modal"),Ee=d("a-descriptions-item"),Ge=d("a-descriptions");return u(),s("div",h,[a[58]||(a[58]=i("div",{class:"page-header"},[i("h1",null,"智能路由"),i("p",null,"基于智能算法的通讯路由管理，实现最优通讯路径选择")],-1)),o(_e,{gutter:16,class:"status-overview"},{default:n(()=>[o(me,{span:6},{default:n(()=>[o(t,null,{default:n(()=>[o(l,{title:"路由节点",value:y.routingNodes,"value-style":{color:"#3f8600"}},null,8,["value"])]),_:1})]),_:1}),o(me,{span:6},{default:n(()=>[o(t,null,{default:n(()=>[o(l,{title:"活跃路由",value:y.activeRoutes,"value-style":{color:"#1890ff"}},null,8,["value"])]),_:1})]),_:1}),o(me,{span:6},{default:n(()=>[o(t,null,{default:n(()=>[o(l,{title:"路由成功率",value:y.successRate,"value-style":{color:"#fa8c16"}},{suffix:n(()=>[...a[15]||(a[15]=[r("%",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),o(me,{span:6},{default:n(()=>[o(t,null,{default:n(()=>[o(l,{title:"平均延迟",value:y.avgLatency,"value-style":{color:"#722ed1"}},{suffix:n(()=>[...a[16]||(a[16]=[r("ms",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),o(_e,{gutter:16,class:"main-content"},{default:n(()=>[o(me,{span:12},{default:n(()=>[o(t,{title:"路由策略配置",class:"strategy-config"},{default:n(()=>[o(Re,{layout:"vertical"},{default:n(()=>[o(he,{label:"路由算法"},{default:n(()=>[o(ye,{value:F.algorithm,"onUpdate:value":a[0]||(a[0]=e=>F.algorithm=e),placeholder:"选择路由算法"},{default:n(()=>[o(ge,{value:"shortest"},{default:n(()=>[...a[17]||(a[17]=[r("最短路径",-1)])]),_:1}),o(ge,{value:"fastest"},{default:n(()=>[...a[18]||(a[18]=[r("最快路径",-1)])]),_:1}),o(ge,{value:"reliable"},{default:n(()=>[...a[19]||(a[19]=[r("最可靠路径",-1)])]),_:1}),o(ge,{value:"adaptive"},{default:n(()=>[...a[20]||(a[20]=[r("自适应路由",-1)])]),_:1}),o(ge,{value:"load-balance"},{default:n(()=>[...a[21]||(a[21]=[r("负载均衡",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),o(he,{label:"优先级权重"},{default:n(()=>[o(be,{value:F.priorityWeight,"onUpdate:value":a[1]||(a[1]=e=>F.priorityWeight=e),min:0,max:100,marks:{0:"延迟优先",50:"平衡",100:"可靠性优先"}},null,8,["value"])]),_:1}),o(he,{label:"路由策略"},{default:n(()=>[o(xe,{value:F.routingPolicies,"onUpdate:value":a[2]||(a[2]=e=>F.routingPolicies=e)},{default:n(()=>[o(ke,{value:"auto-failover"},{default:n(()=>[...a[22]||(a[22]=[r("自动故障转移",-1)])]),_:1}),o(ke,{value:"load-balancing"},{default:n(()=>[...a[23]||(a[23]=[r("负载均衡",-1)])]),_:1}),o(ke,{value:"qos-guarantee"},{default:n(()=>[...a[24]||(a[24]=[r("QoS保证",-1)])]),_:1}),o(ke,{value:"bandwidth-optimization"},{default:n(()=>[...a[25]||(a[25]=[r("带宽优化",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),o(he,{label:"最大跳数"},{default:n(()=>[o(we,{value:F.maxHops,"onUpdate:value":a[3]||(a[3]=e=>F.maxHops=e),min:1,max:10,placeholder:"最大路由跳数"},null,8,["value"])]),_:1}),o(he,{label:"超时时间(秒)"},{default:n(()=>[o(we,{value:F.timeout,"onUpdate:value":a[4]||(a[4]=e=>F.timeout=e),min:1,max:60,placeholder:"路由超时时间"},null,8,["value"])]),_:1}),o(he,null,{default:n(()=>[o(Ue,null,{default:n(()=>[o(Ce,{type:"primary",onClick:ie,loading:ee.value},{default:n(()=>[...a[26]||(a[26]=[r(" 保存策略 ",-1)])]),_:1},8,["loading"]),o(Ce,{onClick:oe},{default:n(()=>[...a[27]||(a[27]=[r("重置",-1)])]),_:1}),o(Ce,{onClick:ne},{default:n(()=>[...a[28]||(a[28]=[r("测试策略",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(me,{span:12},{default:n(()=>[o(t,{title:"路由规则管理",class:"rule-management"},{default:n(()=>[i("div",b,[o(Ce,{type:"primary",onClick:de,style:{"margin-bottom":"16px"}},{default:n(()=>[...a[29]||(a[29]=[r(" 添加规则 ",-1)])]),_:1})]),o(ze,{columns:B,"data-source":Q.value,pagination:{pageSize:5},size:"small","row-key":"id"},{bodyCell:n(({column:e,record:l})=>["status"===e.key?(u(),c(Ie,{key:0,checked:l.enabled,"onUpdate:checked":e=>l.enabled=e,size:"small",onChange:e=>{return a=l,void g.success(`规则 ${a.name} ${a.enabled?"已启用":"已禁用"}`);var a}},null,8,["checked","onUpdate:checked","onChange"])):"action"===e.key?(u(),c(Ue,{key:1},{default:n(()=>[o(Ce,{type:"link",size:"small",onClick:e=>{return a=l,Object.assign(te,a),void(ae.value=!0);var a}},{default:n(()=>[...a[30]||(a[30]=[r(" 编辑 ",-1)])]),_:2},1032,["onClick"]),o(Oe,{title:"确定要删除这条规则吗？",onConfirm:e=>(e=>{const a=Q.value.findIndex(a=>a.id===e.id);-1!==a&&(Q.value.splice(a,1),g.success("规则删除成功"))})(l)},{default:n(()=>[o(Ce,{type:"link",size:"small",danger:""},{default:n(()=>[...a[31]||(a[31]=[r("删除",-1)])]),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)):v("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1}),o(t,{title:"路由监控",class:"routing-monitor"},{default:n(()=>[o(_e,{gutter:16},{default:n(()=>[o(me,{span:8},{default:n(()=>[i("div",k,[a[33]||(a[33]=i("div",{class:"monitor-title"},"路由拓扑",-1)),i("div",x,[a[32]||(a[32]=i("div",{class:"node center"},"中心节点",-1)),i("div",w,[(u(!0),s(p,null,f(V.value,e=>(u(),s("div",{class:"connection-line",key:e.id},[i("div",{class:m(["line",e.status])},null,2),i("div",C,[i("span",U,_(e.target),1),i("span",R,_(e.status),1)])]))),128))])])])]),_:1}),o(me,{span:8},{default:n(()=>[i("div",I,[a[34]||(a[34]=i("div",{class:"monitor-title"},"路由性能",-1)),i("div",O,[(u(!0),s(p,null,f(X.value,e=>{return u(),s("div",{class:"performance-item",key:e.name},[i("div",z,_(e.name),1),i("div",N,[o(Ne,{percent:e.value,"show-info":!1,"stroke-color":(a=e.value,a>=90?"#52c41a":a>=70?"#faad14":"#f5222d"),size:"small"},null,8,["percent","stroke-color"])]),i("div",T,_(e.value)+"%",1)]);var a}),128))])])]),_:1}),o(me,{span:8},{default:n(()=>[i("div",L,[a[39]||(a[39]=i("div",{class:"monitor-title"},"路由统计",-1)),i("div",j,[i("div",W,[a[35]||(a[35]=i("span",{class:"stat-label"},"总路由数:",-1)),i("span",$,_(y.totalRoutes),1)]),i("div",q,[a[36]||(a[36]=i("span",{class:"stat-label"},"成功路由:",-1)),i("span",E,_(y.successRoutes),1)]),i("div",G,[a[37]||(a[37]=i("span",{class:"stat-label"},"失败路由:",-1)),i("span",H,_(y.failedRoutes),1)]),i("div",P,[a[38]||(a[38]=i("span",{class:"stat-label"},"平均响应时间:",-1)),i("span",S,_(y.avgResponseTime)+"ms",1)])])])]),_:1})]),_:1})]),_:1}),o(t,{title:"路由日志",class:"routing-logs"},{default:n(()=>[i("div",D,[o(Ue,null,{default:n(()=>[o(Te,{value:K.value,"onUpdate:value":a[5]||(a[5]=e=>K.value=e),placeholder:"搜索路由日志",style:{width:"200px"},onSearch:ve},null,8,["value"]),o(Le,{value:M.value,"onUpdate:value":a[6]||(a[6]=e=>M.value=e)},null,8,["value"]),o(ye,{value:Y.value,"onUpdate:value":a[7]||(a[7]=e=>Y.value=e),placeholder:"日志级别",style:{width:"120px"}},{default:n(()=>[o(ge,{value:""},{default:n(()=>[...a[40]||(a[40]=[r("全部级别",-1)])]),_:1}),o(ge,{value:"info"},{default:n(()=>[...a[41]||(a[41]=[r("信息",-1)])]),_:1}),o(ge,{value:"warning"},{default:n(()=>[...a[42]||(a[42]=[r("警告",-1)])]),_:1}),o(ge,{value:"error"},{default:n(()=>[...a[43]||(a[43]=[r("错误",-1)])]),_:1})]),_:1},8,["value"]),o(Ce,{type:"primary",onClick:pe},{default:n(()=>[...a[44]||(a[44]=[r("刷新",-1)])]),_:1}),o(Ce,{onClick:fe},{default:n(()=>[...a[45]||(a[45]=[r("清空日志",-1)])]),_:1})]),_:1})]),o(ze,{columns:J,"data-source":A.value,pagination:{pageSize:10},loading:Z.value,"row-key":"id",size:"small"},{bodyCell:n(({column:e,record:l})=>{return["level"===e.key?(u(),c(je,{key:0,color:(t=l.level,{info:"blue",warning:"orange",error:"red"}[t]||"default")},{default:n(()=>[r(_(se(l.level)),1)]),_:2},1032,["color"])):"action"===e.key?(u(),c(Ue,{key:1},{default:n(()=>[o(Ce,{type:"link",size:"small",onClick:e=>{return a=l,ue.value=a,void(le.value=!0);var a}},{default:n(()=>[...a[46]||(a[46]=[r(" 查看详情 ",-1)])]),_:2},1032,["onClick"])]),_:2},1024)):v("",!0)];var t}),_:1},8,["data-source","loading"])]),_:1}),o(qe,{open:ae.value,"onUpdate:open":a[13]||(a[13]=e=>ae.value=e),title:te.id?"编辑路由规则":"添加路由规则",width:"600px",onOk:re,onCancel:ce},{default:n(()=>[o(Re,{layout:"vertical",model:te},{default:n(()=>[o(he,{label:"规则名称",required:""},{default:n(()=>[o(We,{value:te.name,"onUpdate:value":a[8]||(a[8]=e=>te.name=e),placeholder:"输入规则名称"},null,8,["value"])]),_:1}),o(he,{label:"源节点",required:""},{default:n(()=>[o(ye,{value:te.source,"onUpdate:value":a[9]||(a[9]=e=>te.source=e),placeholder:"选择源节点"},{default:n(()=>[o(ge,{value:"center"},{default:n(()=>[...a[47]||(a[47]=[r("中心节点",-1)])]),_:1}),o(ge,{value:"node1"},{default:n(()=>[...a[48]||(a[48]=[r("节点1",-1)])]),_:1}),o(ge,{value:"node2"},{default:n(()=>[...a[49]||(a[49]=[r("节点2",-1)])]),_:1}),o(ge,{value:"node3"},{default:n(()=>[...a[50]||(a[50]=[r("节点3",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),o(he,{label:"目标节点",required:""},{default:n(()=>[o(ye,{value:te.target,"onUpdate:value":a[10]||(a[10]=e=>te.target=e),placeholder:"选择目标节点"},{default:n(()=>[o(ge,{value:"center"},{default:n(()=>[...a[51]||(a[51]=[r("中心节点",-1)])]),_:1}),o(ge,{value:"node1"},{default:n(()=>[...a[52]||(a[52]=[r("节点1",-1)])]),_:1}),o(ge,{value:"node2"},{default:n(()=>[...a[53]||(a[53]=[r("节点2",-1)])]),_:1}),o(ge,{value:"node3"},{default:n(()=>[...a[54]||(a[54]=[r("节点3",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),o(he,{label:"优先级"},{default:n(()=>[o(ye,{value:te.priority,"onUpdate:value":a[11]||(a[11]=e=>te.priority=e),placeholder:"选择优先级"},{default:n(()=>[o(ge,{value:"low"},{default:n(()=>[...a[55]||(a[55]=[r("低",-1)])]),_:1}),o(ge,{value:"normal"},{default:n(()=>[...a[56]||(a[56]=[r("普通",-1)])]),_:1}),o(ge,{value:"high"},{default:n(()=>[...a[57]||(a[57]=[r("高",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),o(he,{label:"规则描述"},{default:n(()=>[o($e,{value:te.description,"onUpdate:value":a[12]||(a[12]=e=>te.description=e),rows:3,placeholder:"输入规则描述"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"]),o(qe,{open:le.value,"onUpdate:open":a[14]||(a[14]=e=>le.value=e),title:"路由日志详情",width:"600px",footer:null},{default:n(()=>[o(Ge,{column:1,bordered:""},{default:n(()=>[o(Ee,{label:"日志ID"},{default:n(()=>{var e;return[r(_(null==(e=ue.value)?void 0:e.id),1)]}),_:1}),o(Ee,{label:"时间"},{default:n(()=>{var e;return[r(_(null==(e=ue.value)?void 0:e.timestamp),1)]}),_:1}),o(Ee,{label:"级别"},{default:n(()=>{var e;return[r(_(se((null==(e=ue.value)?void 0:e.level)||"")),1)]}),_:1}),o(Ee,{label:"源节点"},{default:n(()=>{var e;return[r(_(null==(e=ue.value)?void 0:e.source),1)]}),_:1}),o(Ee,{label:"目标节点"},{default:n(()=>{var e;return[r(_(null==(e=ue.value)?void 0:e.target),1)]}),_:1}),o(Ee,{label:"路由状态"},{default:n(()=>{var e;return[r(_(null==(e=ue.value)?void 0:e.status),1)]}),_:1}),o(Ee,{label:"响应时间"},{default:n(()=>{var e;return[r(_(null==(e=ue.value)?void 0:e.responseTime)+"ms",1)]}),_:1}),o(Ee,{label:"详细信息"},{default:n(()=>{var e;return[r(_(null==(e=ue.value)?void 0:e.message),1)]}),_:1})]),_:1})]),_:1},8,["open"])])}}}),[["__scopeId","data-v-c1e8f18c"]]);export{F as default};
