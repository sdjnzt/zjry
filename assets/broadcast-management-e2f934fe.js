import{d as e,r as a,f as t,o as l,V as r,W as s,a0 as o,k as i,$ as n,X as u,G as d,u as c,F as p,a1 as m,a3 as v,_ as f,a7 as y}from"./vendor-f41c3cc7.js";import{Z as _,S as b,n as g,j as h,V as k}from"./icons-15893848.js";import{b as C,m as T}from"./antd-fa5730cf.js";import{_ as B}from"./index-79992d92.js";const w={class:"broadcast-management"},x={class:"monitor-item"},I={class:"monitor-content"},U={class:"broadcast-info"},D={class:"broadcast-name"},z={class:"broadcast-details"},q={class:"broadcast-department"},A={class:"broadcast-operator"},S={class:"broadcast-time"},j={class:"broadcast-status"},L={class:"progress-text"},$={class:"broadcast-actions"},R={class:"monitor-item"},Y={class:"monitor-content"},H={class:"queue-info"},O={class:"queue-name"},E={class:"queue-details"},F={class:"queue-department"},M={class:"queue-operator"},V={class:"queue-status"},W={class:"status-text"},G={class:"queue-time"},N={class:"queue-actions"},P={class:"monitor-item"},X={class:"monitor-content"},Z={class:"stat-item"},J={class:"stat-value"},K={class:"stat-item"},Q={class:"stat-value success"},ee={class:"stat-item"},ae={class:"stat-value failed"},te={class:"stat-item"},le={class:"stat-value"},re={class:"table-operations"},se=B(e({__name:"broadcast-management",setup(e){const B=a({broadcastAreas:24,broadcastLevels:6,activeBroadcasts:8,todayBroadcasts:89,successBroadcasts:85,failedBroadcasts:4,avgDuration:18.5,totalDuration:456.7,avgResponseTime:2.8,successRate:97.8,coveredDevices:2345}),se=a({broadcastLevel:"",broadcastContent:"",broadcastScope:[],repeatCount:3}),oe=a({selectedAreas:[],broadcastContent:"",priority:"normal",broadcastTime:[]}),ie=t([{title:"监控区域",value:"monitoring",children:[{title:"船舶A区域",value:"ship-a"},{title:"船舶B区域",value:"ship-b"},{title:"船舶C区域",value:"ship-c"},{title:"船舶D区域",value:"ship-d"},{title:"船舶E区域",value:"ship-e"},{title:"船舶F区域",value:"ship-f"}]},{title:"通讯区域",value:"communication",children:[{title:"通讯中心",value:"comm-center"},{title:"通讯节点1",value:"comm-node-1"},{title:"通讯节点2",value:"comm-node-2"},{title:"通讯节点3",value:"comm-node-3"},{title:"通讯节点4",value:"comm-node-4"}]},{title:"数据区域",value:"data",children:[{title:"数据中心",value:"data-center"},{title:"数据节点1",value:"data-node-1"},{title:"数据节点2",value:"data-node-2"},{title:"数据节点3",value:"data-node-3"}]},{title:"港口区域",value:"port",children:[{title:"码头作业区",value:"dock-area"},{title:"仓储区域",value:"warehouse-area"},{title:"装卸区域",value:"loading-area"},{title:"维修区域",value:"maintenance-area"}]},{title:"海上区域",value:"sea",children:[{title:"航道区域",value:"waterway-area"},{title:"锚地区域",value:"anchorage-area"},{title:"作业区域",value:"operation-area"},{title:"安全区域",value:"safety-area"},{title:"救援区域",value:"rescue-area"},{title:"巡逻区域",value:"patrol-area"}]},{title:"应急区域",value:"emergency",children:[{title:"应急指挥中心",value:"emergency-center"},{title:"救援基地",value:"rescue-base"},{title:"医疗中心",value:"medical-center"},{title:"疏散区域",value:"evacuation-area"}]},{title:"管理区域",value:"management",children:[{title:"行政办公区",value:"admin-office"},{title:"会议中心",value:"meeting-center"},{title:"培训中心",value:"training-center"},{title:"档案中心",value:"archive-center"}]}]),ne=t([{id:"BC001",name:"紧急通知广播",priority:"urgent",progress:75,department:"应急响应部",operator:"张调度",startTime:"14:25:00"},{id:"BC002",name:"日常信息广播",priority:"normal",progress:45,department:"船舶监控部",operator:"李调度",startTime:"14:30:00"},{id:"BC003",name:"例行检查广播",priority:"routine",progress:90,department:"设备维护部",operator:"王调度",startTime:"14:20:00"},{id:"BC004",name:"安全提醒广播",priority:"important",progress:30,department:"安全管理部",operator:"赵调度",startTime:"14:35:00"},{id:"BC005",name:"会议通知广播",priority:"normal",progress:60,department:"行政管理部",operator:"陈调度",startTime:"14:40:00"},{id:"BC006",name:"设备维护广播",priority:"normal",progress:25,department:"设备维护部",operator:"刘调度",startTime:"14:45:00"},{id:"BC007",name:"航线变更广播",priority:"high",progress:80,department:"船舶调度部",operator:"孙调度",startTime:"14:50:00"},{id:"BC008",name:"天气预警广播",priority:"urgent",progress:15,department:"气象监测部",operator:"周调度",startTime:"14:55:00"}]),ue=t([{id:"BC006",name:"安全提醒广播",priority:"important",status:"waiting",scheduledTime:"14:30",department:"安全管理部",operator:"刘调度"},{id:"BC007",name:"会议通知广播",priority:"normal",status:"scheduled",scheduledTime:"16:00",department:"行政管理部",operator:"孙调度"},{id:"BC008",name:"设备维护广播",priority:"routine",status:"waiting",scheduledTime:"15:00",department:"设备维护部",operator:"周调度"},{id:"BC009",name:"航线变更广播",priority:"high",status:"scheduled",scheduledTime:"17:00",department:"船舶调度部",operator:"吴调度"},{id:"BC010",name:"天气预警广播",priority:"urgent",status:"waiting",scheduledTime:"15:30",department:"气象监测部",operator:"郑调度"},{id:"BC011",name:"安全培训广播",priority:"important",status:"scheduled",scheduledTime:"18:00",department:"安全管理部",operator:"钱调度"},{id:"BC012",name:"设备检查广播",priority:"routine",status:"waiting",scheduledTime:"19:00",department:"设备维护部",operator:"冯调度"},{id:"BC013",name:"夜间巡逻广播",priority:"normal",status:"scheduled",scheduledTime:"20:00",department:"安全管理部",operator:"褚调度"}]),de=t(""),ce=t([]),pe=t(""),me=t(!1),ve=t(!1),fe=t(!1),ye=t([{id:"BC001",name:"紧急通知广播",type:"分级广播",status:"success",priority:"urgent",area:"全部区域",startTime:"2025-08-15 10:00:00",endTime:"2025-08-15 10:15:00",content:"紧急情况通知，请所有人员立即到指定位置集合",remark:"紧急情况处理",department:"应急响应部",operator:"张调度"},{id:"BC002",name:"日常信息广播",type:"分区广播",status:"success",priority:"normal",area:"监控区域",startTime:"2025-08-15 09:00:00",endTime:"2025-08-15 09:10:00",content:"今日工作安排和注意事项",remark:"日常工作安排",department:"船舶监控部",operator:"李调度"},{id:"BC003",name:"例行检查广播",type:"分区广播",status:"failed",priority:"routine",area:"通讯区域",startTime:"2025-08-15 08:00:00",endTime:"2025-08-15 08:05:00",content:"设备例行检查通知",remark:"设备检查失败",department:"设备维护部",operator:"王调度"},{id:"BC004",name:"安全提醒广播",type:"分区广播",status:"success",priority:"important",area:"港口区域",startTime:"2025-08-15 14:00:00",endTime:"2025-08-15 14:10:00",content:"港口安全注意事项和操作规程",remark:"安全培训广播",department:"安全管理部",operator:"赵调度"},{id:"BC005",name:"会议通知广播",type:"分级广播",status:"success",priority:"normal",area:"全部区域",startTime:"2025-08-15 13:00:00",endTime:"2025-08-15 13:05:00",content:"下午3点召开全体会议，请准时参加",remark:"会议通知",department:"行政管理部",operator:"陈调度"},{id:"BC006",name:"设备维护广播",type:"分区广播",status:"success",priority:"routine",area:"维修区域",startTime:"2025-08-15 12:00:00",endTime:"2025-08-15 12:15:00",content:"设备维护通知，请相关人员做好准备",remark:"维护准备",department:"设备维护部",operator:"刘调度"},{id:"BC007",name:"航线变更广播",type:"分级广播",status:"success",priority:"high",area:"海上区域",startTime:"2025-08-15 11:00:00",endTime:"2025-08-15 11:10:00",content:"航线变更通知，请相关船舶注意调整",remark:"航线调整",department:"船舶调度部",operator:"孙调度"},{id:"BC008",name:"天气预警广播",type:"分级广播",status:"success",priority:"urgent",area:"全部区域",startTime:"2025-08-15 10:30:00",endTime:"2025-08-15 10:35:00",content:"天气预警通知，请注意防范",remark:"天气预警",department:"气象监测部",operator:"周调度"},{id:"BC009",name:"安全培训广播",type:"分区广播",status:"success",priority:"important",area:"培训中心",startTime:"2025-08-15 09:30:00",endTime:"2025-08-15 09:45:00",content:"安全培训通知，请相关人员参加",remark:"安全培训",department:"安全管理部",operator:"钱调度"},{id:"BC010",name:"设备检查广播",type:"分区广播",status:"success",priority:"routine",area:"维修区域",startTime:"2025-08-15 08:30:00",endTime:"2025-08-15 08:45:00",content:"设备检查通知，请相关人员配合",remark:"设备检查",department:"设备维护部",operator:"冯调度"},{id:"BC011",name:"夜间巡逻广播",type:"分区广播",status:"success",priority:"normal",area:"巡逻区域",startTime:"2025-08-15 07:30:00",endTime:"2025-08-15 07:45:00",content:"夜间巡逻通知，请相关人员注意",remark:"夜间巡逻",department:"安全管理部",operator:"褚调度"},{id:"BC012",name:"应急演练广播",type:"分级广播",status:"success",priority:"high",area:"应急区域",startTime:"2025-08-15 06:30:00",endTime:"2025-08-15 06:45:00",content:"应急演练通知，请相关人员参加",remark:"应急演练",department:"应急响应部",operator:"卫调度"}]),_e=[{title:"广播ID",dataIndex:"id",key:"id"},{title:"广播名称",dataIndex:"name",key:"name"},{title:"广播类型",dataIndex:"type",key:"type"},{title:"广播状态",dataIndex:"status",key:"status"},{title:"优先级",dataIndex:"priority",key:"priority"},{title:"负责部门",dataIndex:"department",key:"department"},{title:"操作员",dataIndex:"operator",key:"operator"},{title:"广播区域",dataIndex:"area",key:"area"},{title:"开始时间",dataIndex:"startTime",key:"startTime"},{title:"操作",key:"action",width:150}],be=t(!1),ge=t(null),he=e=>({low:"blue",normal:"green",high:"orange",urgent:"red",emergency:"red",important:"orange",routine:"blue"}[e]||"default"),ke=e=>({low:"低",normal:"普通",high:"高",urgent:"紧急",emergency:"紧急",important:"重要",routine:"例行"}[e]||e),Ce=e=>({success:"成功",failed:"失败",cancelled:"已取消"}[e]||e),Te=()=>{se.broadcastLevel?se.broadcastContent?0!==se.broadcastScope.length?(ve.value=!0,setTimeout(()=>{ve.value=!1,T.success("分级广播已开始")},1e3)):T.error("请选择广播范围"):T.error("请输入广播内容"):T.error("请选择广播等级")},Be=()=>{Object.assign(se,{broadcastLevel:"",broadcastContent:"",broadcastScope:[],repeatCount:3})},we=()=>{0!==oe.selectedAreas.length?oe.broadcastContent?0!==oe.broadcastTime.length?(fe.value=!0,setTimeout(()=>{fe.value=!1,T.success("分区广播已开始")},1e3)):T.error("请选择广播时间"):T.error("请输入广播内容"):T.error("请选择广播分区")},xe=()=>{Object.assign(oe,{selectedAreas:[],broadcastContent:"",priority:"normal",broadcastTime:[]})},Ie=e=>{console.log("搜索:",e),T.info(`搜索关键词: ${e}`)},Ue=()=>{me.value=!0,setTimeout(()=>{me.value=!1,T.success("记录已刷新")},1e3)};return l(()=>{console.log("分级分区广播页面已加载")}),(e,a)=>{const t=u("a-statistic"),l=u("a-card"),De=u("a-col"),ze=u("a-row"),qe=u("a-select-option"),Ae=u("a-select"),Se=u("a-form-item"),je=u("a-textarea"),Le=u("a-checkbox"),$e=u("a-checkbox-group"),Re=u("a-input-number"),Ye=u("a-button"),He=u("a-space"),Oe=u("a-form"),Ee=u("a-tree-select"),Fe=u("a-range-picker"),Me=u("a-tag"),Ve=u("a-progress"),We=u("a-input-search"),Ge=u("a-table"),Ne=u("a-descriptions-item"),Pe=u("a-descriptions"),Xe=u("a-modal");return r(),s("div",w,[a[50]||(a[50]=o("div",{class:"page-header"},[o("h1",null,"分级分区广播"),o("p",null,"支持分级广播和分区广播，实现精准的通讯调度服务")],-1)),i(ze,{gutter:16,class:"status-overview"},{default:n(()=>[i(De,{span:6},{default:n(()=>[i(l,null,{default:n(()=>[i(t,{title:"广播区域",value:B.broadcastAreas,"value-style":{color:"#3f8600"}},null,8,["value"])]),_:1})]),_:1}),i(De,{span:6},{default:n(()=>[i(l,null,{default:n(()=>[i(t,{title:"广播等级",value:B.broadcastLevels,"value-style":{color:"#1890ff"}},null,8,["value"])]),_:1})]),_:1}),i(De,{span:6},{default:n(()=>[i(l,null,{default:n(()=>[i(t,{title:"正在广播",value:B.activeBroadcasts,"value-style":{color:"#fa8c16"}},null,8,["value"])]),_:1})]),_:1}),i(De,{span:6},{default:n(()=>[i(l,null,{default:n(()=>[i(t,{title:"今日广播",value:B.todayBroadcasts,"value-style":{color:"#722ed1"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),i(ze,{gutter:16,class:"status-overview"},{default:n(()=>[i(De,{span:6},{default:n(()=>[i(l,null,{default:n(()=>[i(t,{title:"总广播时长",value:B.totalDuration,"value-style":{color:"#13c2c2"}},{suffix:n(()=>[...a[12]||(a[12]=[d("小时",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(De,{span:6},{default:n(()=>[i(l,null,{default:n(()=>[i(t,{title:"平均响应时间",value:B.avgResponseTime,"value-style":{color:"#eb2f96"}},{suffix:n(()=>[...a[13]||(a[13]=[d("秒",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(De,{span:6},{default:n(()=>[i(l,null,{default:n(()=>[i(t,{title:"广播成功率",value:B.successRate,"value-style":{color:"#52c41a"}},{suffix:n(()=>[...a[14]||(a[14]=[d("%",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(De,{span:6},{default:n(()=>[i(l,null,{default:n(()=>[i(t,{title:"覆盖设备数",value:B.coveredDevices,"value-style":{color:"#fa541c"}},{suffix:n(()=>[...a[15]||(a[15]=[d("台",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),i(ze,{gutter:16,class:"main-content"},{default:n(()=>[i(De,{span:12},{default:n(()=>[i(l,{title:"分级广播管理",class:"level-broadcast"},{default:n(()=>[i(Oe,{layout:"vertical"},{default:n(()=>[i(Se,{label:"广播等级"},{default:n(()=>[i(Ae,{value:se.broadcastLevel,"onUpdate:value":a[0]||(a[0]=e=>se.broadcastLevel=e),placeholder:"选择广播等级"},{default:n(()=>[i(qe,{value:"emergency"},{default:n(()=>[...a[16]||(a[16]=[d("紧急广播",-1)])]),_:1}),i(qe,{value:"important"},{default:n(()=>[...a[17]||(a[17]=[d("重要广播",-1)])]),_:1}),i(qe,{value:"normal"},{default:n(()=>[...a[18]||(a[18]=[d("普通广播",-1)])]),_:1}),i(qe,{value:"routine"},{default:n(()=>[...a[19]||(a[19]=[d("例行广播",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),i(Se,{label:"广播内容"},{default:n(()=>[i(je,{value:se.broadcastContent,"onUpdate:value":a[1]||(a[1]=e=>se.broadcastContent=e),placeholder:"输入广播内容",rows:4},null,8,["value"])]),_:1}),i(Se,{label:"广播范围"},{default:n(()=>[i($e,{value:se.broadcastScope,"onUpdate:value":a[2]||(a[2]=e=>se.broadcastScope=e)},{default:n(()=>[i(Le,{value:"all"},{default:n(()=>[...a[20]||(a[20]=[d("全部区域",-1)])]),_:1}),i(Le,{value:"monitoring"},{default:n(()=>[...a[21]||(a[21]=[d("监控区域",-1)])]),_:1}),i(Le,{value:"communication"},{default:n(()=>[...a[22]||(a[22]=[d("通讯区域",-1)])]),_:1}),i(Le,{value:"data"},{default:n(()=>[...a[23]||(a[23]=[d("数据区域",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),i(Se,{label:"重复次数"},{default:n(()=>[i(Re,{value:se.repeatCount,"onUpdate:value":a[3]||(a[3]=e=>se.repeatCount=e),min:1,max:10,placeholder:"广播重复次数"},null,8,["value"])]),_:1}),i(Se,null,{default:n(()=>[i(He,null,{default:n(()=>[i(Ye,{type:"primary",onClick:Te,loading:ve.value},{icon:n(()=>[i(c(_))]),default:n(()=>[a[24]||(a[24]=d(" 开始广播 ",-1))]),_:1},8,["loading"]),i(Ye,{onClick:Be},{icon:n(()=>[i(c(b))]),default:n(()=>[a[25]||(a[25]=d(" 重置 ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(De,{span:12},{default:n(()=>[i(l,{title:"分区广播管理",class:"area-broadcast"},{default:n(()=>[i(Oe,{layout:"vertical"},{default:n(()=>[i(Se,{label:"选择分区"},{default:n(()=>[i(Ee,{value:oe.selectedAreas,"onUpdate:value":a[4]||(a[4]=e=>oe.selectedAreas=e),"tree-data":ie.value,placeholder:"选择广播分区","tree-checkable":"","show-checked-strategy":"SHOW_PARENT",style:{width:"100%"}},null,8,["value","tree-data"])]),_:1}),i(Se,{label:"广播内容"},{default:n(()=>[i(je,{value:oe.broadcastContent,"onUpdate:value":a[5]||(a[5]=e=>oe.broadcastContent=e),placeholder:"输入广播内容",rows:4},null,8,["value"])]),_:1}),i(Se,{label:"广播优先级"},{default:n(()=>[i(Ae,{value:oe.priority,"onUpdate:value":a[6]||(a[6]=e=>oe.priority=e),placeholder:"选择广播优先级"},{default:n(()=>[i(qe,{value:"low"},{default:n(()=>[...a[26]||(a[26]=[d("低优先级",-1)])]),_:1}),i(qe,{value:"normal"},{default:n(()=>[...a[27]||(a[27]=[d("普通优先级",-1)])]),_:1}),i(qe,{value:"high"},{default:n(()=>[...a[28]||(a[28]=[d("高优先级",-1)])]),_:1}),i(qe,{value:"urgent"},{default:n(()=>[...a[29]||(a[29]=[d("紧急优先级",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),i(Se,{label:"广播时间"},{default:n(()=>[i(Fe,{value:oe.broadcastTime,"onUpdate:value":a[7]||(a[7]=e=>oe.broadcastTime=e),"show-time":"",format:"YYYY-MM-DD HH:mm:ss",placeholder:"['开始时间', '结束时间']"},null,8,["value"])]),_:1}),i(Se,null,{default:n(()=>[i(He,null,{default:n(()=>[i(Ye,{type:"primary",onClick:we,loading:fe.value},{icon:n(()=>[i(c(_))]),default:n(()=>[a[30]||(a[30]=d(" 开始广播 ",-1))]),_:1},8,["loading"]),i(Ye,{onClick:xe},{icon:n(()=>[i(c(b))]),default:n(()=>[a[31]||(a[31]=d(" 重置 ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(l,{title:"广播状态监控",class:"broadcast-monitor"},{default:n(()=>[i(ze,{gutter:16},{default:n(()=>[i(De,{span:8},{default:n(()=>[o("div",x,[a[34]||(a[34]=o("div",{class:"monitor-title"},"当前广播",-1)),o("div",I,[(r(!0),s(p,null,m(ne.value,e=>(r(),s("div",{class:"broadcast-item",key:e.id},[o("div",U,[o("span",D,v(e.name),1),i(Me,{color:he(e.priority),size:"small"},{default:n(()=>[d(v(ke(e.priority)),1)]),_:2},1032,["color"])]),o("div",z,[o("span",q,v(e.department),1),o("span",A,v(e.operator),1),o("span",S,v(e.startTime),1)]),o("div",j,[i(Ve,{percent:e.progress,"show-info":!1,size:"small"},null,8,["percent"]),o("span",L,v(e.progress)+"%",1)]),o("div",$,[i(Ye,{type:"link",size:"small",onClick:a=>(e=>{T.success(`广播 ${e.name} 已停止`)})(e)},{icon:n(()=>[i(c(g))]),default:n(()=>[a[32]||(a[32]=d(" 停止 ",-1))]),_:2},1032,["onClick"]),i(Ye,{type:"link",size:"small",onClick:a=>(e=>{T.info(`广播 ${e.name} 已暂停`)})(e)},{icon:n(()=>[i(c(h))]),default:n(()=>[a[33]||(a[33]=d(" 暂停 ",-1))]),_:2},1032,["onClick"])])]))),128))])])]),_:1}),i(De,{span:8},{default:n(()=>[o("div",R,[a[37]||(a[37]=o("div",{class:"monitor-title"},"广播队列",-1)),o("div",Y,[(r(!0),s(p,null,m(ue.value,e=>{return r(),s("div",{class:"queue-item",key:e.id},[o("div",H,[o("span",O,v(e.name),1),i(Me,{color:he(e.priority),size:"small"},{default:n(()=>[d(v(ke(e.priority)),1)]),_:2},1032,["color"])]),o("div",E,[o("span",F,v(e.department),1),o("span",M,v(e.operator),1)]),o("div",V,[o("span",W,v((t=e.status,{waiting:"等待中",scheduled:"已安排"}[t]||t)),1),o("span",G,v(e.scheduledTime),1)]),o("div",N,[i(Ye,{type:"link",size:"small",onClick:a=>(e=>{T.success(`广播 ${e.name} 已取消`)})(e)},{icon:n(()=>[i(c(g))]),default:n(()=>[a[35]||(a[35]=d(" 取消 ",-1))]),_:2},1032,["onClick"]),i(Ye,{type:"link",size:"small",onClick:a=>(e=>{T.info(`编辑广播 ${e.name}`)})(e)},{icon:n(()=>[i(c(b))]),default:n(()=>[a[36]||(a[36]=d(" 编辑 ",-1))]),_:2},1032,["onClick"])])]);var t}),128))])])]),_:1}),i(De,{span:8},{default:n(()=>[o("div",P,[a[42]||(a[42]=o("div",{class:"monitor-title"},"广播统计",-1)),o("div",X,[o("div",Z,[a[38]||(a[38]=o("span",{class:"stat-label"},"今日广播:",-1)),o("span",J,v(B.todayBroadcasts)+"次",1)]),o("div",K,[a[39]||(a[39]=o("span",{class:"stat-label"},"成功广播:",-1)),o("span",Q,v(B.successBroadcasts)+"次",1)]),o("div",ee,[a[40]||(a[40]=o("span",{class:"stat-label"},"失败广播:",-1)),o("span",ae,v(B.failedBroadcasts)+"次",1)]),o("div",te,[a[41]||(a[41]=o("span",{class:"stat-label"},"平均时长:",-1)),o("span",le,v(B.avgDuration)+"分钟",1)])])])]),_:1})]),_:1})]),_:1}),i(l,{title:"广播记录",class:"broadcast-records"},{default:n(()=>[o("div",re,[i(He,null,{default:n(()=>[i(We,{value:de.value,"onUpdate:value":a[8]||(a[8]=e=>de.value=e),placeholder:"搜索广播记录",style:{width:"200px"},onSearch:Ie},null,8,["value"]),i(Fe,{value:ce.value,"onUpdate:value":a[9]||(a[9]=e=>ce.value=e)},null,8,["value"]),i(Ae,{value:pe.value,"onUpdate:value":a[10]||(a[10]=e=>pe.value=e),placeholder:"状态筛选",style:{width:"120px"}},{default:n(()=>[i(qe,{value:""},{default:n(()=>[...a[43]||(a[43]=[d("全部状态",-1)])]),_:1}),i(qe,{value:"success"},{default:n(()=>[...a[44]||(a[44]=[d("成功",-1)])]),_:1}),i(qe,{value:"failed"},{default:n(()=>[...a[45]||(a[45]=[d("失败",-1)])]),_:1}),i(qe,{value:"cancelled"},{default:n(()=>[...a[46]||(a[46]=[d("已取消",-1)])]),_:1})]),_:1},8,["value"]),i(Ye,{type:"primary",onClick:Ue},{default:n(()=>[...a[47]||(a[47]=[d("刷新",-1)])]),_:1})]),_:1})]),i(Ge,{columns:_e,"data-source":ye.value,pagination:{pageSize:10},loading:me.value,"row-key":"id"},{bodyCell:n(({column:e,record:t})=>{return["status"===e.key?(r(),f(Me,{key:0,color:(l=t.status,{success:"green",failed:"red",cancelled:"orange"}[l]||"default")},{default:n(()=>[d(v(Ce(t.status)),1)]),_:2},1032,["color"])):"priority"===e.key?(r(),f(Me,{key:1,color:he(t.priority)},{default:n(()=>[d(v(ke(t.priority)),1)]),_:2},1032,["color"])):"action"===e.key?(r(),f(He,{key:2},{default:n(()=>[i(Ye,{type:"link",size:"small",onClick:e=>(e=>{ge.value=e,be.value=!0})(t)},{icon:n(()=>[i(c(C))]),default:n(()=>[a[48]||(a[48]=d(" 查看详情 ",-1))]),_:2},1032,["onClick"]),i(Ye,{type:"link",size:"small",onClick:e=>(e=>{T.info(`开始回放广播记录: ${e.id}`)})(t)},{icon:n(()=>[i(c(k))]),default:n(()=>[a[49]||(a[49]=d(" 回放 ",-1))]),_:2},1032,["onClick"])]),_:2},1024)):y("",!0)];var l}),_:1},8,["data-source","loading"])]),_:1}),i(Xe,{open:be.value,"onUpdate:open":a[11]||(a[11]=e=>be.value=e),title:"广播记录详情",width:"600px",footer:null},{default:n(()=>[i(Pe,{column:2,bordered:""},{default:n(()=>[i(Ne,{label:"广播ID"},{default:n(()=>{var e;return[d(v(null==(e=ge.value)?void 0:e.id),1)]}),_:1}),i(Ne,{label:"广播名称"},{default:n(()=>{var e;return[d(v(null==(e=ge.value)?void 0:e.name),1)]}),_:1}),i(Ne,{label:"广播类型"},{default:n(()=>{var e;return[d(v(null==(e=ge.value)?void 0:e.type),1)]}),_:1}),i(Ne,{label:"广播状态"},{default:n(()=>{var e;return[d(v(Ce((null==(e=ge.value)?void 0:e.status)||"")),1)]}),_:1}),i(Ne,{label:"优先级"},{default:n(()=>{var e;return[d(v(ke((null==(e=ge.value)?void 0:e.priority)||"")),1)]}),_:1}),i(Ne,{label:"负责部门"},{default:n(()=>{var e;return[d(v((null==(e=ge.value)?void 0:e.department)||"无"),1)]}),_:1}),i(Ne,{label:"操作员"},{default:n(()=>{var e;return[d(v((null==(e=ge.value)?void 0:e.operator)||"无"),1)]}),_:1}),i(Ne,{label:"广播区域"},{default:n(()=>{var e;return[d(v(null==(e=ge.value)?void 0:e.area),1)]}),_:1}),i(Ne,{label:"开始时间"},{default:n(()=>{var e;return[d(v(null==(e=ge.value)?void 0:e.startTime),1)]}),_:1}),i(Ne,{label:"结束时间"},{default:n(()=>{var e;return[d(v(null==(e=ge.value)?void 0:e.endTime),1)]}),_:1}),i(Ne,{label:"广播内容",span:2},{default:n(()=>{var e;return[d(v(null==(e=ge.value)?void 0:e.content),1)]}),_:1}),i(Ne,{label:"备注",span:2},{default:n(()=>{var e;return[d(v((null==(e=ge.value)?void 0:e.remark)||"无"),1)]}),_:1})]),_:1})]),_:1},8,["open"])])}}}),[["__scopeId","data-v-29047293"]]);export{se as default};
