import{f as e,E as a,b as s,I as t,C as l,m as r,M as i}from"./antd-fa5730cf.js";import{s as o,k as n,W as d,R as c,m as u,f as m,p as v,q as f,A as p,B as g}from"./icons-15893848.js";import{d as Y,f as y,r as M,c as k,o as H,V as U,W as w,a0 as T,k as D,$ as h,X as N,a3 as _,u as b,G as x,_ as A,F as O,a7 as I,a1 as C,a8 as S}from"./vendor-f41c3cc7.js";import{_ as z}from"./index-79992d92.js";const J={class:"status-monitoring"},E={class:"status-overview"},$={class:"status-ratio"},P={class:"status-trend"},B={class:"status-ratio"},L={class:"status-trend"},j={class:"status-ratio"},R={class:"status-trend"},W={class:"status-ratio"},q={class:"status-trend"},F={class:"monitoring-section"},G={key:0,class:"device-info"},Q={class:"device-icon"},V={class:"device-details"},X={class:"device-name"},K={class:"device-id"},Z={key:2,class:"performance-indicators"},ee={class:"indicator"},ae={class:"value"},se={class:"indicator"},te={class:"value"},le={class:"indicator"},re={class:"value"},ie={class:"indicator"},oe={class:"value"},ne={class:"indicator"},de={class:"value"},ce={class:"indicator"},ue={class:"value"},me={class:"indicator"},ve={class:"value"},fe={class:"indicator"},pe={class:"value"},ge={key:3,class:"time-info"},Ye={class:"duration"},ye={class:"alert-list"},Me={class:"alert-header"},ke={class:"alert-level"},He={class:"alert-info"},Ue={class:"alert-title"},we={class:"alert-device"},Te={class:"alert-time"},De={class:"alert-message"},he={class:"alert-actions"},Ne={key:0,class:"no-alerts"},_e={key:0,class:"device-detail"},be={style:{"margin-top":"8px","font-size":"12px",color:"#666"}},xe={class:"performance-metrics"},Ae={class:"alert-history"},Oe={class:"alert-time"},Ie=z(Y({__name:"status-monitoring",setup(Y){const z=y(""),Ie=y(""),Ce=y(!1),Se=y(null),ze=M({visible:!1}),Je=M({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,a)=>`第 ${a[0]}-${a[1]} 条，共 ${e} 条`,pageSizeOptions:["10","20","50","100"]}),Ee=M({total:0,online:0,offline:0,maintenance:0,fault:0}),$e=y([{id:"1",deviceName:"济宁港主码头-高清监控01",deviceId:"JN-CAM-001",deviceType:"camera",area:"area1",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.100",port:80,cpuUsage:45,memoryUsage:62,networkTraffic:12,storageUsage:78,alertHistory:[{id:"alert1",title:"CPU使用率过高",message:"CPU使用率超过80%，建议优化视频编码参数或降低分辨率",level:"warning",deviceName:"济宁港主码头-高清监控01",time:e().subtract(2,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!0}]},{id:"2",deviceName:"济宁港主码头-高清监控02",deviceId:"JN-CAM-002",deviceType:"camera",area:"area1",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.101",port:80,cpuUsage:38,memoryUsage:55,networkTraffic:15,storageUsage:72,alertHistory:[]},{id:"3",deviceName:"济宁港主码头-高清监控03",deviceId:"JN-CAM-003",deviceType:"camera",area:"area1",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.102",port:80,cpuUsage:52,memoryUsage:68,networkTraffic:18,storageUsage:81,alertHistory:[]},{id:"4",deviceName:"济宁港集装箱堆场-监控01",deviceId:"JN-CAM-004",deviceType:"camera",area:"area1",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.103",port:80,cpuUsage:41,memoryUsage:59,networkTraffic:14,storageUsage:75,alertHistory:[]},{id:"5",deviceName:"济宁港集装箱堆场-监控02",deviceId:"JN-CAM-005",deviceType:"camera",area:"area1",status:"maintenance",lastOnline:e().subtract(1,"hour").format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.104",port:80,cpuUsage:0,memoryUsage:0,networkTraffic:0,storageUsage:0,alertHistory:[{id:"alert5",title:"设备维护",message:"摄像头镜头清洁维护，预计2小时后恢复",level:"info",deviceName:"济宁港集装箱堆场-监控02",time:e().subtract(1,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!0}]},{id:"6",deviceName:"济宁港航道-水深传感器01",deviceId:"JN-SEN-001",deviceType:"sensor",area:"area3",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.105",port:8080,cpuUsage:12,memoryUsage:25,networkTraffic:2,storageUsage:35,alertHistory:[]},{id:"7",deviceName:"济宁港航道-水流传感器01",deviceId:"JN-SEN-002",deviceType:"sensor",area:"area3",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.106",port:8080,cpuUsage:15,memoryUsage:28,networkTraffic:3,storageUsage:42,alertHistory:[]},{id:"8",deviceName:"济宁港航道-潮汐传感器01",deviceId:"JN-SEN-003",deviceType:"sensor",area:"area3",status:"offline",lastOnline:e().subtract(45,"minute").format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.107",port:8080,cpuUsage:0,memoryUsage:0,networkTraffic:0,storageUsage:0,alertHistory:[{id:"alert8",title:"设备离线",message:"潮汐传感器网络连接中断，可能是水下电缆故障",level:"critical",deviceName:"济宁港航道-潮汐传感器01",time:e().subtract(45,"minute").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1}]},{id:"9",deviceName:"梁山港码头-高清监控01",deviceId:"LS-CAM-001",deviceType:"camera",area:"area2",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.20.100",port:80,cpuUsage:48,memoryUsage:65,networkTraffic:16,storageUsage:79,alertHistory:[]},{id:"10",deviceName:"梁山港散货堆场-监控01",deviceId:"LS-CAM-002",deviceType:"camera",area:"area2",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.20.101",port:80,cpuUsage:43,memoryUsage:58,networkTraffic:13,storageUsage:76,alertHistory:[]},{id:"11",deviceName:"梁山港航道-潮汐传感器01",deviceId:"LS-SEN-001",deviceType:"sensor",area:"area3",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.20.102",port:8080,cpuUsage:18,memoryUsage:32,networkTraffic:4,storageUsage:48,alertHistory:[]},{id:"12",deviceName:"京杭运河济宁段-航道监控01",deviceId:"YH-CAM-001",deviceType:"camera",area:"area3",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.30.100",port:80,cpuUsage:55,memoryUsage:71,networkTraffic:20,storageUsage:85,alertHistory:[{id:"alert12",title:"存储空间不足",message:"存储使用率超过85%，建议清理历史录像或扩容存储",level:"warning",deviceName:"京杭运河济宁段-航道监控01",time:e().subtract(1,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1}]},{id:"13",deviceName:"京杭运河转弯处-监控02",deviceId:"YH-CAM-002",deviceType:"camera",area:"area3",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.30.101",port:80,cpuUsage:47,memoryUsage:63,networkTraffic:17,storageUsage:78,alertHistory:[]},{id:"14",deviceName:"京杭运河-水流传感器01",deviceId:"YH-SEN-001",deviceType:"sensor",area:"area3",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.30.102",port:8080,cpuUsage:14,memoryUsage:26,networkTraffic:2,storageUsage:38,alertHistory:[]},{id:"15",deviceName:"济宁港锚地-全景监控01",deviceId:"JN-CAM-006",deviceType:"camera",area:"area4",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.108",port:80,cpuUsage:51,memoryUsage:67,networkTraffic:19,storageUsage:82,alertHistory:[]},{id:"16",deviceName:"济宁港锚地-气象传感器01",deviceId:"JN-SEN-004",deviceType:"sensor",area:"area4",status:"fault",lastOnline:e().subtract(2,"hour").format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.109",port:8080,cpuUsage:0,memoryUsage:0,networkTraffic:0,storageUsage:0,alertHistory:[{id:"alert16",title:"设备故障",message:"气象传感器数据异常，温度读数超出正常范围，需要检修",level:"critical",deviceName:"济宁港锚地-气象传感器01",time:e().subtract(2,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1}]},{id:"17",deviceName:"济宁港锚地-通信基站01",deviceId:"JN-NET-001",deviceType:"network",area:"area4",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.110",port:22,cpuUsage:35,memoryUsage:48,networkTraffic:25,storageUsage:65,alertHistory:[]},{id:"18",deviceName:"济宁港散货码头-监控01",deviceId:"JN-CAM-007",deviceType:"camera",area:"area5",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.111",port:80,cpuUsage:44,memoryUsage:61,networkTraffic:15,storageUsage:77,alertHistory:[]},{id:"19",deviceName:"济宁港散货码头-粉尘传感器01",deviceId:"JN-SEN-005",deviceType:"sensor",area:"area5",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.112",port:8080,cpuUsage:16,memoryUsage:29,networkTraffic:3,storageUsage:41,alertHistory:[]},{id:"20",deviceName:"济宁港散货码头-通信设备01",deviceId:"JN-NET-002",deviceType:"network",area:"area5",status:"maintenance",lastOnline:e().subtract(30,"minute").format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.113",port:22,cpuUsage:0,memoryUsage:0,networkTraffic:0,storageUsage:0,alertHistory:[{id:"alert20",title:"设备维护",message:"网络设备定期维护，更换老化网线，预计1小时后恢复",level:"info",deviceName:"济宁港散货码头-通信设备01",time:e().subtract(30,"minute").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!0}]},{id:"21",deviceName:"济宁港控制中心-核心交换机01",deviceId:"JN-NET-003",deviceType:"network",area:"area1",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.1.100",port:22,cpuUsage:68,memoryUsage:75,networkTraffic:85,storageUsage:45,alertHistory:[{id:"alert21",title:"网络流量异常",message:"网络流量突然增加，可能存在异常访问，建议检查网络安全和防火墙设置",level:"warning",deviceName:"济宁港控制中心-核心交换机01",time:e().subtract(15,"minute").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1}]},{id:"22",deviceName:"济宁港控制中心-核心交换机02",deviceId:"JN-NET-004",deviceType:"network",area:"area1",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.1.101",port:22,cpuUsage:62,memoryUsage:71,networkTraffic:78,storageUsage:42,alertHistory:[]},{id:"23",deviceName:"济宁港数据中心-存储阵列01",deviceId:"JN-STR-001",deviceType:"storage",area:"area1",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.1.102",port:22,cpuUsage:28,memoryUsage:35,networkTraffic:45,storageUsage:88,alertHistory:[{id:"alert23",title:"存储空间不足",message:"存储使用率超过85%，建议扩容或清理历史数据，当前可用空间仅剩1.2TB",level:"warning",deviceName:"济宁港数据中心-存储阵列01",time:e().subtract(30,"minute").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1}]},{id:"24",deviceName:"济宁港数据中心-存储阵列02",deviceId:"JN-STR-002",deviceType:"storage",area:"area1",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.1.103",port:22,cpuUsage:32,memoryUsage:38,networkTraffic:42,storageUsage:82,alertHistory:[]},{id:"25",deviceName:"梁山港通信机房-核心路由器01",deviceId:"LS-NET-001",deviceType:"network",area:"area2",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.20.103",port:22,cpuUsage:58,memoryUsage:64,networkTraffic:72,storageUsage:38,alertHistory:[]},{id:"26",deviceName:"梁山港数据中心-存储设备01",deviceId:"LS-STR-001",deviceType:"storage",area:"area2",status:"online",lastOnline:e().format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.20.104",port:22,cpuUsage:25,memoryUsage:31,networkTraffic:38,storageUsage:76,alertHistory:[]},{id:"27",deviceName:"济宁港仓库区-监控01",deviceId:"JN-CAM-008",deviceType:"camera",area:"area1",status:"fault",lastOnline:e().subtract(4,"hour").format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.10.114",port:80,cpuUsage:0,memoryUsage:0,networkTraffic:0,storageUsage:0,alertHistory:[{id:"alert27",title:"设备故障",message:"摄像头硬件故障，图像传感器损坏，需要更换设备",level:"critical",deviceName:"济宁港仓库区-监控01",time:e().subtract(4,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1}]},{id:"28",deviceName:"京杭运河深水区-流速传感器01",deviceId:"YH-SEN-002",deviceType:"sensor",area:"area3",status:"fault",lastOnline:e().subtract(3,"hour").format("YYYY-MM-DD HH:mm:ss"),ipAddress:"192.168.30.103",port:8080,cpuUsage:0,memoryUsage:0,networkTraffic:0,storageUsage:0,alertHistory:[{id:"alert28",title:"设备故障",message:"流速传感器数据异常，可能是传感器被水草缠绕或损坏",level:"critical",deviceName:"京杭运河深水区-流速传感器01",time:e().subtract(3,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1}]}]),Pe=y([{id:"alert1",title:"设备离线",message:"济宁港航道-潮汐传感器01设备连接超时，可能是水下电缆故障，影响潮汐数据采集",level:"critical",deviceName:"济宁港航道-潮汐传感器01",time:e().subtract(45,"minute").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1},{id:"alert2",title:"CPU使用率过高",message:"济宁港主码头-高清监控01 CPU使用率超过80%，建议优化视频编码参数或降低分辨率",level:"warning",deviceName:"济宁港主码头-高清监控01",time:e().subtract(2,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1},{id:"alert3",title:"存储空间不足",message:"京杭运河济宁段-航道监控01存储使用率超过85%，建议清理历史录像或扩容存储设备",level:"warning",deviceName:"京杭运河济宁段-航道监控01",time:e().subtract(1,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1},{id:"alert4",title:"设备故障",message:"济宁港锚地-气象传感器01传感器数据异常，温度读数超出正常范围(-20°C~50°C)，需要检修",level:"critical",deviceName:"济宁港锚地-气象传感器01",time:e().subtract(2,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1},{id:"alert5",title:"网络流量异常",message:"济宁港控制中心-核心交换机01网络流量突然增加，可能存在异常访问，建议检查网络安全和防火墙设置",level:"warning",deviceName:"济宁港控制中心-核心交换机01",time:e().subtract(15,"minute").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1},{id:"alert6",title:"存储空间不足",message:"济宁港数据中心-存储阵列01存储使用率超过85%，建议扩容或清理历史数据，当前可用空间仅剩1.2TB",level:"warning",deviceName:"济宁港数据中心-存储阵列01",time:e().subtract(30,"minute").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1},{id:"alert7",title:"设备故障",message:"济宁港仓库区-监控01摄像头硬件故障，图像传感器损坏，需要更换设备，预计维修时间2-3天",level:"critical",deviceName:"济宁港仓库区-监控01",time:e().subtract(4,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1},{id:"alert8",title:"设备故障",message:"京杭运河深水区-流速传感器01传感器数据异常，可能是传感器被水草缠绕或损坏，需要潜水员检查",level:"critical",deviceName:"京杭运河深水区-流速传感器01",time:e().subtract(3,"hour").format("YYYY-MM-DD HH:mm:ss"),acknowledged:!1}]),Be=k(()=>{let e=$e.value;return z.value&&(e=e.filter(e=>e.area===z.value)),Ie.value&&(e=e.filter(e=>e.deviceType===Ie.value)),Je.total=e.length,e}),Le=k(()=>{const e=(Je.current-1)*Je.pageSize,a=e+Je.pageSize;return Be.value.slice(e,a)}),je=[{title:"设备信息",key:"deviceName",width:200},{title:"状态",key:"status",width:100},{title:"设备指标",key:"performance",width:200},{title:"最后在线",key:"lastOnline",width:150},{title:"操作",key:"action",width:200,fixed:"right"}],Re=e=>({online:"green",offline:"red",maintenance:"orange",fault:"red"}[e]||"default"),We=e=>({online:"在线",offline:"离线",maintenance:"维护中",fault:"故障"}[e]||e),qe=e=>{if("online"===e.status){if("camera"===e.deviceType)return`监控画面正常，信号强度${Ge(e)}%`;if("sensor"===e.deviceType)return`数据采集正常，电池电量${Qe(e)}%`;if("network"===e.deviceType)return`网络连接正常，CPU使用率${e.cpuUsage}%`;if("storage"===e.deviceType)return`存储系统正常，使用率${e.storageUsage}%`}else{if("offline"===e.status)return"设备连接中断，请检查网络连接";if("maintenance"===e.status)return"设备维护中，预计很快恢复";if("fault"===e.status)return"设备故障，需要技术人员处理"}return"状态未知"},Fe=e=>e<50?"#52c41a":e<80?"#faad14":"#ff4d4f",Ge=e=>{const a=Math.min(e.networkTraffic/25*100,100),s=Math.max(0,100-.8*e.cpuUsage),t=Math.max(0,100-.6*e.storageUsage);return Math.round(.4*a+.3*s+.3*t)},Qe=a=>{const s=Math.max(0,100-2*e().diff(e(a.lastOnline),"hour")),t=Math.min(a.networkTraffic/8*100,100);return Math.round(Math.min(100,85+.1*s+.05*t))},Ve=e=>{const a=Math.min(e.networkTraffic/6*100,100),s=Math.max(0,100-.5*e.cpuUsage),t="online"===e.status?100:0;return Math.round(.5*a+.3*s+.2*t)},Xe=e=>{const a=Math.max(0,100-.7*e.cpuUsage),s=Math.max(0,100-.6*e.memoryUsage),t=Math.min(e.networkTraffic/50*100,100);return Math.round(1200*(1+(a+s+t)/300))},Ke=a=>e(a).format("YYYY-MM-DD HH:mm:ss"),Ze=a=>{const s=e(),t=e(a),l=s.diff(t,"minute");return l<60?`${l}分钟前`:l<1440?`${Math.floor(l/60)}小时前`:`${Math.floor(l/1440)}天前`},ea=()=>{console.log("区域切换到:",z.value),Je.current=1},aa=()=>{console.log("设备类型切换到:",Ie.value),Je.current=1},sa=e=>{e&&(Je.current=e.current||1,Je.pageSize=e.pageSize||10)},ta=()=>{Ce.value=!0,setTimeout(()=>{ra(),la(),Ce.value=!1,r.success("状态信息已刷新")},1e3)},la=()=>{$e.value.forEach(e=>{"online"===e.status&&(e.cpuUsage=Math.max(0,Math.min(100,e.cpuUsage+5*(Math.random()-.5))),e.memoryUsage=Math.max(0,Math.min(100,e.memoryUsage+3*(Math.random()-.5))),e.networkTraffic=Math.max(0,e.networkTraffic+2*(Math.random()-.5)),e.storageUsage<95&&(e.storageUsage=Math.min(95,e.storageUsage+.5*Math.random())))})},ra=()=>{const e=$e.value;Ee.total=e.length,Ee.online=e.filter(e=>"online"===e.status).length,Ee.offline=e.filter(e=>"offline"===e.status).length,Ee.maintenance=e.filter(e=>"maintenance"===e.status).length,Ee.fault=e.filter(e=>"fault"===e.status).length};return H(()=>{ra(),Je.total=$e.value.length;const e=setInterval(()=>{$e.value.length>0&&(la(),ra())},3e4);return console.log("在线状态监测页面已加载，自动刷新已启动"),()=>{clearInterval(e)}}),(e,Y)=>{const y=N("a-statistic"),M=N("a-card"),k=N("a-col"),H=N("a-row"),$e=N("a-select-option"),Be=N("a-select"),la=N("a-button"),ra=N("a-space"),ia=N("a-tag"),oa=N("a-progress"),na=N("a-table"),da=N("a-badge"),ca=N("a-descriptions-item"),ua=N("a-descriptions"),ma=N("a-timeline-item"),va=N("a-timeline"),fa=N("a-modal");return U(),w("div",J,[Y[35]||(Y[35]=T("div",{class:"page-header"},[T("h2",null,"在线状态监测"),T("p",null,"实时监测设备运行状态，包括在线状态、性能指标、告警信息等")],-1)),T("div",E,[D(H,{gutter:16},{default:h(()=>[D(k,{span:6},{default:h(()=>[D(M,{class:"status-card online"},{default:h(()=>[D(y,{title:"在线设备",value:Ee.online,"value-style":{color:"#52c41a"}},{suffix:h(()=>[T("span",$,"/ "+_(Ee.total),1)]),_:1},8,["value"]),T("div",P,[D(b(o),{style:{color:"#52c41a"}}),Y[3]||(Y[3]=T("span",null,"正常",-1))])]),_:1})]),_:1}),D(k,{span:6},{default:h(()=>[D(M,{class:"status-card offline"},{default:h(()=>[D(y,{title:"离线设备",value:Ee.offline,"value-style":{color:"#ff4d4f"}},{suffix:h(()=>[T("span",B,"/ "+_(Ee.total),1)]),_:1},8,["value"]),T("div",L,[D(b(a),{style:{color:"#ff4d4f"}}),Y[4]||(Y[4]=T("span",null,"需关注",-1))])]),_:1})]),_:1}),D(k,{span:6},{default:h(()=>[D(M,{class:"status-card maintenance"},{default:h(()=>[D(y,{title:"维护中",value:Ee.maintenance,"value-style":{color:"#faad14"}},{suffix:h(()=>[T("span",j,"/ "+_(Ee.total),1)]),_:1},8,["value"]),T("div",R,[D(b(n),{style:{color:"#faad14"}}),Y[5]||(Y[5]=T("span",null,"维护中",-1))])]),_:1})]),_:1}),D(k,{span:6},{default:h(()=>[D(M,{class:"status-card fault"},{default:h(()=>[D(y,{title:"故障设备",value:Ee.fault,"value-style":{color:"#ff4d4f"}},{suffix:h(()=>[T("span",W,"/ "+_(Ee.total),1)]),_:1},8,["value"]),T("div",q,[D(b(d),{style:{color:"#ff4d4f"}}),Y[6]||(Y[6]=T("span",null,"紧急",-1))])]),_:1})]),_:1})]),_:1})]),T("div",F,[D(H,{gutter:16},{default:h(()=>[D(k,{span:16},{default:h(()=>[D(M,{title:"设备状态监控",class:"monitoring-card"},{extra:h(()=>[D(ra,null,{default:h(()=>[D(Be,{value:z.value,"onUpdate:value":Y[0]||(Y[0]=e=>z.value=e),placeholder:"选择区域",style:{width:"120px"},onChange:ea},{default:h(()=>[D($e,{value:""},{default:h(()=>[...Y[7]||(Y[7]=[x("全部区域",-1)])]),_:1}),D($e,{value:"area1"},{default:h(()=>[...Y[8]||(Y[8]=[x("济宁港",-1)])]),_:1}),D($e,{value:"area2"},{default:h(()=>[...Y[9]||(Y[9]=[x("梁山港",-1)])]),_:1}),D($e,{value:"area3"},{default:h(()=>[...Y[10]||(Y[10]=[x("京杭大运河",-1)])]),_:1}),D($e,{value:"area4"},{default:h(()=>[...Y[11]||(Y[11]=[x("锚地区",-1)])]),_:1}),D($e,{value:"area5"},{default:h(()=>[...Y[12]||(Y[12]=[x("散货码头",-1)])]),_:1})]),_:1},8,["value"]),D(Be,{value:Ie.value,"onUpdate:value":Y[1]||(Y[1]=e=>Ie.value=e),placeholder:"设备类型",style:{width:"120px"},onChange:aa},{default:h(()=>[D($e,{value:""},{default:h(()=>[...Y[13]||(Y[13]=[x("全部类型",-1)])]),_:1}),D($e,{value:"camera"},{default:h(()=>[...Y[14]||(Y[14]=[x("摄像头",-1)])]),_:1}),D($e,{value:"sensor"},{default:h(()=>[...Y[15]||(Y[15]=[x("传感器",-1)])]),_:1}),D($e,{value:"network"},{default:h(()=>[...Y[16]||(Y[16]=[x("网络设备",-1)])]),_:1}),D($e,{value:"storage"},{default:h(()=>[...Y[17]||(Y[17]=[x("存储设备",-1)])]),_:1})]),_:1},8,["value"]),D(la,{type:"primary",onClick:ta},{default:h(()=>[D(b(c)),Y[18]||(Y[18]=x(" 刷新 ",-1))]),_:1})]),_:1})]),default:h(()=>[D(na,{columns:je,"data-source":Le.value,loading:Ce.value,pagination:Je,"row-key":"id",size:"small",onChange:sa},{bodyCell:h(({column:e,record:a})=>["deviceName"===e.key?(U(),w("div",G,[T("div",Q,["camera"===a.deviceType?(U(),A(b(u),{key:0})):"sensor"===a.deviceType?(U(),A(b(m),{key:1})):"network"===a.deviceType?(U(),A(b(v),{key:2})):(U(),A(b(f),{key:3}))]),T("div",V,[T("div",X,_(a.deviceName),1),T("div",K,_(a.deviceId),1)])])):"status"===e.key?(U(),A(ia,{key:1,color:Re(a.status)},{default:h(()=>[x(_(We(a.status)),1)]),_:2},1032,["color"])):"performance"===e.key?(U(),w("div",Z,["camera"===a.deviceType?(U(),w(O,{key:0},[T("div",ee,[Y[19]||(Y[19]=T("span",{class:"label"},"信号强度:",-1)),D(oa,{percent:Ge(a),"stroke-color":Fe(Ge(a)),size:"small","show-info":!1,style:{width:"60px"}},null,8,["percent","stroke-color"]),T("span",ae,_(Ge(a))+"%",1)]),T("div",se,[Y[20]||(Y[20]=T("span",{class:"label"},"存储:",-1)),D(oa,{percent:a.storageUsage,"stroke-color":Fe(a.storageUsage),size:"small","show-info":!1,style:{width:"60px"}},null,8,["percent","stroke-color"]),T("span",te,_(a.storageUsage)+"%",1)])],64)):"sensor"===a.deviceType?(U(),w(O,{key:1},[T("div",le,[Y[21]||(Y[21]=T("span",{class:"label"},"电池:",-1)),D(oa,{percent:Qe(a),"stroke-color":Fe(Qe(a)),size:"small","show-info":!1,style:{width:"60px"}},null,8,["percent","stroke-color"]),T("span",re,_(Qe(a))+"%",1)]),T("div",ie,[Y[22]||(Y[22]=T("span",{class:"label"},"信号:",-1)),D(oa,{percent:Ve(a),"stroke-color":Fe(Ve(a)),size:"small","show-info":!1,style:{width:"60px"}},null,8,["percent","stroke-color"]),T("span",oe,_(Ve(a))+"%",1)])],64)):"network"===a.deviceType?(U(),w(O,{key:2},[T("div",ne,[Y[23]||(Y[23]=T("span",{class:"label"},"CPU:",-1)),D(oa,{percent:a.cpuUsage,"stroke-color":Fe(a.cpuUsage),size:"small","show-info":!1,style:{width:"60px"}},null,8,["percent","stroke-color"]),T("span",de,_(a.cpuUsage)+"%",1)]),T("div",ce,[Y[24]||(Y[24]=T("span",{class:"label"},"流量:",-1)),T("span",ue,_(a.networkTraffic)+"MB/s",1)])],64)):"storage"===a.deviceType?(U(),w(O,{key:3},[T("div",me,[Y[25]||(Y[25]=T("span",{class:"label"},"存储:",-1)),D(oa,{percent:a.storageUsage,"stroke-color":Fe(a.storageUsage),size:"small","show-info":!1,style:{width:"60px"}},null,8,["percent","stroke-color"]),T("span",ve,_(a.storageUsage)+"%",1)]),T("div",fe,[Y[26]||(Y[26]=T("span",{class:"label"},"I/O:",-1)),T("span",pe,_(Xe(a))+"IOPS",1)])],64)):I("",!0)])):"lastOnline"===e.key?(U(),w("div",ge,[T("div",null,_(Ke(a.lastOnline)),1),T("div",Ye,_(Ze(a.lastOnline)),1)])):"action"===e.key?(U(),A(ra,{key:4},{default:h(()=>[D(la,{type:"link",size:"small",onClick:e=>{return s=a,Se.value=s,void(ze.visible=!0);var s}},{default:h(()=>[D(b(s)),Y[27]||(Y[27]=x(" 详情 ",-1))]),_:2},1032,["onClick"]),D(la,{type:"link",size:"small",onClick:e=>{return s=a,void r.loading("正在测试设备连接...",1).then(()=>{"online"===s.status?r.success("设备连接正常"):r.error("设备连接失败")});var s}},{default:h(()=>[D(b(p)),Y[28]||(Y[28]=x(" 测试 ",-1))]),_:2},1032,["onClick"]),D(la,{type:"link",size:"small",onClick:e=>{return s=a,void i.confirm({title:"确认重启",content:`确定要重启设备"${s.deviceName}"吗？`,onOk:()=>{r.success("设备重启指令已发送")}});var s}},{default:h(()=>[D(b(c)),Y[29]||(Y[29]=x(" 重启 ",-1))]),_:2},1032,["onClick"])]),_:2},1024)):I("",!0)]),_:1},8,["data-source","loading","pagination"])]),_:1})]),_:1}),D(k,{span:8},{default:h(()=>[D(M,{title:"实时告警",class:"alert-card"},{extra:h(()=>[D(da,{count:Pe.value.length,"overflow-count":99},{default:h(()=>[D(b(g),{style:{"font-size":"16px"}})]),_:1},8,["count"])]),default:h(()=>[T("div",ye,[(U(!0),w(O,null,C(Pe.value,e=>(U(),w("div",{key:e.id,class:S(["alert-item",`alert-${e.level}`])},[T("div",Me,[T("div",ke,["critical"===e.level?(U(),A(b(a),{key:0})):"warning"===e.level?(U(),A(b(d),{key:1})):(U(),A(b(t),{key:2}))]),T("div",He,[T("div",Ue,_(e.title),1),T("div",we,_(e.deviceName),1)]),T("div",Te,_(Ke(e.time)),1)]),T("div",De,_(e.message),1),T("div",he,[D(la,{type:"link",size:"small",onClick:a=>(e=>{e.acknowledged=!0,r.success("告警已确认")})(e)},{default:h(()=>[...Y[30]||(Y[30]=[x(" 确认 ",-1)])]),_:2},1032,["onClick"]),D(la,{type:"link",size:"small",onClick:a=>(e=>{r.info(`告警详情: ${e.message}`)})(e)},{default:h(()=>[...Y[31]||(Y[31]=[x(" 详情 ",-1)])]),_:2},1032,["onClick"])])],2))),128)),0===Pe.value.length?(U(),w("div",Ne,[D(b(l),{style:{"font-size":"24px",color:"#52c41a"}}),Y[32]||(Y[32]=T("p",null,"暂无告警信息",-1))])):I("",!0)])]),_:1})]),_:1})]),_:1})]),D(fa,{open:ze.visible,"onUpdate:open":Y[2]||(Y[2]=e=>ze.visible=e),title:"设备详情",width:"800px",footer:null},{default:h(()=>[Se.value?(U(),w("div",_e,[D(ua,{column:2,bordered:""},{default:h(()=>[D(ca,{label:"设备名称"},{default:h(()=>[x(_(Se.value.deviceName),1)]),_:1}),D(ca,{label:"设备编号"},{default:h(()=>[x(_(Se.value.deviceId),1)]),_:1}),D(ca,{label:"设备类型"},{default:h(()=>{return[x(_((e=Se.value.deviceType,{camera:"摄像头",sensor:"传感器",network:"网络设备",storage:"存储设备"}[e]||e)),1)];var e}),_:1}),D(ca,{label:"运行状态"},{default:h(()=>[D(ia,{color:Re(Se.value.status)},{default:h(()=>[x(_(We(Se.value.status)),1)]),_:1},8,["color"]),T("div",be,_(qe(Se.value)),1)]),_:1}),D(ca,{label:"IP地址"},{default:h(()=>[x(_(Se.value.ipAddress),1)]),_:1}),D(ca,{label:"端口号"},{default:h(()=>[x(_(Se.value.port),1)]),_:1}),D(ca,{label:"最后在线时间",span:2},{default:h(()=>[x(_(Ke(Se.value.lastOnline)),1)]),_:1})]),_:1}),T("div",xe,[Y[33]||(Y[33]=T("h4",null,"实时性能指标",-1)),D(H,{gutter:16},{default:h(()=>["camera"===Se.value.deviceType?(U(),w(O,{key:0},[D(k,{span:6},{default:h(()=>[D(y,{title:"信号强度",value:Ge(Se.value),suffix:"%"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"存储使用率",value:Se.value.storageUsage,suffix:"%"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"网络流量",value:Se.value.networkTraffic,suffix:"MB/s"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"设备状态",value:We(Se.value.status)},null,8,["value"])]),_:1})],64)):"sensor"===Se.value.deviceType?(U(),w(O,{key:1},[D(k,{span:6},{default:h(()=>[D(y,{title:"电池电量",value:Qe(Se.value),suffix:"%"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"信号质量",value:Ve(Se.value),suffix:"%"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"网络流量",value:Se.value.networkTraffic,suffix:"MB/s"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"设备状态",value:We(Se.value.status)},null,8,["value"])]),_:1})],64)):"network"===Se.value.deviceType?(U(),w(O,{key:2},[D(k,{span:6},{default:h(()=>[D(y,{title:"CPU使用率",value:Se.value.cpuUsage,suffix:"%"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"内存使用率",value:Se.value.memoryUsage,suffix:"%"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"网络流量",value:Se.value.networkTraffic,suffix:"MB/s"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"存储使用率",value:Se.value.storageUsage,suffix:"%"},null,8,["value"])]),_:1})],64)):"storage"===Se.value.deviceType?(U(),w(O,{key:3},[D(k,{span:6},{default:h(()=>[D(y,{title:"存储使用率",value:Se.value.storageUsage,suffix:"%"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"I/O性能",value:Xe(Se.value),suffix:"IOPS"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"网络流量",value:Se.value.networkTraffic,suffix:"MB/s"},null,8,["value"])]),_:1}),D(k,{span:6},{default:h(()=>[D(y,{title:"设备状态",value:We(Se.value.status)},null,8,["value"])]),_:1})],64)):I("",!0)]),_:1})]),T("div",Ae,[Y[34]||(Y[34]=T("h4",null,"告警历史",-1)),D(va,null,{default:h(()=>[(U(!0),w(O,null,C(Se.value.alertHistory,e=>{return U(),A(ma,{key:e.id,color:(a=e.level,{info:"blue",warning:"orange",critical:"red"}[a]||"blue")},{default:h(()=>[T("p",null,_(e.message),1),T("p",Oe,_(Ke(e.time)),1)]),_:2},1032,["color"]);var a}),128))]),_:1})])])):I("",!0)]),_:1},8,["open"])])}}}),[["__scopeId","data-v-ff068b95"]]);export{Ie as default};
